var crop=crop||{};!function(){"use strict";function t(){}var e={simulation:{time:{startDate:"1991-01-01",endDate:"1992-12-31"},switches:{useSecondaryYieldOn:!1,nitrogenResponseOn:!0,waterDeficitResponseOn:!0},init:{percentageFC:1}},site:{latitude:52.2,slope:0,heightNN:1,horizons:[{thickness:.2,organicMatter:.05,sand:.6,clay:.05,sceleton:.02},{thickness:.5,organicMatter:.05,sand:.6,clay:.05,sceleton:.02},{thickness:2,organicMatter:.05,sand:.6,clay:.05,sceleton:.02}]},production:{crops:[{model:"generic",species:[{name:"winter wheat"}],sowingDate:"1991-10-01",plantDryWeight:225,percNTRansplant:.07,finalHarvestDate:"1992-08-01",residuesRemoval:.85,tillageOperations:[{date:"1991-09-01",method:"Plough",depth:30}],irrigations:[{date:"1992-06-01",method:"Sprinkler",eventType:"Fixed",threshold:.2,area:1,amount:5,NConc:0}],organicFertilisers:[{name:"cattle slurry",date:"1992-05-01",method:"Fixed",amount:30}],mineralFertilisers:[{name:"Ammonium Nitrate",date:"1992-04-01",method:"Fixed",amount:40}]},{model:"generic",species:[{name:"winter rye"}],sowingDate:"1992-09-01",plantDryWeight:225,percNTRansplant:.07,finalHarvestDate:"1993-08-01",residuesRemoval:.85,tillageOperations:[],irrigations:[{date:"1993-06-01",method:"Sprinkler",eventType:"Fixed",threshold:.2,area:1,amount:5,NConc:0}],organicFertilisers:[{name:"cattle slurry",date:"1993-05-01",method:"Fixed",amount:30}],mineralFertilisers:[{name:"Ammonium Nitrate",date:"1993-04-01",method:"Fixed",amount:40}]}]}},a="object"==typeof process&&"function"==typeof require,i=("object"==typeof window,"function"==typeof importScripts),r=!1,o=!0,n=0,_=1,s=2,c=3,p=0,l=1,u=2,g=Math.abs,f=Math.acos,v=Math.asin,d=Math.atan,m=Math.ceil,S=Math.cos,h=Math.exp,y=Math.floor,M=function(t){return 0|t},O=Math.log,C=function(t){return Math.log(t)/Math.LN10},N=Math.max,A=Math.min,D=Math.pow,w=Math.round,P=function(t,e){return null===e||void 0===e?e:e.toFixed(t)},R=function(t,e){return null===e||void 0===e?e:parseFloat(e.toFixed(t))},F=Math.sin,T=Math.sqrt,H=function(t){return t.reduce(function(t,e){return t+e})},b=Math.tan,I=Math.PI,x=864e5,L=3600,B=1e4,E=5e5/.218,k=.85,G=.95,U=.55,Y=.44,V=.4,W=.44,q=.42,K=.53,z=.67,j=.6*Y+.2*V+.2*z,J=.7*W+.3*q,X=K,Z=.16,Q={PO_UREAMOLECULARWEIGHT:.06006,PO_UREA_TO_N:.46667,PO_NH3MOLECULARWEIGHT:.01401,PO_NH4MOLECULARWEIGHT:.01401,PO_H2OIONCONCENTRATION:1,PO_PKAHNO2:3.29,PO_PKANH3:6.5,PO_SOM_TO_C:.57,PO_AOM_TO_C:.45},$={TMIN:0,TMAX:1,TAVG:2,GLOBRAD:3,WIND:4,PRECIP:5,SUNHOURS:6,RELHUMID:7,DAYLENGTH:8,F_DIRECTRAD:9,ISODATESTRING:10,DOY:11,EXRAD:12};Date.prototype.isValid=function(){return"Invalid Date"!==this.toDateString()},Date.prototype.isLeapYear=function(){return 366===m((new Date(this.getFullYear()+1,0,1)-new Date(this.getFullYear(),0,1))/x)},Date.prototype.toISODateString=function(){return this.isValid()?this.toISOString().substr(0,10):void 0};var te=function(t,e){if(i){if(t!==n||o)switch("object"==typeof e&&(e=JSON.stringify(e,null,2)),t){case n:postMessage({msg:e,type:"info"});break;case _:postMessage({msg:e,type:"warn"});break;case s:postMessage({msg:e,type:"error"});break;case c:postMessage({msg:e,type:"debug"});break;default:postMessage({msg:e,type:"info"})}}else if(t!==n||o)switch("object"==typeof e&&(e=JSON.stringify(e,null,2)),t){case n:console.log("info: "+e);break;case _:console.log("warn: "+e);break;case s:console.log("error: "+e);break;case c:console.log("debug: "+e);break;default:console.log(e)}if(t===s&&r)throw new Error("object"==typeof e&&null!==e?JSON.stringify(e,null,2):e)},ee=function(t){var e=20,a="",i="\n";a+="Datum     ",a+="	Crop",a+="	TraDef",a+="	Tra",a+="	NDef",a+="	HeatRed",a+="	OxRed",a+="	Stage",a+="	TempSum",a+="	VernF",a+="	DaylF",a+="	IncRoot",a+="	IncLeaf",a+="	IncShoot",a+="	IncFruit",a+="	RelDev",a+="	AbBiom",a+="	Root",a+="	Leaf",a+="	Shoot",a+="	Fruit",a+="	Struct",a+="	Sugar",a+="	Yield",a+="	SumYield",a+="	GroPhot",a+="	NetPhot",a+="	MaintR",a+="	GrowthR",a+="	StomRes",a+="	Height",a+="	LAI",a+="	RootDep",a+="	EffRootDep",a+="	NBiom",a+="	SumNUp",a+="	ActNup",a+="	PotNup",a+="	NFixed",a+="	Target",a+="	CritN",a+="	AbBiomN",a+="	YieldN",a+="	Protein",a+="	NPP",a+="	NPPRoot",a+="	NPPLeaf",a+="	NPPShoot",a+="	NPPFruit",a+="	NPPStruct",a+="	NPPSugar",a+="	GPP",a+="	Ra",a+="	RaRoot",a+="	RaLeaf",a+="	RaShoot",a+="	RaFruit",a+="	RaStruct",a+="	RaSugar";for(var r=0;e>r;r++)a+="	Mois"+r;a+="	Precip",a+="	Irrig",a+="	Infilt",a+="	Surface",a+="	RunOff",a+="	SnowD",a+="	FrostD",a+="	ThawD";for(var r=0;e>r;r++)a+="	PASW-"+r;a+="	SurfTemp",a+="	STemp0",a+="	STemp1",a+="	STemp2",a+="	STemp3",a+="	STemp4",a+="	act_Ev",a+="	act_ET",a+="	ET0",a+="	Kc",a+="	atmCO2",a+="	Groundw",a+="	Recharge",a+="	NLeach";for(var r=0;e>r;r++)a+="	NO3-"+r;a+="	Carb";for(var r=0;e>r;r++)a+="	NH4-"+r;for(var r=0;4>r;r++)a+="	NO2-"+r;for(var r=0;6>r;r++)a+="	SOC-"+r;a+="	SOC-0-30",a+="	SOC-0-200";for(var r=0;1>r;r++)a+="	AOMf-"+r;for(var r=0;1>r;r++)a+="	AOMs-"+r;for(var r=0;1>r;r++)a+="	SMBf-"+r;for(var r=0;1>r;r++)a+="	SMBs-"+r;for(var r=0;1>r;r++)a+="	SOMf-"+r;for(var r=0;1>r;r++)a+="	SOMs-"+r;for(var r=0;1>r;r++)a+="	CBal-"+r;for(var r=0;3>r;r++)a+="	Nmin-"+r;a+="	NetNmin",a+="	Denit",a+="	N2O",a+="	SoilpH",a+="	NEP",a+="	NEE",a+="	Rh",a+="	tmin",a+="	tavg",a+="	tmax",a+="	wind",a+="	globrad",a+="	relhumid",a+="	sunhours",a+=i,a+="TTMMYYY",a+="	[ ]",a+="	[0;1]",a+="	[mm]",a+="	[0;1]",a+="	[0;1]",a+="	[0;1]",a+="	[ ]",a+="	[°Cd]",a+="	[0;1]",a+="	[0;1]",a+="	[kg/ha]",a+="	[kg/ha]",a+="	[kg/ha]",a+="	[kg/ha]",a+="	[0;1]",a+="	[kg/ha]";for(var o=0;6>o;o++)a+="	[kgDM/ha]";a+="	[kgDM/ha]",a+="	[kgDM/ha]",a+="	[kgCH2O/ha]",a+="	[kgCH2O/ha]",a+="	[kgCH2O/ha]",a+="	[kgCH2O/ha]",a+="	[s/m]",a+="	[m]",a+="	[m2/m2]",a+="	[layer]",a+="	[m]",a+="	[kgN/ha]",a+="	[kgN/ha]",a+="	[kgN/ha]",a+="	[kgN/ha]",a+="	[kgN/ha]",a+="	[kgN/kg]",a+="	[kgN/kg]",a+="	[kgN/kg]",a+="	[kgN/kg]",a+="	[kg/kg]",a+="	[kg C ha-1]",a+="	[kg C ha-1]",a+="	[kg C ha-1]",a+="	[kg C ha-1]",a+="	[kg C ha-1]",a+="	[kg C ha-1]",a+="	[kg C ha-1]",a+="	[kg C ha-1]",a+="	[kg C ha-1]",a+="	[kg C ha-1]",a+="	[kg C ha-1]",a+="	[kg C ha-1]",a+="	[kg C ha-1]",a+="	[kg C ha-1]",a+="	[kg C ha-1]";for(var r=0;e>r;r++)a+="	[m3/m3]";a+="	[mm]",a+="	[mm]",a+="	[mm]",a+="	[mm]",a+="	[mm]",a+="	[mm]",a+="	[m]",a+="	[m]";for(var r=0;e>r;r++)a+="	[m3/m3]";a+="	[°C]",a+="	[°C]",a+="	[°C]",a+="	[°C]",a+="	[°C]",a+="	[°C]",a+="	[mm]",a+="	[mm]",a+="	[mm]",a+="	[ ]",a+="	[ppm]",a+="	[m]",a+="	[mm]",a+="	[kgN/ha]";for(var r=0;e>r;r++)a+="	[kgN/m3]";a+="	[kgN/m3]";for(var r=0;e>r;r++)a+="	[kgN/m3]";for(var r=0;4>r;r++)a+="	[kgN/m3]";for(var r=0;6>r;r++)a+="	[kgC/kg]";a+="	[gC m-2]",a+="	[gC m-2]";for(var r=0;1>r;r++)a+="	[kgC/m3]";for(var r=0;1>r;r++)a+="	[kgC/m3]";for(var r=0;1>r;r++)a+="	[kgC/m3]";for(var r=0;1>r;r++)a+="	[kgC/m3]";for(var r=0;1>r;r++)a+="	[kgC/m3]";for(var r=0;1>r;r++)a+="	[kgC/m3]";for(var r=0;1>r;r++)a+="	[kgC/m3]";for(var r=0;3>r;r++)a+="	[kgN/ha]";a+="	[kgN/ha]",a+="	[kgN/ha]",a+="	[kgN/ha]",a+="	[ ]",a+="	[kgC/ha]",a+="	[kgC/ha]",a+="	[kgC/ha]",a+="	[°C]",a+="	[°C]",a+="	[°C]",a+="	[m/s]",a+="	globrad",a+="	[m3/m3]",a+="	[h]",a+=i,ze.writeFileSync(t,a,{encoding:"utf8"})},ae=function(t){var e="",a="\n";e+="Datum     ",e+="	Crop",e+="	Stage",e+="	Height",e+="	Root",e+="	Root10",e+="	Leaf",e+="	Shoot",e+="	Fruit",e+="	AbBiom",e+="	AbGBiom",e+="	Yield",e+="	EarNo",e+="	GrainNo",e+="	LAI",e+="	AbBiomNc",e+="	YieldNc",e+="	AbBiomN",e+="	YieldN",e+="	TotNup",e+="	NGrain",e+="	Protein",e+="	BedGrad",e+="	M0-10",e+="	M10-20",e+="	M20-30",e+="	M30-40",e+="	M40-50",e+="	M50-60",e+="	M60-70",e+="	M70-80",e+="	M80-90",e+="	M0-30",e+="	M30-60",e+="	M60-90",e+="	M0-60",e+="	M0-90",e+="	PAW0-200",e+="	PAW0-130",e+="	PAW0-150",e+="	N0-30",e+="	N30-60",e+="	N60-90",e+="	N90-120",e+="	N0-60",e+="	N0-90",e+="	N0-200",e+="	N0-130",e+="	N0-150",e+="	NH430",e+="	NH460",e+="	NH490",e+="	Co0-10",e+="	Co0-30",e+="	T0-10",e+="	T20-30",e+="	T50-60",e+="	CO2",e+="	NH3",e+="	N2O",e+="	N2",e+="	Ngas",e+="	NFert",e+="	Irrig",e+=a,e+="TTMMYYYY",e+="	[ ]",e+="	[ ]",e+="	[m]",e+="	[kgDM/ha]",e+="	[kgDM/ha]",e+="	[kgDM/ha]",e+="	[kgDM/ha]",e+="	[kgDM/ha]",e+="	[kgDM/ha]",e+="	[kgDM/ha]",e+="	[kgDM/ha]",e+="	[ ]",e+="	[ ]",e+="	[m2/m2]",e+="	[kgN/kgDM",e+="	[kgN/kgDM]",e+="	[kgN/ha]",e+="	[kgN/ha]",e+="	[kgN/ha]",e+="	[-]",e+="	[kg/kgDM]",e+="	[0;1]",e+="	[m3/m3]",e+="	[m3/m3]",e+="	[m3/m3]",e+="	[m3/m3]",e+="	[m3/m3]",e+="	[m3/m3]",e+="	[m3/m3]",e+="	[m3/m3]",e+="	[m3/m3]",e+="	[m3/m3]",e+="	[m3/m3]",e+="	[m3/m3]",e+="	[m3/m3]",e+="	[m3/m3]",e+="	[mm]",e+="	[mm]",e+="	[mm]",e+="	[kgN/ha]",e+="	[kgN/ha]",e+="	[kgN/ha]",e+="	[kgN/ha]",e+="	[kgN/ha]",e+="	[kgN/ha]",e+="	[kgN/ha]",e+="	[kgN/ha]",e+="	[kgN/ha]",e+="	[kgN/ha]",e+="	[kgN/ha]",e+="	[kgN/ha]",e+="	[kgC/ha]",e+="	[kgC/ha]",e+="	[°C]",e+="	[°C]",e+="	[°C]",e+="	[kgC/ha]",e+="	[kgN/ha]",e+="	[-]",e+="	[-]",e+="	[-]",e+="	[kgN/ha]",e+="	[mm]",e+=a,ze.writeFileSync(t,e,{encoding:"utf8"})},ie=function(t,e){var a="",i="\n";a+="userSoilOrganicParameters	po_SOM_SlowDecCoeffStandard	"+e.userSoilOrganicParameters.po_SOM_SlowDecCoeffStandard+i,a+="userSoilOrganicParameters	po_SOM_FastDecCoeffStandard	"+e.userSoilOrganicParameters.po_SOM_FastDecCoeffStandard+i,a+="userSoilOrganicParameters	po_SMB_SlowMaintRateStandard	"+e.userSoilOrganicParameters.po_SMB_SlowMaintRateStandard+i,a+="userSoilOrganicParameters	po_SMB_FastMaintRateStandard	"+e.userSoilOrganicParameters.po_SMB_FastMaintRateStandard+i,a+="userSoilOrganicParameters	po_SMB_SlowDeathRateStandard	"+e.userSoilOrganicParameters.po_SMB_SlowDeathRateStandard+i,a+="userSoilOrganicParameters	po_SMB_FastDeathRateStandard	"+e.userSoilOrganicParameters.po_SMB_FastDeathRateStandard+i,a+="userSoilOrganicParameters	po_SMB_UtilizationEfficiency	"+e.userSoilOrganicParameters.po_SMB_UtilizationEfficiency+i,a+="userSoilOrganicParameters	po_SOM_SlowUtilizationEfficiency	"+e.userSoilOrganicParameters.po_SOM_SlowUtilizationEfficiency+i,a+="userSoilOrganicParameters	po_SOM_FastUtilizationEfficiency	"+e.userSoilOrganicParameters.po_SOM_FastUtilizationEfficiency+i,a+="userSoilOrganicParameters	po_AOM_SlowUtilizationEfficiency	"+e.userSoilOrganicParameters.po_AOM_SlowUtilizationEfficiency+i,a+="userSoilOrganicParameters	po_AOM_FastUtilizationEfficiency	"+e.userSoilOrganicParameters.po_AOM_FastUtilizationEfficiency+i,a+="userSoilOrganicParameters	po_AOM_FastMaxC_to_N	"+e.userSoilOrganicParameters.po_AOM_FastMaxC_to_N+i,a+="userSoilOrganicParameters	po_PartSOM_Fast_to_SOM_Slow	"+e.userSoilOrganicParameters.po_PartSOM_Fast_to_SOM_Slow+i,a+="userSoilOrganicParameters	po_PartSMB_Slow_to_SOM_Fast	"+e.userSoilOrganicParameters.po_PartSMB_Slow_to_SOM_Fast+i,a+="userSoilOrganicParameters	po_PartSMB_Fast_to_SOM_Fast	"+e.userSoilOrganicParameters.po_PartSMB_Fast_to_SOM_Fast+i,a+="userSoilOrganicParameters	po_PartSOM_to_SMB_Slow	"+e.userSoilOrganicParameters.po_PartSOM_to_SMB_Slow+i,a+="userSoilOrganicParameters	po_PartSOM_to_SMB_Fast	"+e.userSoilOrganicParameters.po_PartSOM_to_SMB_Fast+i,a+="userSoilOrganicParameters	po_CN_Ratio_SMB	"+e.userSoilOrganicParameters.po_CN_Ratio_SMB+i,a+="userSoilOrganicParameters	po_LimitClayEffect	"+e.userSoilOrganicParameters.po_LimitClayEffect+i,a+="userSoilOrganicParameters	po_AmmoniaOxidationRateCoeffStandard	"+e.userSoilOrganicParameters.po_AmmoniaOxidationRateCoeffStandard+i,a+="userSoilOrganicParameters	po_NitriteOxidationRateCoeffStandard	"+e.userSoilOrganicParameters.po_NitriteOxidationRateCoeffStandard+i,a+="userSoilOrganicParameters	po_TransportRateCoeff	"+e.userSoilOrganicParameters.po_TransportRateCoeff+i,a+="userSoilOrganicParameters	po_SpecAnaerobDenitrification	"+e.userSoilOrganicParameters.po_SpecAnaerobDenitrification+i,a+="userSoilOrganicParameters	po_ImmobilisationRateCoeffNO3	"+e.userSoilOrganicParameters.po_ImmobilisationRateCoeffNO3+i,a+="userSoilOrganicParameters	po_ImmobilisationRateCoeffNH4	"+e.userSoilOrganicParameters.po_ImmobilisationRateCoeffNH4+i,a+="userSoilOrganicParameters	po_Denit1	"+e.userSoilOrganicParameters.po_Denit1+i,a+="userSoilOrganicParameters	po_Denit2	"+e.userSoilOrganicParameters.po_Denit2+i,a+="userSoilOrganicParameters	po_Denit3	"+e.userSoilOrganicParameters.po_Denit3+i,a+="userSoilOrganicParameters	po_HydrolysisKM	"+e.userSoilOrganicParameters.po_HydrolysisKM+i,a+="userSoilOrganicParameters	po_ActivationEnergy	"+e.userSoilOrganicParameters.po_ActivationEnergy+i,a+="userSoilOrganicParameters	po_HydrolysisP1	"+e.userSoilOrganicParameters.po_HydrolysisP1+i,a+="userSoilOrganicParameters	po_HydrolysisP2	"+e.userSoilOrganicParameters.po_HydrolysisP2+i,a+="userSoilOrganicParameters	po_AtmosphericResistance	"+e.userSoilOrganicParameters.po_AtmosphericResistance+i,a+="userSoilOrganicParameters	po_N2OProductionRate	"+e.userSoilOrganicParameters.po_N2OProductionRate+i,a+="userSoilOrganicParameters	po_Inhibitor_NH3	"+e.userSoilOrganicParameters.po_Inhibitor_NH3+i,a+=i,ze.writeFileSync(t,a,{encoding:"utf8"})},re=function(t,e,a,i){var r="",o="";if(i){r+="	"+t.get_CropName(),r+="	"+P(10,t.get_TranspirationDeficit()),r+="	"+P(10,t.get_ActualTranspiration()),r+="	"+P(10,t.get_CropNRedux()),r+="	"+P(10,t.get_HeatStressRedux()),r+="	"+P(10,t.get_OxygenDeficit()),r+="	"+P(10,t.get_DevelopmentalStage()+1),r+="	"+P(10,t.get_CurrentTemperatureSum()),r+="	"+P(10,t.get_VernalisationFactor()),r+="	"+P(10,t.get_DaylengthFactor()),r+="	"+P(10,t.get_OrganGrowthIncrement(0)),r+="	"+P(10,t.get_OrganGrowthIncrement(1)),r+="	"+P(10,t.get_OrganGrowthIncrement(2)),r+="	"+P(10,t.get_OrganGrowthIncrement(3)),r+="	"+P(10,t.get_RelativeTotalDevelopment()),r+="	"+P(10,t.get_AbovegroundBiomass());for(var n=0,_=t.get_NumberOfOrgans();_>n;n++)r+="	"+P(10,t.get_OrganBiomass(n));for(var n=0,_=6-t.get_NumberOfOrgans();_>n;n++)r+="	0";r+="	"+P(10,t.get_PrimaryCropYield()),r+="	0",r+="	"+P(10,t.get_GrossPhotosynthesisHaRate()),r+="	"+P(10,t.get_NetPhotosynthesis()),r+="	"+P(10,t.get_MaintenanceRespirationAS()),r+="	"+P(10,t.get_GrowthRespirationAS()),r+="	"+P(10,t.get_StomataResistance()),r+="	"+P(10,t.get_CropHeight()),r+="	"+P(10,t.get_LeafAreaIndex()),r+="	"+P(10,t.get_RootingDepth()),r+="	"+P(10,t.getEffectiveRootingDepth()),r+="	"+P(10,t.get_TotalBiomassNContent()),r+="	"+P(10,t.get_SumTotalNUptake()),r+="	"+P(10,t.get_ActNUptake()),r+="	"+P(10,t.get_PotNUptake()),r+="	0",r+="	"+P(10,t.get_TargetNConcentration()),r+="	"+P(10,t.get_CriticalNConcentration()),r+="	"+P(10,t.get_AbovegroundBiomassNConcentration()),r+="	"+P(10,t.get_PrimaryYieldNConcentration()),r+="	"+P(10,t.get_RawProteinConcentration()),r+="	"+P(10,t.get_NetPrimaryProduction());for(var n=0;n<t.get_NumberOfOrgans();n++)r+="	"+P(10,t.get_OrganSpecificNPP(n));for(var n=t.get_NumberOfOrgans();6>n;n++)r+="	0.0";r+="	"+P(10,t.get_GrossPrimaryProduction()),r+="	"+P(10,t.get_AutotrophicRespiration());for(var n=0;n<t.get_NumberOfOrgans();n++)r+="	"+P(10,t.get_OrganSpecificTotalRespired(n));for(var n=t.get_NumberOfOrgans();6>n;n++)r+="	0.0";o+="	"+t.get_CropName(),o+="	"+P(10,t.get_DevelopmentalStage()+1),o+="	"+P(10,t.get_CropHeight()),o+="	"+P(10,t.get_OrganBiomass(0)),o+="	"+P(10,t.get_OrganBiomass(0)),o+="	"+P(10,t.get_OrganBiomass(1)),o+="	"+P(10,t.get_OrganBiomass(2)),o+="	"+P(10,t.get_OrganBiomass(3)),o+="	"+P(10,t.get_AbovegroundBiomass()),o+="	"+P(10,t.get_AbovegroundBiomass()),o+="	"+P(10,t.get_PrimaryCropYield()),o+="	0",o+="	0",o+="	"+P(10,t.get_LeafAreaIndex()),o+="	"+P(10,t.get_AbovegroundBiomassNConcentration()),o+="	"+P(10,t.get_PrimaryYieldNConcentration()),o+="	"+P(10,t.get_AbovegroundBiomassNContent()),o+="	"+P(10,t.get_PrimaryYieldNContent()),o+="	"+P(10,t.get_TotalBiomassNContent()),o+="	0",o+="	"+P(10,t.get_RawProteinConcentration())}else r+="	",r+="	1.00",r+="	0.00",r+="	1.00",r+="	1.00",r+="	1.00",r+="	0",r+="	0.0",r+="	0.00",r+="	0.00",r+="	0.00",r+="	0.00",r+="	0.00",r+="	0.00",r+="	0.00",r+="	0.0",r+="	0.0",r+="	0.0",r+="	0.0",r+="	0.0",r+="	0.0",r+="	0.0",r+="	0.0",r+="	0.0",r+="	0.000",r+="	0.00",r+="	0.000",r+="	0.000",r+="	0.00",r+="	0.00",r+="	0.00",r+="	0",r+="	0.0",r+="	0.0",r+="	0.00",r+="	0.00",r+="	0.00",r+="	0.00",r+="	0.000",r+="	0.000",r+="	0.000",r+="	0.000",r+="	0.000",r+="	0.0",r+="	0.0",r+="	0.0",r+="	0.0",r+="	0.0",r+="	0.0",r+="	0.0",r+="	0.0",r+="	0.0",r+="	0.0",r+="	0.0",r+="	0.0",r+="	0.0",r+="	0.0",r+="	0.0",o+="	",o+="	0",o+="	0.00",o+="	0.0",o+="	0.0",o+="	0.0",o+="	0.0",o+="	0.0",o+="	0.0",o+="	0.0",o+="	0.0",o+="	0",o+="	0",o+="	0.00",o+="	0.000",o+="	0.0",o+="	0.00",o+="	0.0",o+="	0.0",o+="	0",o+="	0.00";ze.appendFileSync(a,o,{encoding:"utf8"}),ze.appendFileSync(e,r,{encoding:"utf8"})},oe=function(t,e,a,i,r,o){for(var n="",_="",s="\n",c=i.soilTemperature(),p=i.soilMoisture(),l=i.soilOrganic(),u=i.soilColumn(),g=i.soilColumnNC(),f=i.soilTransport(),v=20,d=0;v>d;d++)n+="	"+P(10,p.get_SoilMoisture(d));n+="	"+P(10,r.dataForTimestep($.PRECIP,o)),n+="	"+P(10,i.dailySumIrrigationWater()),n+="	"+P(10,p.get_Infiltration()),n+="	"+P(10,p.get_SurfaceWaterStorage()),n+="	"+P(10,p.get_SurfaceRunOff()),n+="	"+P(10,p.get_SnowDepth()),n+="	"+P(10,p.get_FrostDepth()),n+="	"+P(10,p.get_ThawDepth());for(var d=0;v>d;d++)n+="	"+P(10,p.get_SoilMoisture(d)-g[d].get_PermanentWiltingPoint());n+="	"+P(10,c.get_SoilSurfaceTemperature());for(var d=0;5>d;d++)n+="	"+P(10,c.get_SoilTemperature(d));n+="	"+P(10,p.get_ActualEvaporation()),n+="	"+P(10,p.get_Evapotranspiration()),n+="	"+P(10,p.get_ET0()),n+="	"+P(10,p.get_KcFactor()),n+="	"+P(10,i.get_AtmosphericCO2Concentration()),n+="	"+P(10,i.get_GroundwaterDepth()),n+="	"+P(10,p.get_GroundwaterRecharge()),n+="	"+P(10,f.get_NLeaching());for(var d=0;v>d;d++)n+="	"+P(10,u.soilLayer(d).get_SoilNO3());n+="	"+P(10,u.soilLayer(0).get_SoilCarbamid());for(var d=0;v>d;d++)n+="	"+P(10,u.soilLayer(d).get_SoilNH4());for(var d=0;4>d;d++)n+="	"+P(10,u.soilLayer(d).get_SoilNO2());for(var d=0;6>d;d++)n+="	"+P(10,u.soilLayer(d).vs_SoilOrganicCarbon());for(var m=0,d=0;3>d;d++)m+=u.soilLayer(d).vs_SoilOrganicCarbon()*u.soilLayer(d).vs_SoilBulkDensity()*u.soilLayer(d).vs_LayerThickness*1e3;n+="	"+P(10,m);for(var S=0,d=0;v>d;d++)S+=u.soilLayer(d).vs_SoilOrganicCarbon()*u.soilLayer(d).vs_SoilBulkDensity()*u.soilLayer(d).vs_LayerThickness*1e3;n+="	"+P(10,S);for(var d=0;1>d;d++)n+="	"+P(10,l.get_AOM_FastSum(d));for(var d=0;1>d;d++)n+="	"+P(10,l.get_AOM_SlowSum(d));for(var d=0;1>d;d++)n+="	"+P(10,l.get_SMB_Fast(d));for(var d=0;1>d;d++)n+="	"+P(10,l.get_SMB_Slow(d));for(var d=0;1>d;d++)n+="	"+P(10,l.get_SOM_Fast(d));for(var d=0;1>d;d++)n+="	"+P(10,l.get_SOM_Slow(d));for(var d=0;1>d;d++)n+="	"+P(10,l.get_CBalance(d));for(var d=0;3>d;d++)n+="	"+P(10,l.get_NetNMineralisationRate(d));n+="	"+P(10,l.get_NetNMineralisation()),n+="	"+P(10,l.get_Denitrification()),n+="	"+P(10,l.get_N2O_Produced()),n+="	"+P(10,u.soilLayer(0).get_SoilpH()),n+="	"+P(10,l.get_NetEcosystemProduction()),n+="	"+P(10,l.get_NetEcosystemExchange()),n+="	"+P(10,l.get_DecomposerRespiration()),n+="	"+P(10,r.dataForTimestep($.TMIN,o)),n+="	"+P(10,r.dataForTimestep($.TAVG,o)),n+="	"+P(10,r.dataForTimestep($.TMAX,o)),n+="	"+P(10,r.dataForTimestep($.WIND,o)),n+="	"+P(10,r.dataForTimestep($.GLOBRAD,o)),n+="	"+P(10,r.dataForTimestep($.RELHUMID,o)),n+="	"+P(10,r.dataForTimestep($.SUNHOURS,o)),n+=s,_+="	"+P(10,p.get_PercentageSoilCoverage());for(var d=0;9>d;d++)_+="	"+P(10,p.get_SoilMoisture(d));_+="	"+P(10,(p.get_SoilMoisture(0)+p.get_SoilMoisture(1)+p.get_SoilMoisture(2))/3),_+="	"+P(10,(p.get_SoilMoisture(3)+p.get_SoilMoisture(4)+p.get_SoilMoisture(5))/3),_+="	"+P(10,(p.get_SoilMoisture(6)+p.get_SoilMoisture(7)+p.get_SoilMoisture(8))/3);for(var h=0,d=0;6>d;d++)h+=p.get_SoilMoisture(d);_+="	"+P(10,h/6);for(var y=0,d=0;9>d;d++)y+=p.get_SoilMoisture(d);_+="	"+P(10,y/9);for(var M=0,d=0;20>d;d++)M+=p.get_SoilMoisture(d)-g[d].get_PermanentWiltingPoint();_+="	"+P(10,.1*M*1e3);for(var O=0,d=0;13>d;d++)O+=p.get_SoilMoisture(d)-g[d].get_PermanentWiltingPoint();_+="	"+P(10,.1*O*1e3);for(var C=0,d=0;15>d;d++)C+=p.get_SoilMoisture(d)-g[d].get_PermanentWiltingPoint();_+="	"+P(10,.1*C*1e3),_+="	"+P(10,(u.soilLayer(0).get_SoilNmin()+u.soilLayer(1).get_SoilNmin()+u.soilLayer(2).get_SoilNmin())/3*.3*1e4),_+="	"+P(10,(u.soilLayer(3).get_SoilNmin()+u.soilLayer(4).get_SoilNmin()+u.soilLayer(5).get_SoilNmin())/3*.3*1e4),_+="	"+P(10,(u.soilLayer(6).get_SoilNmin()+u.soilLayer(7).get_SoilNmin()+u.soilLayer(8).get_SoilNmin())/3*.3*1e4),_+="	"+P(10,(u.soilLayer(9).get_SoilNmin()+u.soilLayer(10).get_SoilNmin()+u.soilLayer(11).get_SoilNmin())/3*.3*1e4);for(var N=0,d=0;6>d;d++)N+=u.soilLayer(d).get_SoilNmin();_+="	"+P(10,.1*N*1e4);for(var A=0,d=0;9>d;d++)A+=u.soilLayer(d).get_SoilNmin();_+="	"+P(10,.1*A*1e4);for(var D=0,d=0;20>d;d++)D+=u.soilLayer(d).get_SoilNmin();_+="	"+P(10,.1*D*1e4);for(var w=0,d=0;13>d;d++)w+=u.soilLayer(d).get_SoilNmin();_+="	"+P(10,.1*w*1e4);for(var R=0,d=0;15>d;d++)R+=u.soilLayer(d).get_SoilNmin();_+="	"+P(10,.1*R*1e4),_+="	"+P(10,(u.soilLayer(0).get_SoilNH4()+u.soilLayer(1).get_SoilNH4()+u.soilLayer(2).get_SoilNH4())/3*.3*1e4),_+="	"+P(10,(u.soilLayer(3).get_SoilNH4()+u.soilLayer(4).get_SoilNH4()+u.soilLayer(5).get_SoilNH4())/3*.3*1e4),_+="	"+P(10,(u.soilLayer(6).get_SoilNH4()+u.soilLayer(7).get_SoilNH4()+u.soilLayer(8).get_SoilNH4())/3*.3*1e4),_+="	"+P(10,.1*l.get_SoilOrganicC(0)*1e4),_+="	"+P(10,(l.get_SoilOrganicC(0)+l.get_SoilOrganicC(1)+l.get_SoilOrganicC(2))/3*.3*1e4),_+="	"+P(10,c.get_SoilTemperature(0)),_+="	"+P(10,c.get_SoilTemperature(2)),_+="	"+P(10,c.get_SoilTemperature(5)),_+="	"+P(10,l.get_DecomposerRespiration()),_+="	"+P(10,l.get_NH3_Volatilised()),_+="	0",_+="	0",_+="	0",_+="	"+P(10,i.dailySumFertiliser()),_+="	"+P(10,i.dailySumIrrigationWater()),_+=s,ze.appendFileSync(e,_,{encoding:"utf8"}),ze.appendFileSync(t,n,{encoding:"utf8"})},ne=function(t,e){if(r){var a=Array.prototype.slice.call(t),i=0,o=0,n=e||"",_=function(t){return t instanceof Function?!1:"object"==typeof t?null===t||void 0===t:"string"==typeof t||"boolean"===t?null===t||void 0===t:isNaN(t)||null===t||void 0===t||1/0===t},s=function(t){te(c,n+" args: "+JSON.stringify(t,null,2))};for(i=0,o=a.length;o>i;i++){var p=a[i];if(p&&"object"==typeof p){if(Array.isArray(p))p.forEach(function(t){if(t&&"object"==typeof t){if(_e(t)){for(i=0,o=p.length;o>i;i++)if(_(p[i]))throw s(p),new Error(p)}else if(Array.isArray(t))t.forEach(function(e){if(_(e))throw s(t),new Error(e)});else for(var e in t)if(t.hasOwnProperty(e)&&_(t[e]))throw s(t),new Error(e)}else if(_(t))throw s(p),new Error(t)});else if(_e(p)){for(i=0,o=p.length;o>i;i++)if(_(p[i]))throw s(p),new Error(p)}else for(var l in p)if(p.hasOwnProperty(l)&&_(p[l]))throw s(p),new Error(p)}else if(_(p))throw s(a),new Error(p)}}},_e=function(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float64Array||t instanceof Float64Array},se=function(){return r?"object"!=typeof arguments[0]||void 0===arguments[0].length||Array.isArray(arguments[0])||_e(arguments[0])?void(2===arguments.length?("string"==typeof arguments[1]&&te(c,arguments[1]+" = "+("object"==typeof arguments[0]?JSON.stringify(arguments[0],null,1):arguments[0])),"string"==typeof arguments[0]&&te(c,arguments[0]+" = "+("object"==typeof arguments[1]?JSON.stringify(arguments[1],null,1):arguments[1]))):"string"==typeof arguments[0]?te(c,arguments[0]):te(c,arguments[0])):ne(arguments[0],arguments[1]):void 0},ce={texture2KA5:function(t,e){t=100*t,e=100*e;var a="",i=100-(t+e);if(t+e+i!=100)throw new Error("(sand + clay + silt) != 100: "+(t+e+i));return a=5>=e?10>=i?"Ss":25>=i?"Su2":40>=i?"Su3":50>=i?"Su4":80>=i?"Us":"Uu":8>=e?10>=i?"St2":25>=i?"Sl2":40>=i?"Su3":50>=i?"Su4":80>=i?"Us":"Uu":12>=e?10>=i?"St2":40>=i?"Sl3":50>=i?"Slu":65>=i?"Uls":"Ut2":17>=e?10>=i?"St2":40>=i?"Sl4":50>=i?"Slu":65>=i?"Uls":"Ut3":25>=e?15>=i?"St3":30>=i?"Ls4":40>=i?"Ls3":50>=i?"Ls2":65>=i?"Lu":"Ut4":30>=e?15>=i?"Ts4":30>=i?"Lts":50>=i?"Lt2":65>=i?"Lu":"Tu4":35>=e?15>=i?"Ts4":30>=i?"Lts":50>=i?"Lt2":65>=i?"Tu3":"Tu4":45>=e?15>=i?"Ts3":30>=i?"Lts":50>=i?"Lt3":"Tu3":65>=e?15>=i?"Ts2":30>=i?"Tl":"Tu2":"Tt"},KA52sand:function(t){var e=0;return e="fS"==t?.84:"fSms"==t?.86:"fSgs"==t?.88:"gS"==t?.93:"mSgs"==t?.96:"mSfs"==t?.93:"mS"==t?.96:"Ss"==t?.93:"Sl2"==t?.76:"Sl3"==t?.65:"Sl4"==t?.6:"Slu"==t?.43:"St2"==t?.84:"St3"==t?.71:"Su2"==t?.8:"Su3"==t?.63:"Su4"==t?.56:"Ls2"==t?.34:"Ls3"==t?.44:"Ls4"==t?.56:"Lt2"==t?.3:"Lt3"==t?.2:"LtS"==t?.42:"Lu"==t?.19:"Uu"==t?.1:"Uls"==t?.3:"Us"==t?.31:"Ut2"==t?.13:"Ut3"==t?.11:"Ut4"==t?.09:"Utl"==t?.19:"Tt"==t?.17:"Tl"==t?.17:"Tu2"==t?.12:"Tu3"==t?.1:"Ts3"==t?.52:"Ts2"==t?.37:"Ts4"==t?.62:"Tu4"==t?.05:"L"==t?.35:"S"==t?.93:"U"==t?.1:"T"==t?.17:"HZ1"==t?.3:"HZ2"==t?.3:"HZ3"==t?.3:"Hh"==t?.15:"Hn"==t?.15:.66},KA52clay:function(t){var e=0;return"fS"==t?e=.02:"fSms"==t?e=.02:"fSgs"==t?e=.02:"gS"==t?e=.02:"mSgs"==t?e=.02:"mSfs"==t?e=.02:"mS"==t?e=.02:"Ss"==t?e=.02:"Sl2"==t?e=.06:"Sl3"==t?e=.1:"Sl4"==t?e=.14:"Slu"==t?e=.12:"St2"==t?e=.11:"St3"==t?e=.21:"Su2"==t?e=.02:"Su3"==t?e=.04:"Su4"==t?e=.04:"Ls2"==t?e=.21:"Ls3"==t?e=.21:"Ls4"==t?e=.21:"Lt2"==t?e=.3:"Lt3"==t?e=.4:"Lts"==t?e=.35:"Lu"==t?e=.23:"Uu"==t?e=.04:"Uls"==t?e=.12:"Us"==t?e=.04:"Ut2"==t?e=.1:"Ut3"==t?e=.14:"Ut4"==t?e=.21:"Utl"==t?e=.23:"Tt"==t?e=.82:"Tl"==t?e=.55:"Tu2"==t?e=.55:"Tu3"==t?e=.37:"Ts3"==t?e=.4:"Ts2"==t?e=.55:"Ts4"==t?e=.3:"Tu4"==t?e=.3:"L"==t?e=.31:"S"==t?e=.02:"U"==t?e=.04:"T"==t?e=.82:"HZ1"==t?e=.15:"HZ2"==t?e=.15:"HZ3"==t?e=.15:"Hh"==t?e=.1:"Hn"==t&&(e=.1),e},ld_eff2trd:function(t,e){var a=0;switch(t){case 1:a=1.3;break;case 2:a=1.5;break;case 3:a=1.7;break;case 4:a=1.9;break;case 5:a=2.1;break;default:a=1.7}return a-.9*e},saxton:function(t,e,a,i){function r(t,e){var a=(O(1500)-O(33))/(O(t)-O(e));return 1/a}function o(t,e,a){return t+e-.097*a+.043}function n(t,e,a){var i=-.251*t+.195*e+.011*a+.006*t*a-.027*e*a+.452*t*e+.299;return i+(1.283*D(i,2)-.374*i-.015)}function _(t,e,a){var i=.278*t+.034*e+.022*a-.018*t*a-.027*e*a-.584*t*e+.078;return i+(.636*i-.107)}function s(t,e,a){var i=-.024*t+.487*e+.006*a+.005*t*a-.013*e*a+.068*t*e+.031;return i+(.14*i-.02)}var c=n(t,e,0),p=_(t,e,0),l=o(c,p,t),u=s(t,e,0),g=2.65*(1-l),f=100*t,v=100*e,d=D(f,2),m=D(v,2),S=h(-4.396-.0715*v-488e-6*d-4285e-8*d*v),y=-3.14-.00222*m-3484e-8*d*v,M=.332-7251e-7*f+.1276*C(v),N=D(.3333/S,1/y),A=D(15/S,1/y),w=2.65*(1-M);return{saxton_06:{FC:c*(1-i),theta_S33:p,PWP:u*(1-i),S:l*(1-i),BD:1e3*g,lambda:r(c,u)},saxton_86:{FC:N*(1-i),SAT:M*(1-i),PWP:A*(1-i),BD:1e3*w}}},texture2lambda:function(t,e){return 2*t*t*.575+.1*e+.35*(1-t-e)},soilCharacteristicsKA5:function(t){te(n,"Read soil characteristics from KA5");var e=t.vs_SoilTexture,a=t.vs_SoilStoneContent,i=0,r=0,o=0;if(""!==e){var _=t.vs_SoilRawDensity()/1e3,s=100*t.vs_SoilOrganicMatter(),c=0,p=0;1.1>_?(c=1.1,p=1.1):_>=1.1&&1.3>_?(c=1.1,p=1.3):_>=1.3&&1.5>_?(c=1.3,p=1.5):_>=1.5&&1.7>_?(c=1.5,p=1.7):_>=1.7&&1.9>_?(c=1.7,p=1.9):_>=1.9&&(c=1.9,p=1.9),("Hh"==e||"Hn"==e)&&(c=-1,p=-1);var l=ce.readPrincipalSoilCharacteristicData(e,c),u=l.sat,g=l.fc,f=l.pwp,v=ce.readPrincipalSoilCharacteristicData(e,p),d=v.sat,m=v.fc,S=v.pwp;if(l.initialized&&v.initialized){var h=0,y=0;s>=0&&1>s?(h=0,y=0):s>=1&&1.5>s?(h=0,y=1.5):s>=1.5&&3>s?(h=1.5,y=3):s>=3&&6>s?(h=3,y=6):s>=6&&11.5>s?(h=6,y=11.5):s>=11.5&&(h=11.5,y=11.5),("Hh"==e||"Hn"==e)&&(h=0,y=0);var M=0,O=0,C=0;0!==h&&(l=ce.readSoilCharacteristicModifier(e,h),O=l.sat,M=l.fc,C=l.pwp);var N=0,A=0,D=0;0!==y&&(v=ce.readSoilCharacteristicModifier(e,y),A=v.sat,N=v.fc,D=v.pwp);var w=g;.5>m&&g>=1?w=g:.5>g&&m>=1?w=m:p!=c&&(w=(_-c)/(p-c)*(m-g)+g);var P=u;.5>d&&u>=1?P=u:.5>u&&d>=1?P=d:p!=c&&(P=(_-c)/(p-c)*(d-u)+u);var R=f;.5>S&&f>=1?R=f:.5>f&&S>=1?R=S:p!=c&&(R=(_-c)/(p-c)*(S-f)+f);var F=M,T=O,H=C;y!=h&&(F=(s-h)/(y-h)*(N-M)+M,T=(s-h)/(y-h)*(A-O)+O,H=(s-h)/(y-h)*(D-C)+C),i=(w+F)/100,r=(P+T)/100,o=(R+H)/100,i*=1-a,r*=1-a,o*=1-a}}t.vs_FieldCapacity=i,t.vs_Saturation=r,t.vs_PermanentWiltingPoint=o},readPrincipalSoilCharacteristicData:function(t,e){for(var a=function(t){this.sat=0,this.fc=0,this.pwp=0,this.initialized=void 0===t?!1:t},i=(me.columns,me.rows),r={},o=0,n=i.length;n>o;o++){var _=i[o];if(_.soil_type===t){var s=_.air_capacity,c=_.field_capacity,p=_.n_field_capacity,l=new a(!0);l.sat=s+c,l.fc=c,l.pwp=c-p,void 0===r[t]&&(r[t]={}),r[t][M(_["soil_raw_density*10"])]=l}}var u=M(10*e);if(r[t][u])return r[t][u];for(;!r[t][u]&&u>=11&&19>=u;)u+=15>u?1:-1;return r[t][u]?r[t][u]:new a},readSoilCharacteristicModifier:function(t,e){for(var a=function(t){this.sat=0,this.fc=0,this.pwp=0,this.initialized=void 0===t?!1:t},i=(Se.columns,Se.rows),r={},o=0,n=i.length;n>o;o++){var _=i[o];if(_.soil_type===t){var s=_.air_capacity,c=_.field_capacity,p=_.n_field_capacity,l=new a(!0);l.sat=s+c,l.fc=c,l.pwp=c-p,void 0===r[t]&&(r[t]={}),r[t][M(_.organic_matter)]=l}}var u=M(10*e);return r[t][u]?r[t][u]:new a},sunshine2globalRadiation:function(t,e,a,i){var r=4*d(1),o=-23.4*S(2*r*(t+10)/365),n=F(o*r/180)*F(a*r/180),_=S(o*r/180)*S(a*r/180),s=12*(r+2*v(n/_))/r,c=12*(r+2*v((-F(8*r/180)+n)/_))/r,p=3600*(n*s+24/r*_*T(1-n/_*(n/_))),l=1300*p*h(-.14/(p/(3600*s))),u=.2*l,g=e/c*l+(1-e/c)*u,f=g/1e4;return i?f/100:f}},pe=function(t,e,a){this.organId=t,this.yieldPercentage=e,this.yieldDryMatter=a},le=function(t,e){this.nitrateConcentration=t||0,this.sulfateConcentration=e||0},ue=function(){this.vo_AOM_Slow=0,this.vo_AOM_Fast=0,this.vo_AOM_SlowDecRate=0,this.vo_AOM_FastDecRate=0,this.vo_AOM_SlowDecCoeff=0,this.vo_AOM_FastDecCoeff=0,this.vo_AOM_SlowDecCoeffStandard=1,this.vo_AOM_FastDecCoeffStandard=1,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=0,this.vo_CN_Ratio_AOM_Slow=1,this.vo_CN_Ratio_AOM_Fast=1,this.vo_DaysAfterApplication=0,this.vo_AOM_DryMatterContent=0,this.vo_AOM_NH4Content=0,this.vo_AOM_SlowDelta=0,this.vo_AOM_FastDelta=0,this.incorporation=!1},ge=function(){this._ps_LayerThickness=.1,this.ps_ProfileDepth=2,this.ps_LayerThickness=new Float64Array(20),this.ps_MaxMineralisationDepth=.4,this.pc_NitrogenResponseOn=!0,this.pc_WaterDeficitResponseOn=!0,this.pc_LowTemperatureStressResponseOn=!1,this.pc_HighTemperatureStressResponseOn=!1,this.pc_EmergenceFloodingControlOn=!1,this.pc_EmergenceMoistureControlOn=!1;for(var t=0;t<this.ps_LayerThickness.length;t++)this.ps_LayerThickness[t]=this._ps_LayerThickness;this.ps_NumberOfLayers=function(){return 20}},fe=function(){this.vs_Latitude=60,this.vs_Slope=.01,this.vs_HeightNN=50,this.vs_GroundwaterDepth=70,this.vs_Soil_CN_Ratio=10,this.vs_DrainageCoeff=1,this.vq_NDeposition=30,this.vs_MaxEffectiveRootingDepth=2},ve=function(){this.vs_SoilSandContent=.4,this.vs_SoilClayContent=.05,this.vs_SoilpH=6.9,this.vs_SoilStoneContent=-1,this.vs_Lambda=-1,this.vs_FieldCapacity=-1,this.vs_Saturation=-1,this.vs_PermanentWiltingPoint=-1,this.vs_SoilTexture="",this.vs_SoilAmmonium=-1,this.vs_SoilNitrate=-1,this._vs_SoilRawDensity=-1,this._vs_SoilBulkDensity=-1,this._vs_SoilOrganicCarbon=-1,this._vs_SoilOrganicMatter=-1,this.isValid=function(){var t=!0;return this.vs_FieldCapacity<=0&&(te(_,"SoilParameters::Error: No field capacity defined in database for "+this.vs_SoilTexture+" , RawDensity: "+this._vs_SoilRawDensity),t=!1),this.vs_Saturation<=0&&(te(_,"SoilParameters::Error: No saturation defined in database for "+this.vs_SoilTexture+" , RawDensity: "+this._vs_SoilRawDensity),t=!1),this.vs_PermanentWiltingPoint<=0&&(te(_,"SoilParameters::Error: No saturation defined in database for "+this.vs_SoilTexture+" , RawDensity: "+this._vs_SoilRawDensity),t=!1),this.vs_SoilSandContent<0&&(te(_,"SoilParameters::Error: Invalid soil sand content: "+this.vs_SoilSandContent),t=!1),this.vs_SoilClayContent<0&&(te(_,"SoilParameters::Error: Invalid soil clay content: "+this.vs_SoilClayContent),t=!1),this.vs_SoilpH<0&&(te(_,"SoilParameters::Error: Invalid soil ph value: "+this.vs_SoilpH),t=!1),this.vs_SoilStoneContent<0&&(te(_,"SoilParameters::Error: Invalid soil stone content: "+this.vs_SoilStoneContent),t=!1),this.vs_Saturation<0&&(te(_,"SoilParameters::Error: Invalid value for saturation: "+this.vs_Saturation),t=!1),this.vs_PermanentWiltingPoint<0&&(te(_,"SoilParameters::Error: Invalid value for permanent wilting point: "+this.vs_PermanentWiltingPoint),t=!1),t
},this.vs_SoilRawDensity=function(){return 1e3*this._vs_SoilRawDensity},this.set_vs_SoilRawDensity=function(t){this._vs_SoilRawDensity=t},this.vs_SoilOrganicCarbon=function(){return this._vs_SoilOrganicMatter<0?this._vs_SoilOrganicCarbon:this._vs_SoilOrganicMatter*Q.PO_SOM_TO_C},this.set_vs_SoilOrganicCarbon=function(t){this._vs_SoilOrganicCarbon=t},this.vs_SoilOrganicMatter=function(){return this._vs_SoilOrganicCarbon<0?this._vs_SoilOrganicMatter:this._vs_SoilOrganicCarbon/Q.PO_SOM_TO_C},this.set_vs_SoilOrganicMatter=function(t){this._vs_SoilOrganicMatter=t},this.vs_SoilSiltContent=function(){return this.vs_SoilSandContent-.001<0&&this.vs_SoilClayContent-.001<0?0:1-this.vs_SoilSandContent-this.s_SoilClayContent},this.vs_SoilBulkDensity=function(){return this._vs_SoilRawDensity<0?this._vs_SoilBulkDensity:1e3*(this._vs_SoilRawDensity+.009*100*this.vs_SoilClayContent)},this.set_vs_SoilBulkDensity=function(t){this._vs_SoilBulkDensity=t},this.texture2lambda=function(t,e){return ce.texture2lambda(t,e)}},de=function(){this.userCropParameters={pc_Tortuosity:.002,pc_CanopyReflectionCoefficient:.08,pc_ReferenceMaxAssimilationRate:30,pc_ReferenceLeafAreaIndex:1.44,pc_MaintenanceRespirationParameter2:44,pc_MaintenanceRespirationParameter1:.08,pc_MinimumNConcentrationRoot:.005,pc_MinimumAvailableN:75e-6,pc_ReferenceAlbedo:.23,pc_StomataConductanceAlpha:40,pc_SaturationBeta:2.5,pc_GrowthRespirationRedux:.7,pc_MaxCropNDemand:6,pc_GrowthRespirationParameter2:38,pc_GrowthRespirationParameter1:.1},this.userEnvironmentParameters={p_MaxGroundwaterDepth:18,p_MinGroundwaterDepth:20,p_UseAutomaticIrrigation:!1,p_UseNMinMineralFertilisingMethod:!1,p_LayerThickness:.1,p_NumberOfLayers:20,p_StartPVIndex:0,p_Albedo:.23,p_AthmosphericCO2:380,p_WindSpeedHeight:2,p_UseSecondaryYields:!0,p_JulianDayAutomaticFertilising:74,p_timeStep:1,p_LeachingDepth:1.6,p_MinGroundwaterDepthMonth:3},this.userSoilMoistureParameters={pm_CriticalMoistureDepth:.3,pm_SaturatedHydraulicConductivity:8640,pm_SurfaceRoughness:.02,pm_HydraulicConductivityRedux:.1,pm_SnowAccumulationTresholdTemperature:1.8,pm_KcFactor:.75,pm_TemperatureLimitForLiquidWater:-3,pm_CorrectionSnow:1.14,pm_CorrectionRain:1,pm_SnowMaxAdditionalDensity:.25,pm_NewSnowDensityMin:.1,pm_SnowRetentionCapacityMin:.05,pm_RefreezeParameter2:.36,pm_RefreezeParameter1:1.5,pm_RefreezeTemperature:-1.7,pm_SnowMeltTemperature:.31,pm_SnowPacking:.01,pm_SnowRetentionCapacityMax:.17,pm_EvaporationZeta:40,pm_XSACriticalSoilMoisture:.1,pm_MaximumEvaporationImpactDepth:5,pm_MaxPercolationRate:10,pm_GroundwaterDischarge:3},this.userSoilTemperatureParameters={pt_SoilMoisture:.25,pt_NTau:.65,pt_InitialSurfaceTemperature:10,pt_BaseTemperature:9.5,pt_QuartzRawDensity:2650,pt_DensityAir:1.25,pt_DensityWater:1e3,pt_SpecificHeatCapacityAir:1005,pt_SpecificHeatCapacityQuartz:750,pt_SpecificHeatCapacityWater:4192,pt_SoilAlbedo:.7,pt_DensityHumus:1300,pt_SpecificHeatCapacityHumus:1920},this.userSoilTransportParameters={pq_DispersionLength:.049,pq_AD:.002,pq_DiffusionCoefficientStandard:214e-6},this.userSoilOrganicParameters={po_SOM_SlowDecCoeffStandard:43e-6,po_SOM_FastDecCoeffStandard:14e-5,po_SMB_SlowMaintRateStandard:.001,po_SMB_FastMaintRateStandard:.01,po_SMB_SlowDeathRateStandard:.001,po_SMB_FastDeathRateStandard:.01,po_SMB_UtilizationEfficiency:0,po_SOM_SlowUtilizationEfficiency:.4,po_SOM_FastUtilizationEfficiency:.5,po_AOM_SlowUtilizationEfficiency:.4,po_AOM_FastUtilizationEfficiency:.1,po_AOM_FastMaxC_to_N:1e3,po_PartSOM_Fast_to_SOM_Slow:.3,po_PartSMB_Slow_to_SOM_Fast:.6,po_PartSMB_Fast_to_SOM_Fast:.6,po_PartSOM_to_SMB_Slow:.015,po_PartSOM_to_SMB_Fast:2e-4,po_CN_Ratio_SMB:6.7,po_LimitClayEffect:.25,po_AmmoniaOxidationRateCoeffStandard:.1,po_NitriteOxidationRateCoeffStandard:.2,po_TransportRateCoeff:.1,po_SpecAnaerobDenitrification:.1,po_ImmobilisationRateCoeffNO3:.5,po_ImmobilisationRateCoeffNH4:.5,po_Denit1:.2,po_Denit2:.8,po_Denit3:.9,po_HydrolysisKM:.00334,po_ActivationEnergy:41e3,po_HydrolysisP1:4.259e-12,po_HydrolysisP2:1.408e-12,po_AtmosphericResistance:.0025,po_N2OProductionRate:.015,po_Inhibitor_NH3:1},this.capillaryRiseRates={map:{Su3:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.005,7:.0035,8:.0028,9:.0022,10:.0017,11:.0014,12:.0012,13:9e-4,14:8e-4,15:7e-4,16:7e-4,17:5e-4,18:5e-4,19:5e-4,20:3e-4,21:3e-4,22:3e-4,23:3e-4,24:3e-4,25:1e-4,26:0,27:0},Sl3:{1:.0055,2:.0055,3:.0055,4:.005,5:.0025,6:.0016,7:.0011,8:7e-4,9:5e-4,10:3e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Sl2:{1:.0055,2:.0055,3:.005,4:.0026,5:.0013,6:8e-4,7:5e-4,8:3e-4,9:2e-4,10:1e-4,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Su4:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.005,8:.0039,9:.0029,10:.0023,11:.0018,12:.0015,13:.0012,14:9e-4,15:8e-4,16:8e-4,17:5e-4,18:5e-4,19:5e-4,20:3e-4,21:3e-4,22:3e-4,23:3e-4,24:3e-4,25:1e-4,26:0,27:0},Su2:{1:.0055,2:.0055,3:.0055,4:.0055,5:.005,6:.003,7:.0022,8:.0017,9:.0012,10:.001,11:8e-4,12:6e-4,13:5e-4,14:4e-4,15:3e-4,16:3e-4,17:2e-4,18:2e-4,19:2e-4,20:1e-4,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Sl4:{1:.0055,2:.0055,3:.0055,4:.005,5:.0036,6:.0024,7:.0016,8:.0012,9:8e-4,10:6e-4,11:4e-4,12:3e-4,13:2e-4,14:1e-4,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Slu:{1:.0055,2:.0055,3:.0055,4:.0055,5:.005,6:.0036,7:.0026,8:.0019,9:.0015,10:.0011,11:9e-4,12:7e-4,13:5e-4,14:4e-4,15:3e-4,16:3e-4,17:2e-4,18:2e-4,19:2e-4,20:1e-4,21:0,22:0,23:0,24:0,25:0,26:0,27:0},St2:{1:.0055,2:.0055,3:.005,4:.0029,5:.0018,6:.0011,7:7e-4,8:5e-4,9:4e-4,10:3e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},St3:{1:.0055,2:.0055,3:.005,4:.0029,5:.0018,6:.0011,7:7e-4,8:5e-4,9:4e-4,10:3e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},fS:{1:.0055,2:.0055,3:.0055,4:.0055,5:.005,6:.0033,7:.0022,8:.0014,9:9e-4,10:5e-4,11:3e-4,12:2e-4,13:1e-4,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},gS:{1:.0055,2:.005,3:.0014,4:5e-4,5:2e-4,6:1e-4,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},mS:{1:.0055,2:.0055,3:.005,4:.0016,5:9e-4,6:5e-4,7:3e-4,8:2e-4,9:1e-4,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Ss:{1:.0055,2:.0055,3:.005,4:.0016,5:9e-4,6:5e-4,7:3e-4,8:2e-4,9:1e-4,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Us:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.005,8:.0041,9:.0033,10:.0027,11:.0022,12:.0018,13:.0015,14:.0012,15:.001,16:.001,17:7e-4,18:7e-4,19:7e-4,20:4e-4,21:4e-4,22:4e-4,23:4e-4,24:4e-4,25:1e-4,26:1e-4,27:0},Uu:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.0055,8:.0055,9:.0055,10:.005,11:.004,12:.0033,13:.0028,14:.0024,15:.002,16:.002,17:.0015,18:.0015,19:.0015,20:.001,21:.001,22:.001,23:.001,24:.001,25:5e-4,26:3e-4,27:1e-4},Uls:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.0055,8:.0055,9:.005,10:.0044,11:.0036,12:.003,13:.0026,14:.0022,15:.0019,16:.0019,17:.0014,18:.0014,19:.0014,20:9e-4,21:9e-4,22:9e-4,23:9e-4,24:9e-4,25:5e-4,26:3e-4,27:1e-4},Ut2:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.0055,8:.005,9:.0035,10:.0028,11:.0023,12:.0019,13:.0015,14:.0013,15:.0011,16:.0011,17:7e-4,18:7e-4,19:7e-4,20:4e-4,21:4e-4,22:4e-4,23:4e-4,24:4e-4,25:1e-4,26:1e-4,27:0},Ut3:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.0055,8:.005,9:.0035,10:.0028,11:.0022,12:.0018,13:.0015,14:.0013,15:.0011,16:.0011,17:7e-4,18:7e-4,19:7e-4,20:4e-4,21:4e-4,22:4e-4,23:4e-4,24:4e-4,25:1e-4,26:1e-4,27:0},Ut4:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.005,8:.0036,9:.0028,10:.0022,11:.0018,12:.0015,13:.0012,14:.001,15:8e-4,16:8e-4,17:5e-4,18:5e-4,19:5e-4,20:3e-4,21:3e-4,22:3e-4,23:3e-4,24:3e-4,25:1e-4,26:1e-4,27:0},Ls2:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0055,7:.004,8:.003,9:.0022,10:.0017,11:.0013,12:9e-4,13:7e-4,14:5e-4,15:4e-4,16:4e-4,17:2e-4,18:2e-4,19:2e-4,20:1e-4,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Ls3:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.005,7:.0033,8:.0025,9:.002,10:.0015,11:.0012,12:.001,13:8e-4,14:7e-4,15:5e-4,16:5e-4,17:3e-4,18:3e-4,19:3e-4,20:2e-4,21:2e-4,22:2e-4,23:2e-4,24:2e-4,25:1e-4,26:0,27:0},Ls4:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.0036,7:.0026,8:.002,9:.0015,10:.0012,11:9e-4,12:7e-4,13:6e-4,14:5e-4,15:4e-4,16:4e-4,17:3e-4,18:3e-4,19:3e-4,20:1e-4,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Lt2:{1:.0055,2:.0055,3:.0055,4:.0055,5:.005,6:.0038,7:.0028,8:.0022,9:.0017,10:.0013,11:.0011,12:9e-4,13:7e-4,14:5e-4,15:4e-4,16:4e-4,17:3e-4,18:3e-4,19:3e-4,20:1e-4,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Lt3:{1:.0055,2:.0055,3:.0055,4:.0055,5:.005,6:.0034,7:.0026,8:.0019,9:.0015,10:.0012,11:.001,12:8e-4,13:7e-4,14:6e-4,15:5e-4,16:5e-4,17:3e-4,18:3e-4,19:3e-4,20:2e-4,21:2e-4,22:2e-4,23:2e-4,24:2e-4,25:1e-4,26:0,27:0},Lu:{1:.0055,2:.0055,3:.0055,4:.0055,5:.0055,6:.005,7:.004,8:.0031,9:.0024,10:.0019,11:.0015,12:.0012,13:.001,14:8e-4,15:7e-4,16:7e-4,17:5e-4,18:5e-4,19:5e-4,20:3e-4,21:3e-4,22:3e-4,23:3e-4,24:3e-4,25:1e-4,26:1e-4,27:0},Lts:{1:.0055,2:.0055,3:.0055,4:.0055,5:5e-4,6:.0032,7:.0022,8:.0016,9:.0012,10:9e-4,11:7e-4,12:5e-4,13:4e-4,14:3e-4,15:2e-4,16:2e-4,17:1e-4,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Tt:{1:.0055,2:.005,3:.002,4:.001,5:6e-4,6:4e-4,7:3e-4,8:2e-4,9:2e-4,10:1e-4,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Tl:{1:.0055,2:.005,3:.0026,4:.0013,5:8e-4,6:5e-4,7:4e-4,8:3e-4,9:2e-4,10:1e-4,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Tu2:{1:.0055,2:.005,3:.0026,4:.0013,5:8e-4,6:5e-4,7:4e-4,8:3e-4,9:2e-4,10:1e-4,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Tu3:{1:.0055,2:.0055,3:.005,4:.0024,5:.0014,6:9e-4,7:7e-4,8:5e-4,9:4e-4,10:3e-4,11:3e-4,12:2e-4,13:2e-4,14:1e-4,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Tu4:{1:.0055,2:.0055,3:.0055,4:.005,5:.0024,6:.0016,7:.0012,8:8e-4,9:6e-4,10:5e-4,11:4e-4,12:3e-4,13:3e-4,14:2e-4,15:2e-4,16:2e-4,17:1e-4,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Ts2:{1:.0055,2:.0055,3:.005,4:.002,5:.0012,6:8e-4,7:5e-4,8:4e-4,9:3e-4,10:2e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Ts3:{1:.0055,2:.0055,3:.005,4:.0029,5:.0018,6:.0011,7:7e-4,8:5e-4,9:4e-4,10:3e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Ts4:{1:.0055,2:.0055,3:.005,4:.0029,5:.0018,6:.0011,7:7e-4,8:5e-4,9:4e-4,10:3e-4,11:2e-4,12:1e-4,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Hh:{1:.005,2:.005,3:.003,4:.002,5:.0013,6:8e-4,7:4e-4,8:3e-4,9:2e-4,10:2e-4,11:5e-5,12:5e-5,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},Hn:{1:.004,2:.004,3:.0022,4:.0011,5:6e-4,6:3e-4,7:2e-4,8:1e-4,9:5e-5,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0}},addRate:function(t,e,a){void 0===this.map[t]&&(this.map[t]={}),this.map[t][e]=a},getRate:function(t,e){e=M(e);var a=this.getMap(t);return void 0===a[e]?0:a[e]},getMap:function(t){return void 0===this.map[t]&&(te(_,"No capillary rise rates for texture '"+texture+"' available: using default (Sl4)"),t="Sl4"),this.map[t]},size:function(){var t=0;for(var e in this.map)this.map.hasOwnProperty(e)&&t++;return t}},this.userInitValues={p_initPercentageFC:.8,p_initSoilNitrate:1e-4,p_initSoilAmmonium:1e-4}},me={columns:["soil_type","soil_raw_density*10","air_capacity","field_capacity","n_field_capacity"],rows:[{soil_type:"Hh","soil_raw_density*10":-10,air_capacity:10,field_capacity:82,n_field_capacity:65},{soil_type:"Hn","soil_raw_density*10":-10,air_capacity:18,field_capacity:59,n_field_capacity:29},{soil_type:"Ls2","soil_raw_density*10":11,air_capacity:24,field_capacity:34,n_field_capacity:18},{soil_type:"Ls2","soil_raw_density*10":13,air_capacity:20,field_capacity:31,n_field_capacity:15},{soil_type:"Ls2","soil_raw_density*10":15,air_capacity:13,field_capacity:30,n_field_capacity:14},{soil_type:"Ls2","soil_raw_density*10":17,air_capacity:8,field_capacity:28,n_field_capacity:12},{soil_type:"Ls2","soil_raw_density*10":19,air_capacity:3,field_capacity:26,n_field_capacity:10},{soil_type:"Ls3","soil_raw_density*10":11,air_capacity:24,field_capacity:34,n_field_capacity:18},{soil_type:"Ls3","soil_raw_density*10":13,air_capacity:21,field_capacity:30,n_field_capacity:14},{soil_type:"Ls3","soil_raw_density*10":15,air_capacity:15,field_capacity:28,n_field_capacity:12},{soil_type:"Ls3","soil_raw_density*10":17,air_capacity:9,field_capacity:27,n_field_capacity:11},{soil_type:"Ls3","soil_raw_density*10":19,air_capacity:4,field_capacity:25,n_field_capacity:9},{soil_type:"Ls4","soil_raw_density*10":11,air_capacity:25,field_capacity:33,n_field_capacity:18},{soil_type:"Ls4","soil_raw_density*10":13,air_capacity:22,field_capacity:29,n_field_capacity:14},{soil_type:"Ls4","soil_raw_density*10":15,air_capacity:16,field_capacity:27,n_field_capacity:12},{soil_type:"Ls4","soil_raw_density*10":17,air_capacity:10,field_capacity:26,n_field_capacity:11},{soil_type:"Ls4","soil_raw_density*10":19,air_capacity:5,field_capacity:24,n_field_capacity:9},{soil_type:"Lt2","soil_raw_density*10":11,air_capacity:23,field_capacity:35,n_field_capacity:15},{soil_type:"Lt2","soil_raw_density*10":13,air_capacity:19,field_capacity:32,n_field_capacity:12},{soil_type:"Lt2","soil_raw_density*10":15,air_capacity:13,field_capacity:30,n_field_capacity:10},{soil_type:"Lt2","soil_raw_density*10":17,air_capacity:8,field_capacity:28,n_field_capacity:8},{soil_type:"Lt3","soil_raw_density*10":11,air_capacity:20,field_capacity:38,n_field_capacity:14},{soil_type:"Lt3","soil_raw_density*10":13,air_capacity:16,field_capacity:35,n_field_capacity:11},{soil_type:"Lt3","soil_raw_density*10":15,air_capacity:10,field_capacity:33,n_field_capacity:9},{soil_type:"Lt3","soil_raw_density*10":17,air_capacity:5,field_capacity:31,n_field_capacity:7},{soil_type:"Lts","soil_raw_density*10":11,air_capacity:21,field_capacity:37,n_field_capacity:16},{soil_type:"Lts","soil_raw_density*10":13,air_capacity:17,field_capacity:34,n_field_capacity:13},{soil_type:"Lts","soil_raw_density*10":15,air_capacity:11,field_capacity:32,n_field_capacity:11},{soil_type:"Lts","soil_raw_density*10":17,air_capacity:6,field_capacity:30,n_field_capacity:9},{soil_type:"Lu","soil_raw_density*10":11,air_capacity:21,field_capacity:37,n_field_capacity:18},{soil_type:"Lu","soil_raw_density*10":13,air_capacity:18,field_capacity:34,n_field_capacity:15},{soil_type:"Lu","soil_raw_density*10":15,air_capacity:11,field_capacity:32,n_field_capacity:13},{soil_type:"Lu","soil_raw_density*10":17,air_capacity:6,field_capacity:30,n_field_capacity:11},{soil_type:"Sl2","soil_raw_density*10":13,air_capacity:28,field_capacity:23,n_field_capacity:15},{soil_type:"Sl2","soil_raw_density*10":15,air_capacity:22,field_capacity:21,n_field_capacity:13},{soil_type:"Sl2","soil_raw_density*10":17,air_capacity:17,field_capacity:19,n_field_capacity:11},{soil_type:"Sl2","soil_raw_density*10":19,air_capacity:11,field_capacity:18,n_field_capacity:10},{soil_type:"Sl3","soil_raw_density*10":13,air_capacity:26,field_capacity:25,n_field_capacity:15},{soil_type:"Sl3","soil_raw_density*10":15,air_capacity:20,field_capacity:23,n_field_capacity:13},{soil_type:"Sl3","soil_raw_density*10":17,air_capacity:14,field_capacity:22,n_field_capacity:12},{soil_type:"Sl3","soil_raw_density*10":19,air_capacity:9,field_capacity:20,n_field_capacity:10},{soil_type:"Sl4","soil_raw_density*10":13,air_capacity:23,field_capacity:28,n_field_capacity:15},{soil_type:"Sl4","soil_raw_density*10":15,air_capacity:18,field_capacity:25,n_field_capacity:12},{soil_type:"Sl4","soil_raw_density*10":17,air_capacity:12,field_capacity:24,n_field_capacity:11},{soil_type:"Sl4","soil_raw_density*10":19,air_capacity:4,field_capacity:22,n_field_capacity:9},{soil_type:"Slu","soil_raw_density*10":13,air_capacity:22,field_capacity:29,n_field_capacity:18},{soil_type:"Slu","soil_raw_density*10":15,air_capacity:16,field_capacity:27,n_field_capacity:15},{soil_type:"Slu","soil_raw_density*10":17,air_capacity:10,field_capacity:26,n_field_capacity:14},{soil_type:"Slu","soil_raw_density*10":19,air_capacity:4,field_capacity:25,n_field_capacity:13},{soil_type:"Ss","soil_raw_density*10":13,air_capacity:39,field_capacity:12,n_field_capacity:9},{soil_type:"Ss","soil_raw_density*10":15,air_capacity:31,field_capacity:12,n_field_capacity:9},{soil_type:"Ss","soil_raw_density*10":17,air_capacity:24,field_capacity:12,n_field_capacity:9},{soil_type:"St2","soil_raw_density*10":13,air_capacity:30,field_capacity:21,n_field_capacity:13},{soil_type:"St2","soil_raw_density*10":15,air_capacity:25,field_capacity:18,n_field_capacity:10},{soil_type:"St2","soil_raw_density*10":17,air_capacity:20,field_capacity:16,n_field_capacity:8},{soil_type:"St2","soil_raw_density*10":19,air_capacity:14,field_capacity:15,n_field_capacity:7},{soil_type:"St3","soil_raw_density*10":13,air_capacity:22,field_capacity:29,n_field_capacity:15},{soil_type:"St3","soil_raw_density*10":15,air_capacity:17,field_capacity:26,n_field_capacity:12},{soil_type:"St3","soil_raw_density*10":17,air_capacity:13,field_capacity:23,n_field_capacity:9},{soil_type:"St3","soil_raw_density*10":19,air_capacity:8,field_capacity:21,n_field_capacity:7},{soil_type:"Su2","soil_raw_density*10":13,air_capacity:30,field_capacity:21,n_field_capacity:16},{soil_type:"Su2","soil_raw_density*10":15,air_capacity:23,field_capacity:20,n_field_capacity:15},{soil_type:"Su2","soil_raw_density*10":17,air_capacity:18,field_capacity:18,n_field_capacity:13},{soil_type:"Su2","soil_raw_density*10":19,air_capacity:12,field_capacity:17,n_field_capacity:12},{soil_type:"Su3","soil_raw_density*10":13,air_capacity:25,field_capacity:26,n_field_capacity:19},{soil_type:"Su3","soil_raw_density*10":15,air_capacity:19,field_capacity:24,n_field_capacity:17},{soil_type:"Su3","soil_raw_density*10":17,air_capacity:14,field_capacity:22,n_field_capacity:15},{soil_type:"Su3","soil_raw_density*10":19,air_capacity:9,field_capacity:20,n_field_capacity:13},{soil_type:"Su4","soil_raw_density*10":13,air_capacity:24,field_capacity:27,n_field_capacity:20},{soil_type:"Su4","soil_raw_density*10":15,air_capacity:18,field_capacity:25,n_field_capacity:18},{soil_type:"Su4","soil_raw_density*10":17,air_capacity:12,field_capacity:24,n_field_capacity:17},{soil_type:"Su4","soil_raw_density*10":19,air_capacity:7,field_capacity:22,n_field_capacity:15},{soil_type:"Tl","soil_raw_density*10":11,air_capacity:12,field_capacity:46,n_field_capacity:14},{soil_type:"Tl","soil_raw_density*10":13,air_capacity:8,field_capacity:43,n_field_capacity:12},{soil_type:"Tl","soil_raw_density*10":15,air_capacity:4,field_capacity:39,n_field_capacity:8},{soil_type:"Tl","soil_raw_density*10":17,air_capacity:2,field_capacity:35,n_field_capacity:6},{soil_type:"Ts2","soil_raw_density*10":11,air_capacity:15,field_capacity:43,n_field_capacity:15},{soil_type:"Ts2","soil_raw_density*10":13,air_capacity:11,field_capacity:40,n_field_capacity:13},{soil_type:"Ts2","soil_raw_density*10":15,air_capacity:6,field_capacity:37,n_field_capacity:10},{soil_type:"Ts2","soil_raw_density*10":17,air_capacity:2,field_capacity:34,n_field_capacity:8},{soil_type:"Ts3","soil_raw_density*10":11,air_capacity:19,field_capacity:39,n_field_capacity:17},{soil_type:"Ts3","soil_raw_density*10":13,air_capacity:15,field_capacity:35,n_field_capacity:14},{soil_type:"Ts3","soil_raw_density*10":15,air_capacity:12,field_capacity:31,n_field_capacity:10},{soil_type:"Ts3","soil_raw_density*10":17,air_capacity:6,field_capacity:30,n_field_capacity:9},{soil_type:"Ts4","soil_raw_density*10":11,air_capacity:22,field_capacity:36,n_field_capacity:17},{soil_type:"Ts4","soil_raw_density*10":13,air_capacity:18,field_capacity:33,n_field_capacity:14},{soil_type:"Ts4","soil_raw_density*10":15,air_capacity:14,field_capacity:29,n_field_capacity:11},{soil_type:"Ts4","soil_raw_density*10":17,air_capacity:8,field_capacity:28,n_field_capacity:10},{soil_type:"Tt","soil_raw_density*10":11,air_capacity:9,field_capacity:49,n_field_capacity:13},{soil_type:"Tt","soil_raw_density*10":13,air_capacity:6,field_capacity:45,n_field_capacity:11},{soil_type:"Tt","soil_raw_density*10":15,air_capacity:3,field_capacity:41,n_field_capacity:7},{soil_type:"Tt","soil_raw_density*10":17,air_capacity:2,field_capacity:37,n_field_capacity:6},{soil_type:"Tu2","soil_raw_density*10":11,air_capacity:12,field_capacity:46,n_field_capacity:15},{soil_type:"Tu2","soil_raw_density*10":13,air_capacity:8,field_capacity:43,n_field_capacity:13},{soil_type:"Tu2","soil_raw_density*10":15,air_capacity:4,field_capacity:39,n_field_capacity:9},{soil_type:"Tu2","soil_raw_density*10":17,air_capacity:2,field_capacity:35,n_field_capacity:6},{soil_type:"Tu3","soil_raw_density*10":11,air_capacity:15,field_capacity:43,n_field_capacity:17},{soil_type:"Tu3","soil_raw_density*10":13,air_capacity:11,field_capacity:39,n_field_capacity:14},{soil_type:"Tu3","soil_raw_density*10":15,air_capacity:7,field_capacity:36,n_field_capacity:12},{soil_type:"Tu3","soil_raw_density*10":17,air_capacity:3,field_capacity:33,n_field_capacity:10},{soil_type:"Tu4","soil_raw_density*10":11,air_capacity:18,field_capacity:40,n_field_capacity:18},{soil_type:"Tu4","soil_raw_density*10":13,air_capacity:13,field_capacity:37,n_field_capacity:15},{soil_type:"Tu4","soil_raw_density*10":15,air_capacity:9,field_capacity:33,n_field_capacity:13},{soil_type:"Tu4","soil_raw_density*10":17,air_capacity:4,field_capacity:31,n_field_capacity:11},{soil_type:"Uls","soil_raw_density*10":11,air_capacity:27,field_capacity:31,n_field_capacity:20},{soil_type:"Uls","soil_raw_density*10":13,air_capacity:21,field_capacity:30,n_field_capacity:19},{soil_type:"Uls","soil_raw_density*10":15,air_capacity:14,field_capacity:29,n_field_capacity:18},{soil_type:"Uls","soil_raw_density*10":17,air_capacity:9,field_capacity:27,n_field_capacity:16},{soil_type:"Us","soil_raw_density*10":11,air_capacity:26,field_capacity:32,n_field_capacity:22},{soil_type:"Us","soil_raw_density*10":13,air_capacity:20,field_capacity:31,n_field_capacity:21},{soil_type:"Us","soil_raw_density*10":15,air_capacity:14,field_capacity:29,n_field_capacity:19},{soil_type:"Us","soil_raw_density*10":17,air_capacity:9,field_capacity:27,n_field_capacity:17},{soil_type:"Ut2","soil_raw_density*10":11,air_capacity:26,field_capacity:32,n_field_capacity:21},{soil_type:"Ut2","soil_raw_density*10":13,air_capacity:20,field_capacity:31,n_field_capacity:20},{soil_type:"Ut2","soil_raw_density*10":15,air_capacity:14,field_capacity:29,n_field_capacity:18},{soil_type:"Ut2","soil_raw_density*10":17,air_capacity:8,field_capacity:28,n_field_capacity:17},{soil_type:"Ut3","soil_raw_density*10":11,air_capacity:24,field_capacity:34,n_field_capacity:20},{soil_type:"Ut3","soil_raw_density*10":13,air_capacity:19,field_capacity:33,n_field_capacity:19},{soil_type:"Ut3","soil_raw_density*10":15,air_capacity:12,field_capacity:31,n_field_capacity:17},{soil_type:"Ut3","soil_raw_density*10":17,air_capacity:6,field_capacity:30,n_field_capacity:16},{soil_type:"Ut4","soil_raw_density*10":11,air_capacity:23,field_capacity:35,n_field_capacity:18},{soil_type:"Ut4","soil_raw_density*10":13,air_capacity:17,field_capacity:34,n_field_capacity:17},{soil_type:"Ut4","soil_raw_density*10":15,air_capacity:12,field_capacity:33,n_field_capacity:16},{soil_type:"Ut4","soil_raw_density*10":17,air_capacity:4,field_capacity:31,n_field_capacity:14},{soil_type:"Uu","soil_raw_density*10":11,air_capacity:22,field_capacity:36,n_field_capacity:25},{soil_type:"Uu","soil_raw_density*10":13,air_capacity:17,field_capacity:34,n_field_capacity:23},{soil_type:"Uu","soil_raw_density*10":15,air_capacity:11,field_capacity:32,n_field_capacity:21},{soil_type:"Uu","soil_raw_density*10":17,air_capacity:6,field_capacity:30,n_field_capacity:19},{soil_type:"fS","soil_raw_density*10":13,air_capacity:35,field_capacity:15,n_field_capacity:11},{soil_type:"fS","soil_raw_density*10":15,air_capacity:28,field_capacity:15,n_field_capacity:11},{soil_type:"fS","soil_raw_density*10":17,air_capacity:21,field_capacity:15,n_field_capacity:11},{soil_type:"fSgs","soil_raw_density*10":13,air_capacity:35,field_capacity:15,n_field_capacity:11},{soil_type:"fSgs","soil_raw_density*10":15,air_capacity:28,field_capacity:15,n_field_capacity:11},{soil_type:"fSgs","soil_raw_density*10":17,air_capacity:21,field_capacity:15,n_field_capacity:11},{soil_type:"fSms","soil_raw_density*10":13,air_capacity:35,field_capacity:15,n_field_capacity:11},{soil_type:"fSms","soil_raw_density*10":15,air_capacity:28,field_capacity:15,n_field_capacity:11},{soil_type:"fSms","soil_raw_density*10":17,air_capacity:21,field_capacity:15,n_field_capacity:11},{soil_type:"gS","soil_raw_density*10":13,air_capacity:43,field_capacity:8,n_field_capacity:5},{soil_type:"gS","soil_raw_density*10":15,air_capacity:35,field_capacity:8,n_field_capacity:5},{soil_type:"gS","soil_raw_density*10":17,air_capacity:28,field_capacity:8,n_field_capacity:5},{soil_type:"mS","soil_raw_density*10":13,air_capacity:38,field_capacity:12,n_field_capacity:9},{soil_type:"mS","soil_raw_density*10":15,air_capacity:31,field_capacity:12,n_field_capacity:9},{soil_type:"mS","soil_raw_density*10":17,air_capacity:24,field_capacity:12,n_field_capacity:9},{soil_type:"mSfs","soil_raw_density*10":13,air_capacity:38,field_capacity:12,n_field_capacity:9},{soil_type:"mSfs","soil_raw_density*10":15,air_capacity:31,field_capacity:12,n_field_capacity:9},{soil_type:"mSfs","soil_raw_density*10":17,air_capacity:24,field_capacity:12,n_field_capacity:9},{soil_type:"mSgs","soil_raw_density*10":13,air_capacity:38,field_capacity:12,n_field_capacity:9},{soil_type:"mSgs","soil_raw_density*10":15,air_capacity:24,field_capacity:12,n_field_capacity:9},{soil_type:"mSgs","soil_raw_density*10":17,air_capacity:31,field_capacity:12,n_field_capacity:9}]},Se={columns:["soil_type","organic_matter*10","air_capacity","field_capacity","n_field_capacity"],rows:[{soil_type:"Ls2","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Ls2","organic_matter*10":30,air_capacity:0,field_capacity:4,n_field_capacity:3},{soil_type:"Ls2","organic_matter*10":60,air_capacity:1,field_capacity:7,n_field_capacity:5},{soil_type:"Ls2","organic_matter*10":115,air_capacity:2,field_capacity:13,n_field_capacity:9},{soil_type:"Ls3","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:2},{soil_type:"Ls3","organic_matter*10":30,air_capacity:0,field_capacity:4,n_field_capacity:4},{soil_type:"Ls3","organic_matter*10":60,air_capacity:1,field_capacity:7,n_field_capacity:6},{soil_type:"Ls3","organic_matter*10":115,air_capacity:2,field_capacity:13,n_field_capacity:9},{soil_type:"Ls4","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Ls4","organic_matter*10":30,air_capacity:0,field_capacity:5,n_field_capacity:4},{soil_type:"Ls4","organic_matter*10":60,air_capacity:1,field_capacity:8,n_field_capacity:7},{soil_type:"Ls4","organic_matter*10":115,air_capacity:2,field_capacity:13,n_field_capacity:10},{soil_type:"Lt2","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Lt2","organic_matter*10":30,air_capacity:1,field_capacity:4,n_field_capacity:3},{soil_type:"Lt2","organic_matter*10":60,air_capacity:2,field_capacity:6,n_field_capacity:4},{soil_type:"Lt2","organic_matter*10":115,air_capacity:3,field_capacity:10,n_field_capacity:7},{soil_type:"Lt3","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Lt3","organic_matter*10":30,air_capacity:2,field_capacity:3,n_field_capacity:2},{soil_type:"Lt3","organic_matter*10":60,air_capacity:3,field_capacity:5,n_field_capacity:3},{soil_type:"Lt3","organic_matter*10":115,air_capacity:4,field_capacity:10,n_field_capacity:6},{soil_type:"Lts","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Lts","organic_matter*10":30,air_capacity:2,field_capacity:3,n_field_capacity:2},{soil_type:"Lts","organic_matter*10":60,air_capacity:3,field_capacity:6,n_field_capacity:4},{soil_type:"Lts","organic_matter*10":115,air_capacity:4,field_capacity:10,n_field_capacity:7},{soil_type:"Lu","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Lu","organic_matter*10":30,air_capacity:2,field_capacity:4,n_field_capacity:2},{soil_type:"Lu","organic_matter*10":60,air_capacity:3,field_capacity:7,n_field_capacity:5},{soil_type:"Lu","organic_matter*10":115,air_capacity:4,field_capacity:12,n_field_capacity:8},{soil_type:"Sl2","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Sl2","organic_matter*10":30,air_capacity:-1,field_capacity:5,n_field_capacity:3},{soil_type:"Sl2","organic_matter*10":60,air_capacity:-2,field_capacity:8,n_field_capacity:5},{soil_type:"Sl2","organic_matter*10":115,air_capacity:-3,field_capacity:16,n_field_capacity:10},{soil_type:"Sl3","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Sl3","organic_matter*10":30,air_capacity:-1,field_capacity:4,n_field_capacity:3},{soil_type:"Sl3","organic_matter*10":60,air_capacity:-2,field_capacity:8,n_field_capacity:5},{soil_type:"Sl3","organic_matter*10":115,air_capacity:-3,field_capacity:15,n_field_capacity:10},{soil_type:"Sl4","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Sl4","organic_matter*10":30,air_capacity:-1,field_capacity:4,n_field_capacity:3},{soil_type:"Sl4","organic_matter*10":60,air_capacity:-2,field_capacity:8,n_field_capacity:5},{soil_type:"Sl4","organic_matter*10":115,air_capacity:-3,field_capacity:14,n_field_capacity:10},{soil_type:"Slu","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Slu","organic_matter*10":30,air_capacity:-1,field_capacity:4,n_field_capacity:3},{soil_type:"Slu","organic_matter*10":60,air_capacity:-2,field_capacity:8,n_field_capacity:5},{soil_type:"Slu","organic_matter*10":115,air_capacity:-3,field_capacity:4,n_field_capacity:10},{soil_type:"Ss","organic_matter*10":15,air_capacity:0,field_capacity:4,n_field_capacity:2},{soil_type:"Ss","organic_matter*10":30,air_capacity:-1,field_capacity:8,n_field_capacity:4},{soil_type:"Ss","organic_matter*10":60,air_capacity:-3,field_capacity:12,n_field_capacity:7},{soil_type:"Ss","organic_matter*10":115,air_capacity:-5,field_capacity:21,n_field_capacity:13},{soil_type:"St2","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"St2","organic_matter*10":30,air_capacity:0,field_capacity:6,n_field_capacity:4},{soil_type:"St2","organic_matter*10":60,air_capacity:-1,field_capacity:9,n_field_capacity:5},{soil_type:"St2","organic_matter*10":115,air_capacity:-2,field_capacity:15,n_field_capacity:7},{soil_type:"St3","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"St3","organic_matter*10":30,air_capacity:0,field_capacity:6,n_field_capacity:4},{soil_type:"St3","organic_matter*10":60,air_capacity:0,field_capacity:8,n_field_capacity:6},{soil_type:"St3","organic_matter*10":115,air_capacity:1,field_capacity:14,n_field_capacity:8},{soil_type:"Su2","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Su2","organic_matter*10":30,air_capacity:-1,field_capacity:6,n_field_capacity:4},{soil_type:"Su2","organic_matter*10":60,air_capacity:-2,field_capacity:10,n_field_capacity:7},{soil_type:"Su2","organic_matter*10":115,air_capacity:-3,field_capacity:16,n_field_capacity:10},{soil_type:"Su3","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Su3","organic_matter*10":30,air_capacity:-1,field_capacity:6,n_field_capacity:4},{soil_type:"Su3","organic_matter*10":60,air_capacity:-2,field_capacity:10,n_field_capacity:6},{soil_type:"Su3","organic_matter*10":115,air_capacity:-3,field_capacity:15,n_field_capacity:9},{soil_type:"Su4","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Su4","organic_matter*10":30,air_capacity:0,field_capacity:6,n_field_capacity:4},{soil_type:"Su4","organic_matter*10":60,air_capacity:-1,field_capacity:9,n_field_capacity:6},{soil_type:"Su4","organic_matter*10":115,air_capacity:-2,field_capacity:14,n_field_capacity:9},{soil_type:"Tl","organic_matter*10":15,air_capacity:2,field_capacity:1,n_field_capacity:1},{soil_type:"Tl","organic_matter*10":30,air_capacity:3,field_capacity:2,n_field_capacity:2},{soil_type:"Tl","organic_matter*10":60,air_capacity:4,field_capacity:4,n_field_capacity:3},{soil_type:"Tl","organic_matter*10":115,air_capacity:5,field_capacity:7,n_field_capacity:5},{soil_type:"Ts2","organic_matter*10":15,air_capacity:1,field_capacity:3,n_field_capacity:2},{soil_type:"Ts2","organic_matter*10":30,air_capacity:2,field_capacity:5,n_field_capacity:4},{soil_type:"Ts2","organic_matter*10":60,air_capacity:3,field_capacity:8,n_field_capacity:6},{soil_type:"Ts2","organic_matter*10":115,air_capacity:5,field_capacity:12,n_field_capacity:8},{soil_type:"Ts3","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Ts3","organic_matter*10":30,air_capacity:1,field_capacity:5,n_field_capacity:4},{soil_type:"Ts3","organic_matter*10":60,air_capacity:2,field_capacity:8,n_field_capacity:6},{soil_type:"Ts3","organic_matter*10":115,air_capacity:5,field_capacity:12,n_field_capacity:9},{soil_type:"Ts4","organic_matter*10":15,air_capacity:0,field_capacity:3,n_field_capacity:2},{soil_type:"Ts4","organic_matter*10":30,air_capacity:1,field_capacity:5,n_field_capacity:4},{soil_type:"Ts4","organic_matter*10":60,air_capacity:2,field_capacity:8,n_field_capacity:6},{soil_type:"Ts4","organic_matter*10":115,air_capacity:4,field_capacity:12,n_field_capacity:9},{soil_type:"Tt","organic_matter*10":15,air_capacity:3,field_capacity:1,n_field_capacity:1},{soil_type:"Tt","organic_matter*10":30,air_capacity:4,field_capacity:2,n_field_capacity:2},{soil_type:"Tt","organic_matter*10":60,air_capacity:5,field_capacity:3,n_field_capacity:3},{soil_type:"Tt","organic_matter*10":115,air_capacity:7,field_capacity:6,n_field_capacity:5},{soil_type:"Tu2","organic_matter*10":15,air_capacity:2,field_capacity:1,n_field_capacity:1},{soil_type:"Tu2","organic_matter*10":30,air_capacity:3,field_capacity:2,n_field_capacity:2},{soil_type:"Tu2","organic_matter*10":60,air_capacity:4,field_capacity:4,n_field_capacity:3},{soil_type:"Tu2","organic_matter*10":115,air_capacity:5,field_capacity:7,n_field_capacity:5},{soil_type:"Tu3","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Tu3","organic_matter*10":30,air_capacity:2,field_capacity:3,n_field_capacity:2},{soil_type:"Tu3","organic_matter*10":60,air_capacity:3,field_capacity:5,n_field_capacity:4},{soil_type:"Tu3","organic_matter*10":115,air_capacity:5,field_capacity:8,n_field_capacity:6},{soil_type:"Tu4","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Tu4","organic_matter*10":30,air_capacity:2,field_capacity:4,n_field_capacity:2},{soil_type:"Tu4","organic_matter*10":60,air_capacity:3,field_capacity:6,n_field_capacity:4},{soil_type:"Tu4","organic_matter*10":115,air_capacity:5,field_capacity:9,n_field_capacity:7},{soil_type:"Uls","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Uls","organic_matter*10":30,air_capacity:1,field_capacity:4,n_field_capacity:3},{soil_type:"Uls","organic_matter*10":60,air_capacity:2,field_capacity:7,n_field_capacity:5},{soil_type:"Uls","organic_matter*10":115,air_capacity:3,field_capacity:12,n_field_capacity:8},{soil_type:"Us","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Us","organic_matter*10":30,air_capacity:0,field_capacity:4,n_field_capacity:3},{soil_type:"Us","organic_matter*10":60,air_capacity:1,field_capacity:7,n_field_capacity:5},{soil_type:"Us","organic_matter*10":115,air_capacity:2,field_capacity:12,n_field_capacity:8},{soil_type:"Ut2","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Ut2","organic_matter*10":30,air_capacity:1,field_capacity:5,n_field_capacity:3},{soil_type:"Ut2","organic_matter*10":60,air_capacity:2,field_capacity:9,n_field_capacity:6},{soil_type:"Ut2","organic_matter*10":115,air_capacity:3,field_capacity:13,n_field_capacity:8},{soil_type:"Ut3","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Ut3","organic_matter*10":30,air_capacity:1,field_capacity:5,n_field_capacity:3},{soil_type:"Ut3","organic_matter*10":60,air_capacity:2,field_capacity:9,n_field_capacity:6},{soil_type:"Ut3","organic_matter*10":115,air_capacity:3,field_capacity:13,n_field_capacity:8},{soil_type:"Ut4","organic_matter*10":15,air_capacity:1,field_capacity:2,n_field_capacity:1},{soil_type:"Ut4","organic_matter*10":30,air_capacity:2,field_capacity:5,n_field_capacity:3},{soil_type:"Ut4","organic_matter*10":60,air_capacity:3,field_capacity:9,n_field_capacity:6},{soil_type:"Ut4","organic_matter*10":115,air_capacity:4,field_capacity:13,n_field_capacity:8},{soil_type:"Uu","organic_matter*10":15,air_capacity:0,field_capacity:2,n_field_capacity:1},{soil_type:"Uu","organic_matter*10":30,air_capacity:0,field_capacity:4,n_field_capacity:2},{soil_type:"Uu","organic_matter*10":60,air_capacity:1,field_capacity:7,n_field_capacity:4},{soil_type:"Uu","organic_matter*10":115,air_capacity:2,field_capacity:12,n_field_capacity:7}]},he=function(t,e,a,i){var r=void 0!==t&&null!==t?t.toLowerCase():"",o=e||0,_=a||0,s=i||0;
return"ammonium nitrate"===r?(_=.5,s=.5,o=0):"ammonium phosphate"===r?(_=0,s=1,o=0):"ammonium sulphate"===r?(_=0,s=1,o=0):"potassium nitrate"===r?(_=1,s=0,o=0):"compound fertiliser (0 no3, 100 nh4)"===r?(_=0,s=1,o=0):"compound fertiliser (35 no3, 65 nh4)"===r?(_=.35,s=.65,o=0):"compound fertiliser (43 no3, 57 nh4)"===r?(_=.435,s=.565,o=0):"compound fertiliser (50 no3, 50 nh4)"===r?(_=.5,s=.5,o=0):"urea"===r?(_=0,s=0,o=1):"urea ammonium nitrate"===r?(_=.25,s=.25,o=.5):"urea ammonium sulphate"===r?(_=0,s=.18,o=.82):void 0!==r&&te(n,"Custom mineral fertilzer."),{getName:function(){return r},getCarbamid:function(){return o},getNH4:function(){return s},getNO3:function(){return _}}},ye=function(t,e,a,i,r){this.name=void 0!==t&&null!==t?t.toLowerCase():"",this.vo_AOM_DryMatterContent=r||0,this.vo_AOM_NH4Content=i||0,this.vo_AOM_NO3Content=a||0,this.vo_AOM_CarbamidContent=e||0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=6.5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0,this.vo_DaysAfterApplication=0,"cattle deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.289,this.vo_AOM_NH4Content=.007,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=7.3,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"cattle manure"===this.name?(this.vo_AOM_DryMatterContent=.196,this.vo_AOM_NH4Content=.007,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=6.5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"cattle slurry"===this.name?(this.vo_AOM_DryMatterContent=.103,this.vo_AOM_NH4Content=.032,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=6.1,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"cattle urine"===this.name?(this.vo_AOM_DryMatterContent=.033,this.vo_AOM_NH4Content=.146,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=8.4,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"duck or goose deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.35,this.vo_AOM_NH4Content=.024,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=2.1,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"green-waste compost"===this.name?(this.vo_AOM_DryMatterContent=.5,this.vo_AOM_NH4Content=.002,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=8,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"horse deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.26,this.vo_AOM_NH4Content=.008,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=5.3,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"maize straw"===this.name?(this.vo_AOM_DryMatterContent=.85,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=50,this.vo_CN_Ratio_AOM_Fast=6,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"mushroom compost"===this.name?(this.vo_AOM_DryMatterContent=.39,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=6,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"oilseed-rape cake fert. (5-1-10)"===this.name?(this.vo_AOM_DryMatterContent=.9,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=.012,this.vo_AOM_FastDecCoeffStandard=.05,this.vo_PartAOM_to_AOM_Slow=.38,this.vo_PartAOM_to_AOM_Fast=.62,this.vo_CN_Ratio_AOM_Slow=47.7,this.vo_CN_Ratio_AOM_Fast=6,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"pig deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.33,this.vo_AOM_NH4Content=.009,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=4.8,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"pig manue"===this.name?(this.vo_AOM_DryMatterContent=.039,this.vo_AOM_NH4Content=.014,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"pig slurry"===this.name?(this.vo_AOM_DryMatterContent=.054,this.vo_AOM_NH4Content=.068,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=5.7,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"pig slurry-dk"===this.name?(this.vo_AOM_DryMatterContent=.05,this.vo_AOM_NH4Content=.08,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=85,this.vo_CN_Ratio_AOM_Fast=5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"pig urine"===this.name?(this.vo_AOM_DryMatterContent=.02,this.vo_AOM_NH4Content=.162,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=7.3,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"potato liquid waste"===this.name?(this.vo_AOM_DryMatterContent=.02,this.vo_AOM_NH4Content=.028,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=4.5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"poultry deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.633,this.vo_AOM_NH4Content=.037,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=1.3,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"poultry manure"===this.name?(this.vo_AOM_DryMatterContent=.4,this.vo_AOM_NH4Content=.019,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=3.5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"sewage sludge"===this.name?(this.vo_AOM_DryMatterContent=.141,this.vo_AOM_NH4Content=.089,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=.5,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"soybean straw"===this.name?(this.vo_AOM_DryMatterContent=.85,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=30,this.vo_CN_Ratio_AOM_Fast=6,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"turkey deep-litter manure"===this.name?(this.vo_AOM_DryMatterContent=.48,this.vo_AOM_NH4Content=.038,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=1.3,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"weeds"===this.name?(this.vo_AOM_DryMatterContent=.85,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=30,this.vo_CN_Ratio_AOM_Fast=6,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"wheat straw"===this.name?(this.vo_AOM_DryMatterContent=.85,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.72,this.vo_PartAOM_to_AOM_Fast=.18,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=8,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):"wood ashes"===this.name?(this.vo_AOM_DryMatterContent=1,this.vo_AOM_NH4Content=0,this.vo_AOM_NO3Content=0,this.vo_AOM_CarbamidContent=0,this.vo_AOM_SlowDecCoeffStandard=2e-4,this.vo_AOM_FastDecCoeffStandard=.002,this.vo_PartAOM_to_AOM_Slow=.9,this.vo_PartAOM_to_AOM_Fast=.1,this.vo_CN_Ratio_AOM_Slow=100,this.vo_CN_Ratio_AOM_Fast=10,this.vo_PartAOM_Slow_to_SMB_Slow=0,this.vo_PartAOM_Slow_to_SMB_Fast=1,this.vo_NConcentration=0):void 0!==this.name&&te(n,"Custom organic fertilzer."),this.vo_NConcentration=this.vo_AOM_NO3Content+this.vo_AOM_NH4Content+this.vo_AOM_CarbamidContent},Me=function(t){this._date=t,this.date=function(){return this._date},this.setDate=function(t){this._date=t},this.apply=function(){},this.clone=function(){},this.toString=function(){return"date: "+this.date().toString()}},Oe=function(t,e){se("Seed",t),Me.call(this,t),this._date=t,this._crop=e,se("Seed",this._date),this.setDate=function(t){this._date=t,this._crop.setSeedAndHarvestDate(this.date(),this._crop.harvestDate())},this.apply=function(t){se("Seed.apply",this._date),te(n,"seeding crop: "+this._crop.name()+" at: "+this._date.toISODateString()),t.seedCrop(this._crop)},this.clone=function(){return JSON.parse(JSON.stringify(this))},this.toString=function(){return"seeding at: "+this._date.toString()+" crop: "+this._crop.toString()}};Oe.prototype=Object.create(Me),Oe.prototype.constructor=Oe;var Ce=function(t,e){Me.call(this,t),this._date=t,this._crop=e,this.setDate=function(t){this._date=t,this._crop.setSeedAndHarvestDate(this._crop.seedDate(),this.date())},this.apply=function(t){if(t.cropGrowth())if(te(n,"harvesting crop: "+this._crop.name()+" at: "+this.date().toString()),t.currentCrop()==this._crop){if(t.cropGrowth()){var e=t.cropGrowth();this._crop.setHarvestYields(e.primaryYieldFreshMatter()/100,e.get_FreshSecondaryCropYield()/100),this._crop.setHarvestYieldsTM(e.primaryYield()/100,e.secondaryYield()/100),this._crop.setYieldNContent(e.primaryYieldNitrogenContent(),e.secondaryYieldNitrogenContent()),this._crop.setSumTotalNUptake(e.accumulatedNitrogenUptake()),this._crop.setCropHeight(e.height()),this._crop.setAccumulatedETa(e.accumulatedEvapotranspiration())}t.harvestCurrentCrop()}else te(n,"Crop: "+t.currentCrop().toString()+" to be harvested isn't actual crop of this Harvesting action: "+this._crop.toString())},this.clone=function(){return JSON.parse(JSON.stringify(this))},this.toString=function(){return"harvesting at: "+this.date().toString()+" crop: "+this._crop.toString()}};Ce.prototype=Object.create(Me),Ce.prototype.constructor=Ce;var Ne=function(t,e,a){Me.call(this,t),this._date=t,this._crop=e,this._cropResult=a,this.apply=function(t){if(te(n,"Cutting crop: "+this._crop.name()+" at: "+this.date().toString()),t.currentCrop()==this._crop){var e={id:this._crop.id(),name:this._crop.name(),date:this._date,primaryYieldTM:t.cropGrowth().primaryYield()/100};if(ze){var a="";a+=this._date.getFullYear()+";"+w(e.primaryYieldTM)+"\n",ze.appendFileSync("./out/cutting_yields.csv",a,{encoding:"utf8"})}this._cropResult.cuts||(this._cropResult.cuts=[]),this._cropResult.cuts.push(e),t.cropGrowth()&&t.cropGrowth().applyCutting()}},this.clone=function(){return JSON.parse(JSON.stringify(this))},this.toString=function(){return"Cutting at: "+this.date().toString()+" crop: "+this._crop.toString()}};Ne.prototype=Object.create(Me),Ne.prototype.constructor=Ne;var Ae=function(t,e,a){Me.call(this,t),this._date=t,this._partition=e,this._amount=a,this.apply=function(t){t.applyMineralFertiliser(this._partition,this._amount)},this.partition=function(){return this._partition},this.amount=function(){return this._amount},this.toString=function(){return"applying mineral fertiliser at: "+this._date.toString()+" amount: "+this._amount+" partition: "+this.partition().toString()},this.clone=function(){return JSON.parse(JSON.stringify(this))}};Ae.prototype=Object.create(Me),Ae.prototype.constructor=Ae;var De=function(t,e,a,i){Me.call(this,t),this._date=t,this._parameters=e,this._amount=a,this._incrop=void 0===i?!0:i,this.apply=function(t){t.applyOrganicFertiliser(this._parameters,this._amount,this._incrop)},this.parameters=function(){return this._parameters},this.amount=function(){return this._amount},this.incorporation=function(){return this._incorporation},this.toString=function(){return"applying organic fertiliser at: "+this.date().toString()+" amount: "+this.amount()+"	N percentage: "+this._parameters.vo_NConcentration+"	N amount: "+this.amount()*this._parameters.vo_NConcentration},this.clone=function(){return JSON.parse(JSON.stringify(this))}};De.prototype=Object.create(Me),De.prototype.constructor=De;var we=function(t,e){Me.call(this,t),this._date=t,this._depth=e,this.apply=function(t){t.applyTillage(this._depth)},this.toString=function(){return"applying tillage at: "+this.date().toString()+" depth: "+this._depth},this.clone=function(){return JSON.parse(JSON.stringify(this))}};we.prototype=Object.create(Me),we.prototype.constructor=we;var Pe=function(t,e,a){Me.call(this,t),this._date=t,this._amount=e,this._parameters=a,this.apply=function(t){t.applyIrrigation(this.amount(),this.nitrateConcentration())},this.amount=function(){return this._amount},this.nitrateConcentration=function(){return this._parameters.nitrateConcentration},this.sulfateConcentration=function(){return this._parameters.sulfateConcentration},this.toString=function(){return"applying irrigation at: "+this.date().toString()+" amount: "+this.amount()+" nitrateConcentration: "+this.nitrateConcentration()+" sulfateConcentration: "+this.sulfateConcentration()},this.clone=function(){return JSON.parse(JSON.stringify(this))}};Pe.prototype=Object.create(Me),Pe.prototype.constructor=Pe;var Re=function(t,e){var a=t,i=e,r=[],o=[];r.equal_range=function(t){var e=[];return this.forEach(function(a){a.date().toISODateString()===t.toISODateString()&&e.push(a)}),e},r.upper_bound=function(t){for(var e=0,a=this.length;a>e;e++)if(this[e].date()>t)return this[e];return null};var n=function(t){r.push(t),r.sort(function(t,e){var a=t.date(),i=e.date();return i>a?-1:a>i?1:0})};n(new Oe(e.seedDate(),e)),se("pp",e.seedDate()),n(new Ce(e.harvestDate(),e,o));for(var _=e.getCuttingDates(),s=_.length,c=0;s>c;c++)n(new Ne(Date(_.at(c)),e));var p=function(t,e){var a=r.equal_range(t);a.forEach(function(t){t.apply(e)})},l=function(t){var e=r.upper_bound(t);return e?e.date():new Date(1/0)},u=function(t){var e=null;return r.forEach(function(a){a.date().toISODateString()===t.toISODateString()&&(e=a)}),e},g=function(){return 0===r.length?new Date(1/0):r[0].date()},f=function(){return 0===r.length?new Date(1/0):r[r.length-1]},v=function(){var t="";return t+="name: "+a+" start: "+g().toString()+" end: "+f().toString()+"\n",t+="worksteps:\n",r.forEach(function(e){t+="at: "+e.date().toString()+" what: "+e.toString()+"\n"}),t};return{getWorkstep:u,addApplication:n,apply:p,nextDate:l,name:function(){return a},crop:function(){return i},isFallow:function(){return!i.isValid()},start:g,end:f,getWorksteps:function(){return r},clearWorksteps:function(){r=[]},toString:v,setCustomId:function(t){_customId=t},cropResult:function(){return o}}},Fe=function(t,e){this._startDate=t,this._endDate=e,this._data=[],this._numberOfSteps=0,this._offset=0,this._dates=[],this.setData=function(t){this._data=t,this._offset=t[$.ISODATESTRING].indexOf(this._startDate.toISODateString());var e=t[$.ISODATESTRING].indexOf(this._endDate.toISODateString());this._offset<0&&(this._numberOfSteps=0,te(s,"Start date not valid: no. of steps is 0")),0>e&&(e=this._data[$.ISODATESTRING].length-1,this._endDate=new Date(Date.parse(this._data[$.ISODATESTRING][e])),te(_,"End date not found: end date adjusted to "+this._endDate.toISODateString()));for(var a=0;a<this._numberOfSteps;a++)this._dates[a]=new Date(Date.parse(this._data[$.ISODATESTRING][a]));this._numberOfSteps=e-this._offset},this.date=function(t){return this._dates[t+this._offset]},this.isValid=function(){return this._numberOfSteps>0},this.dataForTimestep=function(t,e){return this._data[t][e+this._offset]},this.noOfStepsPossible=function(){return this._numberOfSteps},this.startDate=function(){return this._startDate},this.endDate=function(){return this._endDate},this.doy=function(t){if(this._data[$.DOY].length>0)return this._data[$.DOY][t+this._offset];var e=new Date(this._startDate.getFullYear(),this._startDate.getMonth(),this._startDate.getDate()+t);return m((e-new Date(e.getFullYear(),0,1))/864e5)+1},this.isAvailable=function(t){return this._data[t].length>0}};t.prototype={step:function(){},name:function(){return"unknown"},height:function(){return 0},kcFactor:function(){return 0},leafAreaIndex:function(){return 0},numberOfOrgans:function(){return 0},soilCoverage:function(){return 0},stomataResistance:function(){return 0},numberOfSpecies:function(){return 1},rootingDepth:function(){return 0},nitrogenStress:function(){return 1},heatStress:function(){return 1},oxygenStress:function(){return 1},waterStress:function(){return 1},biomass:function(){return 0},growthIncrement:function(){return 0},shootBiomass:function(){return 0},shootBiomassNitrogenConcentration:function(){return 0},rootBiomass:function(){return 0},rootNitrogenConcentration:function(){return 0},netPrimaryProduction:function(){return 0},netPhotosynthate:function(){return 0},grossPhotosynthate:function(){return 0},primaryYield:function(){return 0},primaryYieldFreshMatter:function(){return 0},primaryYieldNitrogenConcentration:function(){return 0},primaryYieldNitrogenContent:function(){return 0},primaryYieldCrudeProteinConcentration:function(){return 0},secondaryYield:function(){return 0},secondaryYieldNitrogenConcentration:function(){return 0},secondaryYieldNitrogenContent:function(){return 0},residueBiomass:function(){return 0},residuesNitrogenConcentration:function(){return 0},residuesNitrogenContent:function(){return 0},referenceEvapotranspiration:function(){return 0},accumulatedEvapotranspiration:function(){return 0},accumulateEvapotranspiration:function(){return 0},remainingEvapotranspiration:function(){return 0},transpiration:function(){return 0},potentialTranspiration:function(){return 0},evaporatedFromIntercept:function(){return 0},netPrecipitation:function(){return 0},nitrogenUptake:function(){return 0},potentialNitrogenUptake:function(){return 0},accumulatedNitrogenUptake:function(){return 0},currentTemperatureSum:function(){return 0},developmentalStage:function(){return 1},relativeTotalDevelopment:function(){return 0},heatSumIrrigationEnd:function(){return 0},heatSumIrrigationStart:function(){return 0},senescencedTissue:function(){return[]}};var Te=function(t,e){var a=-1,i=t.toLowerCase(),r=0,o=0,n=0,_=1,s=[],c=[],p=new Date(1/0),l=new Date(1/0),u=0,g=0,f=0,v=0,d=0,m=0,S=0,h=null,y=null;return"winter wheat"===i||"wheat"===i?(a=1,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.2,.6,0],[.13,.2,.67,0],[0,0,.03,.97],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.05,0,0],[0,.05,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[0,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.9,1,1,.9,.8],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0018,.0017,.0016,.0015,.0015],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[148,284,380,200,420,25],pc_VernalisationRequirement:[0,50,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"winter wheat",pc_MaxAssimilationRate:52,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.3,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:.83,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:230,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:6,pc_CropHeightP2:.5,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.005,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:461,pc_HeatSumIrrigationEnd:1676,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0011,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:620,pc_EndSensitivePhaseHeatStress:740,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},h={name:"winter wheat",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"winter barley"===i||"barley"===i?(a=2,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.3,.2,.5,0],[.1,.2,.4,.3],[0,0,0,1],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.05,0,0],[0,.05,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[.8,.8,.8,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0019,.0018,.0017,.0016,.0016],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[108,284,300,120,260,25],pc_VernalisationRequirement:[0,33,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.04,.04,.04,.04,.04],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"winter barley",pc_MaxAssimilationRate:40,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.3,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:.87,pc_ResidueNRatio:.3,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:12,pc_CropHeightP2:.6,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.004,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:560,pc_HeatSumIrrigationEnd:1032,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0011,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},h={name:"winter barley",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:180,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"winter rye"===i||"rye"===i?(a=3,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.53,.47,0,0],[.2,.6,.2,0],[.13,.37,.5,0],[0,0,.25,.75],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.03,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.7,.75,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[148,284,200,400,350,25],pc_VernalisationRequirement:[0,50,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.95,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"winter rye",pc_MaxAssimilationRate:38,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:1.5,pc_ResidueNRatio:.3,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:12,pc_CropHeightP2:.55,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.004,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:406,pc_HeatSumIrrigationEnd:934,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},h={name:"winter rye",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"spring barley"===i?(a=4,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.25,.23,.52,0],[.17,.23,.5,.1],[0,0,0,1],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,.002,0],[0,.03,.002,0]],pc_BaseDaylength:[0,0,7,0,0,0],pc_BaseTemperature:[1,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,0,0,0],pc_DroughtStressThreshold:[.8,.8,.8,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0019,.0018,.0017,.0016,.0016],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.6,1,1,.8,.25],pc_StageTemperatureSum:[108,284,330,120,200,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.04,.04,.04,.04,.04],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.95,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"spring barley",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.3,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:.87,pc_ResidueNRatio:.3,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:12,pc_CropHeightP2:.6,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.004,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:560,pc_HeatSumIrrigationEnd:1032,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0011,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:550,pc_EndSensitivePhaseHeatStress:670,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},h={name:"spring barley",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:180,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"grain maize"===i?(a=5,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.4,0,0],[.55,.25,.2,0],[.2,.2,.6,0],[.05,.05,.65,.25],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[.005,.001,0,0],[.1,.003,0,0],[.1,.005,.013,0],[0,.02,.02,0]],pc_BaseDaylength:[0,0,0,0,0,0,0],pc_BaseTemperature:[7,6,6,6,9,9,9],pc_OptimumTemperature:[30,30,30,30,30,30,30],pc_DaylengthRequirement:[0,0,0,0,0,0,0],pc_DroughtStressThreshold:[.5,.5,.5,.5,.6,.6,.2],pc_OrganMaintenanceRespiration:[.01,.03,.01,.007],pc_OrganGrowthRespiration:[.01,.03,.01,.007],pc_SpecificLeafArea:[.0028,.002,.002,.0019,.0018,.0018,.0018],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01,.01],pc_StageKcFactor:[.4,1,1,1.2,1.25,1.25,1],pc_StageTemperatureSum:[68,284,190,250,200,400,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[12,12,0,0],pc_CriticalOxygenContent:[.04,.02,.02,.02,.02,.02,.04],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.78,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"grain maize",pc_MaxAssimilationRate:96,pc_CarboxylationPathway:2,pc_MinimumTemperatureForAssimilation:6,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.004,pc_NConcentrationPN:1,pc_NConcentrationB0:5,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:0,pc_LuxuryNCoeff:1,pc_MaxCropHeight:2,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:60,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.025,pc_StageAtMaxDiameter:4,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:993,pc_MaxNUptakeParam:7.4,pc_RootDistributionParam:.0035,pc_PlantDensity:10,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:9,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0014,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:.5,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},h={name:"grain maize",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.61,vo_PartAOM_to_AOM_Fast:.39,vo_CN_Ratio_AOM_Slow:225,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"maize silage"===i||"maize"===i||"maize-silage"===i?(a=7,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.65,.35,0,0],[.6,.2,.2,0],[.2,.2,.6,0],[.05,.05,.65,.25],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[.005,.001,0,0],[.1,.003,0,0],[.1,.005,.013,0],[0,.02,.02,0]],pc_BaseDaylength:[0,0,0,0,0,0,0],pc_BaseTemperature:[7,6,6,6,9,9,9],pc_OptimumTemperature:[30,30,30,30,30,30,30],pc_DaylengthRequirement:[0,0,0,0,0,0,0],pc_DroughtStressThreshold:[.5,.5,.5,.5,.6,.6,.2],pc_OrganMaintenanceRespiration:[.01,.03,.01,.007],pc_OrganGrowthRespiration:[.01,.03,.01,.007],pc_SpecificLeafArea:[.0025,.0017,.0015,.0014,.0012,.0012,.0012],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01,.01],pc_StageKcFactor:[.4,1,1,1.2,1.25,1.25,1],pc_StageTemperatureSum:[68,284,190,250,200,400,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[12,12,0,0],pc_CriticalOxygenContent:[.04,.02,.02,.02,.02,.02,.04],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:2,yieldPercentage:.9,yieldDryMatter:.32},{organId:3,yieldPercentage:.9,yieldDryMatter:.32},{organId:4,yieldPercentage:1,yieldDryMatter:.32}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"maize silage",pc_MaxAssimilationRate:96,pc_CarboxylationPathway:2,pc_MinimumTemperatureForAssimilation:6,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.004,pc_NConcentrationPN:1,pc_NConcentrationB0:5,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:0,pc_LuxuryNCoeff:1,pc_MaxCropHeight:2,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:60,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.025,pc_StageAtMaxDiameter:4,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:993,pc_MaxNUptakeParam:7.4,pc_RootDistributionParam:.0035,pc_PlantDensity:10,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:9,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0014,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:.5,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},h={name:"maize silage",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.61,vo_PartAOM_to_AOM_Fast:.39,vo_CN_Ratio_AOM_Slow:225,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"winter rape"===i||"rape"===i||"rapeseed"===i?(a=9,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.4,.4,0],[.13,.17,.7,0],[0,0,.1,.9],[0,0,0,0],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.01,0,0],[0,.01,0,0],[0,.01,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[0,1,1,1,1,1],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.8,.8,.8,.8,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.6,1.1,1.3,1.1,.8,.6],pc_StageTemperatureSum:[130,284,160,160,900,25],pc_VernalisationRequirement:[0,35,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.03],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.55,yieldDryMatter:.91}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.35},{organId:3,yieldPercentage:.85,yieldDryMatter:.35}],organIdsForCutting:[],pc_CropName:"winter rape",pc_MaxAssimilationRate:50,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.5,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.35,pc_NConcentrationB0:3.5,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:0,pc_LuxuryNCoeff:1.1,pc_MaxCropHeight:.8,pc_ResidueNRatio:.3,pc_SamplingDepth:.6,pc_TargetNSamplingDepth:340,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:450,pc_HeatSumIrrigationEnd:1e3,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:100,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.002,pc_RootFormFactor:1.5,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},h={name:"winter rape",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.78,vo_PartAOM_to_AOM_Fast:.22,vo_CN_Ratio_AOM_Slow:227,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"sugar beet"===i||"beet"===i?(a=10,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.54,.28,.18,0],[.15,.41,.41,.02],[0,.15,.27,.58],[0,.01,.01,.98],[0,0,.01,.99],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.001,0,0],[.08,.005,0,0],[.08,.01,0,0]],pc_BaseDaylength:[0,0,0,0,0,0],pc_BaseTemperature:[3,3,0,0,0,0],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,0,0,0,0,0],pc_DroughtStressThreshold:[1,.7,.8,.8,.8,.7],pc_OrganMaintenanceRespiration:[.015,.03,.003,.01],pc_OrganGrowthRespiration:[.015,.03,.003,.01],pc_SpecificLeafArea:[9e-4,.001,.001,9e-4,9e-4,9e-4],pc_StageMaxRootNConcentration:[.02,.015,.012,.01,.009,.009],pc_StageKcFactor:[.4,.8,1,1.35,.85,.4],pc_StageTemperatureSum:[100,300,565,608,1600,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[5,10,0,0],pc_CriticalOxygenContent:[.03,.03,.03,.03,.03,.03],pc_AbovegroundOrgan:[!1,!0,!0,!1],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:1,yieldDryMatter:.23}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.95,yieldDryMatter:.16}],organIdsForCutting:[],pc_CropName:"sugar beet",pc_MaxAssimilationRate:100,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:7,pc_CropSpecificMaxRootingDepth:1.6,pc_MinimumNConcentration:.004,pc_NConcentrationPN:1.35,pc_NConcentrationB0:3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:0,pc_LuxuryNCoeff:1.65,pc_MaxCropHeight:.5,pc_ResidueNRatio:2,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:200,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:0,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:600,pc_HeatSumIrrigationEnd:1691,pc_MaxNUptakeParam:5.645,pc_RootDistributionParam:.0012,pc_PlantDensity:8,pc_RootGrowthLag:-60,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.06,pc_RootPenetrationRate:.0011,pc_RootFormFactor:2,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},h={name:"sugar beet",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.38,vo_PartAOM_to_AOM_Fast:.62,vo_CN_Ratio_AOM_Slow:47.7,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"mustard"===i?(a=11,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,.2,0],[.2,.6,.2,0],[.13,.33,.54,0],[0,0,.04,.96],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.03,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,1,1],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.8,.8,.8,.8,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,0],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.6,1.1,1.3,1.1,.8,.6],pc_StageTemperatureSum:[40,284,200,400,350,25],pc_VernalisationRequirement:[0,50,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.03],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:2,yieldPercentage:.01,yieldDryMatter:.15},{organId:3,yieldPercentage:.01,yieldDryMatter:.15},{organId:4,yieldPercentage:.01,yieldDryMatter:.15}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"mustard",pc_MaxAssimilationRate:65,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.5,pc_MinimumNConcentration:.005,pc_NConcentrationPN:2.5,pc_NConcentrationB0:2.5,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:0,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:1,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:20,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.6,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:450,pc_HeatSumIrrigationEnd:1e3,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:600,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:8e-4,pc_RootFormFactor:2,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},h={name:"mustard",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:0,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.005,vo_AOM_FastDecCoeffStandard:.025,vo_PartAOM_to_AOM_Slow:.38,vo_PartAOM_to_AOM_Fast:.62,vo_CN_Ratio_AOM_Slow:47.7,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"oil raddich"===i?(a=17,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.6,.2,0],[.13,.33,.54,0],[0,0,.04,.96],[0,0,0,0],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,1,1],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.8,.8,.8,.8,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.3,.7,.9,.99,.6,.6],pc_StageTemperatureSum:[148,150,200,200,325,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.03],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.3},{organId:3,yieldPercentage:.85,yieldDryMatter:.3},{organId:4,yieldPercentage:.85,yieldDryMatter:.91}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"oil raddich",pc_MaxAssimilationRate:60.08,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.5,pc_MinimumNConcentration:.005,pc_NConcentrationPN:2,pc_NConcentrationB0:9.492,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.1,pc_MaxCropHeight:.8,pc_ResidueNRatio:.3,pc_SamplingDepth:.6,pc_TargetNSamplingDepth:340,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:8.77,pc_CropHeightP2:.428,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:450,pc_HeatSumIrrigationEnd:1e3,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:100,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.002,pc_RootFormFactor:1.5,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},h={name:"oil raddich",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.78,vo_PartAOM_to_AOM_Fast:.22,vo_CN_Ratio_AOM_Slow:227,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"winter triticale"===i||"triticale"===i?(a=19,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.3,.5,0],[.13,.3,.57,0],[0,0,.06,.94],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.04,0,0],[0,.04,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[0,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,0,0,0],pc_DroughtStressThreshold:[1,.7,.75,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0018,.0017,.0016,.0015,.0015],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.04,.7,1,1.1,.8,.25],pc_StageTemperatureSum:[300,650,200,250,300,25],pc_VernalisationRequirement:[0,50,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"winter triticale",pc_MaxAssimilationRate:48,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:1.1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:230,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:6.84,pc_CropHeightP2:.53,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.005,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:461,pc_HeatSumIrrigationEnd:1676,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},h={name:"winter triticale",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"spring rye"===i?(a=20,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.53,.47,0,0],[.2,.6,.2,0],[.13,.37,.5,0],[0,0,.25,.75],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.03,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.3,.3,.3,.3,.3],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[148,284,200,400,350,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.95,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"spring rye",pc_MaxAssimilationRate:38,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:1.3,pc_ResidueNRatio:.3,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:12,pc_CropHeightP2:.55,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.004,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:406,pc_HeatSumIrrigationEnd:934,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},h={name:"spring rye",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"oat compound"===i||"oats"===i||"oat"===i?(a=22,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.53,.47,0,0],[.2,.6,.2,0],[.13,.37,.5,0],[0,0,.25,.75],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.03,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.7,.75,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.002,.002,.002,.002,.002],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4244,.7,.9,.9,.61,.25],pc_StageTemperatureSum:[100,299.9,419.2,200,200,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.95,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"oat compound",pc_MaxAssimilationRate:38.32,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:2,pc_NConcentrationB0:1.963,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.2,pc_MaxCropHeight:1,pc_ResidueNRatio:.3,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:200,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:3.74,pc_CropHeightP2:.55,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.004,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:406,pc_HeatSumIrrigationEnd:934,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0011,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},h={name:"oat compound",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.38,vo_PartAOM_to_AOM_Fast:.62,vo_CN_Ratio_AOM_Slow:47.7,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"spring triticale"===i?(a=23,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.3,.5,0],[.13,.3,.57,0],[0,0,.06,.94],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.04,0,0],[0,.04,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[0,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,0,0,0],pc_DroughtStressThreshold:[0,0,0,0,0,0],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0018,.0017,.0016,.0015,.0015],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.1,.3,.6,.7,.7,.25],pc_StageTemperatureSum:[150,200,400,350,300,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"spring triticale",pc_MaxAssimilationRate:45,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:.9,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:230,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:12,pc_CropHeightP2:.55,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.005,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:461,pc_HeatSumIrrigationEnd:1676,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},h={name:"spring triticale",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"field pea"===i||"pea"===i?(a=24,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.5,.3,0],[.13,.33,.54,0],[0,0,0,1],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[1,1,1,1,1,1],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.7,.75,.75,.6,.5],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0018,.0017,.0016,.0015,.0015],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[25,160,210,180,480,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.8,.8,.8,.8,.8,.8],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.8,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.9,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"field pea",pc_MaxAssimilationRate:60,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:3,pc_CropSpecificMaxRootingDepth:.7,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.35,pc_NConcentrationB0:3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.74,pc_LuxuryNCoeff:1,pc_MaxCropHeight:.5,pc_ResidueNRatio:.8,pc_SamplingDepth:.6,pc_TargetNSamplingDepth:110,pc_TargetN30:40,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.005,pc_StageAtMaxDiameter:4,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:993,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.06,pc_RootPenetrationRate:7e-4,pc_RootFormFactor:1,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:0,pc_EndSensitivePhaseHeatStress:0,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},h={name:"field pea",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.38,vo_PartAOM_to_AOM_Fast:.62,vo_CN_Ratio_AOM_Slow:47.7,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"spring wheat"===i?(a=25,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:6,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.5,.5,0,0],[.2,.2,.6,0],[.13,.2,.67,0],[0,0,.03,.97],[0,0,0,1],[0,0,0,.8]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.05,0,0],[0,.05,0,0]],pc_BaseDaylength:[0,0,7,7,0,0],pc_BaseTemperature:[0,1,1,1,9,9],pc_OptimumTemperature:[30,30,30,30,30,30],pc_DaylengthRequirement:[0,20,20,20,0,0],pc_DroughtStressThreshold:[1,.9,1,1,.9,.8],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.002,.0018,.0017,.0016,.0015,.0015],pc_StageMaxRootNConcentration:[.02,.02,.012,.01,.01,.01],pc_StageKcFactor:[.6,.7,1.1,1.1,.8,.25],pc_StageTemperatureSum:[120,284,380,180,435,25],pc_VernalisationRequirement:[0,0,0,0,0,0],pc_InitialOrganBiomass:[53,53,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.85,yieldDryMatter:.86}],organIdsForSecondaryYield:[{organId:2,yieldPercentage:.85,yieldDryMatter:.86},{organId:3,yieldPercentage:.9,yieldDryMatter:.86}],organIdsForCutting:[],pc_CropName:"spring wheat",pc_MaxAssimilationRate:52,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:4,pc_CropSpecificMaxRootingDepth:1.3,pc_MinimumNConcentration:.005,pc_NConcentrationPN:1.6,pc_NConcentrationB0:2,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:1,pc_FixingN:0,pc_LuxuryNCoeff:1.3,pc_MaxCropHeight:.83,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:230,pc_TargetN30:120,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:6,pc_CropHeightP2:.5,pc_StageAtMaxHeight:3,pc_MaxCropDiameter:.005,pc_StageAtMaxDiameter:2,pc_HeatSumIrrigationStart:461,pc_HeatSumIrrigationEnd:1676,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:220,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:0,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0011,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:780,pc_EndSensitivePhaseHeatStress:900,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:0,pc_FieldConditionModifier:1},h={name:"spring wheat",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:200,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean 000"===i||"soy"===i||"soy bean"===i?(a=28,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-22.35,-22.35,-22.35,-22.35,-22.35,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,25,25,25,25,30],pc_DaylengthRequirement:[0,-14.6,-14.6,-14.6,-14.6,-14.6,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,457,323,500,770,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean 000",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1.2,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},h={name:"soy bean 000",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean 00"===i?(a=29,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-21.1,-21.1,-21.1,-21.1,-21.1,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,25],pc_DaylengthRequirement:[0,-14.35,-14.35,-14.35,-14.35,-14.35,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.01],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,473,323,500,783,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean 00",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},h={name:"soy bean 00",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean 0"===i?(a=30,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,0]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-19.95,-19.95,-19.95,-19.95,-19.95,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-14.1,-14.1,-14.1,-14.1,-14.1,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,500,350,500,804,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean 0",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},h={name:"soy bean 0",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean i"===i?(a=31,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-18.75,-18.75,-18.75,-18.75,-18.75,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-13.84,-13.84,-13.84,-13.84,-13.84,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,506,350,500,825,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean i",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},h={name:"soy bean i",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean ii"===i?(a=32,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-17.6,-17.6,-17.6,-17.6,-17.6,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-13.59,-13.59,-13.59,-13.59,-13.59,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,519,363,500,846,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean ii",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},h={name:"soy bean ii",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean iii"===i?(a=33,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-16.9,-16.9,-16.9,-16.9,-16.9,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-13.4,-13.4,-13.4,-13.4,-13.4,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,571,377,500,867,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean iii",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},h={name:"soy bean iii",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean iv"===i?(a=34,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-16.5,-16.5,-16.5,-16.5,-16.5,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-13.09,-13.09,-13.09,-13.09,-13.09,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,584,404,500,887,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean iv",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},h={name:"soy bean iv",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean v"===i?(a=35,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-16.1,-16.1,-16.1,-16.1,-16.1,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-12.83,-12.83,-12.83,-12.83,-12.83,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,597,417,500,908,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean v",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},h={name:"soy bean v",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean vi"===i?(a=36,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-15.8,-15.8,-15.8,-15.8,-15.8,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-12.58,-12.58,-12.58,-12.58,-12.58,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,611,430,500,929,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean vi",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},h={name:"soy bean vi",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean vii"===i?(a=37,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-15.45,-15.45,-15.45,-15.45,-15.45,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-12.33,-12.33,-12.33,-12.33,-12.33,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.7,.9,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,630,430,500,950,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean vii",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},h={name:"soy bean vii",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean viii"===i?(a=38,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-15.1,-15.1,-15.1,-15.1,-15.1,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-12.07,-12.07,-12.07,-12.07,-12.07,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,653,430,500,971,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean viii",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},h={name:"soy bean viii",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean ix"===i?(a=39,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-14.82,-14.82,-14.82,-14.82,-14.82,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-11.88,-11.88,-11.88,-11.88,-11.88,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,702,430,500,976,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean ix",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},h={name:"soy bean ix",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean x"===i?(a=40,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-14.65,-14.65,-14.65,-14.65,-14.65,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-11.78,-11.78,-11.78,-11.78,-11.78,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,718,430,500,976,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean x",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},h={name:"soy bean x",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean xi"===i?(a=41,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-14.5,-14.5,-14.5,-14.5,-14.5,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-11.7,-11.7,-11.7,-11.7,-11.7,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,630,430,500,950,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean xi",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},h={name:"soy bean xi",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}):"soy bean xii"===i&&(a=42,y={autoIrrigationOn:!1,pc_NumberOfDevelopmentalStages:7,pc_NumberOfOrgans:4,pc_AssimilatePartitioningCoeff:[[.6,.3,.1,0],[.55,.3,.15,0],[.2,.2,.6,0],[0,.37,.6,.03],[0,0,0,1],[0,0,0,1],[0,0,0,1]],pc_OrganSenescenceRate:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,.03,0,0],[0,.05,.05,0],[0,.05,.05,0]],pc_BaseDaylength:[0,-14.4,-14.4,-14.4,-14.4,-14.4,0],pc_BaseTemperature:[8,8,6,6,6,-15,-15],pc_OptimumTemperature:[30,30,30,25,25,25,30],pc_DaylengthRequirement:[0,-11.65,-11.65,-11.65,-11.65,-11.65,0],pc_DroughtStressThreshold:[1,1,1,1,1,1,1],pc_OrganMaintenanceRespiration:[.01,.03,.015,.01],pc_OrganGrowthRespiration:[.01,.03,.015,.01],pc_SpecificLeafArea:[.0035,.0032,.003,.0025,.002,.002,.002],pc_StageMaxRootNConcentration:[.0155,.012,.01,.01,.01,.01,.1],pc_StageKcFactor:[.4,.7,1.1,1.3,1.3,1.1,.4],pc_StageTemperatureSum:[148,50,630,430,500,950,25],pc_VernalisationRequirement:[0,0,0,0,0,0,0],pc_InitialOrganBiomass:[25,25,0,0],pc_CriticalOxygenContent:[.08,.08,.08,.08,.08,.08,.08],pc_AbovegroundOrgan:[!1,!0,!0,!0],pc_StorageOrgan:[!1,!1,!1,!0],organIdsForPrimaryYield:[{organId:4,yieldPercentage:.79,yieldDryMatter:.86}],organIdsForSecondaryYield:[],organIdsForCutting:[],pc_CropName:"soy bean xii",pc_MaxAssimilationRate:30,pc_CarboxylationPathway:1,pc_MinimumTemperatureForAssimilation:5,pc_CropSpecificMaxRootingDepth:1.4,pc_MinimumNConcentration:.005,pc_NConcentrationPN:5,pc_NConcentrationB0:.3,pc_NConcentrationAbovegroundBiomass:.06,pc_NConcentrationRoot:.02,pc_InitialKcFactor:.4,pc_DevelopmentAccelerationByNitrogenStress:0,pc_FixingN:.55,pc_LuxuryNCoeff:1,pc_MaxCropHeight:1,pc_ResidueNRatio:.5,pc_SamplingDepth:.9,pc_TargetNSamplingDepth:50,pc_TargetN30:0,pc_DefaultRadiationUseEfficiency:.5,pc_CropHeightP1:9,pc_CropHeightP2:.35,pc_StageAtMaxHeight:4,pc_MaxCropDiameter:.006,pc_StageAtMaxDiameter:3,pc_HeatSumIrrigationStart:113,pc_HeatSumIrrigationEnd:900,pc_MaxNUptakeParam:3.145,pc_RootDistributionParam:.002787,pc_PlantDensity:30,pc_RootGrowthLag:-30,pc_MinimumTemperatureRootGrowth:6,pc_InitialRootingDepth:.1,pc_RootPenetrationRate:.0012,pc_RootFormFactor:3,pc_SpecificRootLength:300,pc_StageAfterCut:0,pc_CriticalTemperatureHeatStress:31,pc_LimitingTemperatureHeatStress:40,pc_BeginSensitivePhaseHeatStress:420,pc_EndSensitivePhaseHeatStress:540,pc_DroughtImpactOnFertilityFactor:0,pc_CuttingDelayDays:null,pc_FieldConditionModifier:1},h={name:"soy bean xii",vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.67,vo_PartAOM_to_AOM_Fast:.33,vo_CN_Ratio_AOM_Slow:75,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}),Object.keys(e).forEach(function(t){void 0!==y[t]&&typeof e[t]==typeof y[t]&&(y[t]=e[t])
}),{type:"generic",id:function(){return a},name:function(){return i},isValid:function(){return a>-1},cropParameters:function(){return y},setCropParameters:function(t){y=t},residueParameters:function(){return h},setResidueParameters:function(t){h=t},seedDate:function(){return l},harvestDate:function(){return p},getCuttingDates:function(){return s},setSeedAndHarvestDate:function(t,e){l=t,p=e},addCuttingDate:function(t){s.push(t)},setHarvestYields:function(t,e){u+=t,v+=e},setHarvestYieldsTM:function(t,e){f+=t,m+=e},addCuttingYieldDM:function(t){c.push(t)},getCuttingYieldsDM:function(){return c},setYieldNContent:function(t,e){g+=t,d+=e},addAppliedIrrigationWater:function(t){o+=t},setSumTotalNUptake:function(t){S=t},setCropHeight:function(t){n=t},setAccumulatedETa:function(t){r=t},appliedIrrigationWater:function(){return o},sumTotalNUptake:function(){return S},primaryYield:function(){return u*_},secondaryYield:function(){return v*_},primaryYieldTM:function(){return f*_},secondaryYieldTM:function(){return m*_},primaryYieldN:function(){return g},aboveGroundBiomasseN:function(){return g+d},secondaryYieldN:function(){return d},cropHeight:function(){return n},reset:function(){u=v=o=0,g=d=r=0,f=v=0},get_AccumulatedETa:function(){return r},isAutoIrrigationOn:function(){return y.autoIrrigationOn}}},He=function(e,a,i,r,o){for(var s=e,c=a,p=i,d=o,m=e.vs_NumberOfLayers(),C=r.vs_Latitude,w=0,P=0,R=p.pc_AbovegroundOrgan,H=0,x=p.pc_AssimilatePartitioningCoeff,L=0,B=0,E=0,k=p.pc_BaseDaylength,G=p.pc_BaseTemperature,U=p.pc_BeginSensitivePhaseHeatStress,Y=0,V=0,W=3,q=p.pc_CarboxylationPathway,K=0,z=0,j=p.pc_CriticalOxygenContent,J=p.pc_CriticalTemperatureHeatStress,X=0,Z=1,Q=0,$=p.pc_CropHeightP1,ee=p.pc_CropHeightP2,ae=0,ie=1,re=p.pc_CropName,oe=p.pc_CropSpecificMaxRootingDepth,ne=new Float64Array(p.pc_NumberOfDevelopmentalStages),_e=0,se=0,ce=0,le=p.pc_DaylengthRequirement,ue=0,ge=0,fe=p.pc_DefaultRadiationUseEfficiency,ve=p.pc_DevelopmentAccelerationByNitrogenStress,de=0,me=1,Se=p.pc_DroughtImpactOnFertilityFactor,he=p.pc_DroughtStressThreshold,ye=0,Me=c.pc_EmergenceFloodingControlOn,Oe=c.pc_EmergenceMoistureControlOn,Ce=p.pc_EndSensitivePhaseHeatStress,Ne=0,Ae=0,De=0,we=0,Pe=p.pc_FixingN,Re=new Float64Array(m),Fe=0,Te=0,He=0,be=0,Ie=0,xe=0,Le=0,Be=0,Ee=r.vs_HeightNN,ke=p.pc_InitialKcFactor,Ge=p.pc_InitialOrganBiomass,Ue=p.pc_InitialRootingDepth,Ye=0,Ve=.6,We=0,qe=p.pc_LimitingTemperatureHeatStress,Ke=p.pc_LuxuryNCoeff,ze=0,je=p.pc_MaxAssimilationRate,Je=p.pc_MaxCropDiameter,Xe=p.pc_MaxCropHeight,Ze=r.vs_MaxEffectiveRootingDepth,Qe=0,$e=p.pc_MaxNUptakeParam,ta=0,ea=p.pc_MinimumNConcentration,aa=p.pc_MinimumTemperatureForAssimilation,ia=p.pc_MinimumTemperatureRootGrowth,ra=p.pc_NConcentrationAbovegroundBiomass,oa=0,na=0,_a=p.pc_NConcentrationB0,sa=p.pc_NConcentrationPN,ca=p.pc_NConcentrationRoot,pa=0,la=0,ua=new Float64Array(m),ga=0,fa=0,va=0,da=0,ma=c.pc_NitrogenResponseOn,Sa=p.pc_NumberOfDevelopmentalStages,ha=p.pc_NumberOfOrgans,ya=p.pc_OptimumTemperature,Ma=new Float64Array(p.pc_NumberOfOrgans),Oa=new Float64Array(p.pc_NumberOfOrgans),Ca=new Float64Array(p.pc_NumberOfOrgans),Na=new Float64Array(p.pc_NumberOfOrgans),Aa=p.pc_OrganGrowthRespiration,Da=p.pc_OrganMaintenanceRespiration,wa=new Float64Array(p.pc_NumberOfOrgans),Pa=p.pc_OrganSenescenceRate,Ra=0,Fa=0,Ta=0,Ha=0,ba=p.pc_PlantDensity,Ia=0,xa=0,La=0,Ba=0,Ea=0,ka=p.pc_ResidueNRatio,Ga=0,Ua=0,Ya=0,Va=new Float64Array(m),Wa=new Float64Array(m),qa=(p.pc_RootDistributionParam,new Float64Array(m)),Ka=p.pc_RootFormFactor,za=p.pc_RootGrowthLag,ja=p.pc_RootPenetrationRate,Ja=0,Xa=0,Za=0,Qa=0,$a=new Float64Array(m),ti=0,ei=0,ai=p.pc_SpecificLeafArea,ii=p.pc_SpecificRootLength,ri=p.pc_StageAtMaxDiameter,oi=p.pc_StageAtMaxHeight,ni=p.pc_StageKcFactor,_i=p.pc_StageMaxRootNConcentration,si=p.pc_StageTemperatureSum,ci=0,pi=p.pc_StorageOrgan,li=4,ui=0,gi=0,fi=1,vi=0,di=0,mi=0,Si=0,hi=0,yi=0,Mi=0,Oi=0,Ci=0,Ni=new Float64Array(m),Ai=1,Di=new Float64Array(m),wi=0,Pi=0,Ri=p.pc_VernalisationRequirement,Fi=c.pc_WaterDeficitResponseOn,Ti=0,Hi=0,bi=!1,Ii=0;m>Ii;Ii++)Di[Ii]=1;di=d.userCropParameters.pc_Tortuosity;for(var xi=1;Sa-1>xi;xi++)Ci+=si[xi];De=Sa-1;for(var Li=0;ha>Li;Li++)Ma[Li]=Ge[Li],1==R[Li]&&(w+=Ge[Li]),mi+=Ge[Li],1==pi[Li]&&(li=Li),1==pi[Li]&&(li=Li);Ua=Ge[0],We=Ma[1]*ai[de],0>=We&&(We=.001),Ua=Ma[0],Oi=1e5*Ua*100/7/(225e-6*I),Si=w*ra+Ua*ca,oa=ra,pa=ca;var Bi=s[0].vs_SoilSandContent,Ei=s[0].vs_SoilBulkDensity();.55>Bi&&(Bi=.55),ti=ei>0?ei:Bi*((1.1-Bi)/.275)*(1.4/(Ei/1e3)+Ei*Ei/4e7),ta=(ti+2*oe)/3;var ki=function(t,e,a,i,r,o,n,_,c,p,l){Hi>0&&Hi--,Gi(t,C,r,o),Fa=Vi(j[de]),Wi(e,G,ya,si,fi,s[0].get_Vs_SoilMoisture_m3(),s[0].get_FieldCapacity(),s[0].get_PermanentWiltingPoint(),Sa,Pi,ce,ie),ce=Ui(le[de],ye,Ha,k[de]);var u=Yi(e,fi,Ri[de],wi);Pi=u[0],wi=u[1],La=_e/Ci,Ve=0==de?.4:qi(de,si[de],ne[de],ke,ni[de],ni[de-1]),de>0&&(Ki(Xe,Je,oi,ri,si,_e,$,ee),zi(Na[1],wa[1],Q,X,ai[de-1],ai[de],ai[1],si[de],ne[de],ba,fi),Qa=ji(We),Ji(e,a,i,Fe,p,C,We,fe,je,aa,E,ge,K,ye,Ra),Xi(a,i,_e),Zi(Ai),Qi(),$i(m,s.vs_LayerThickness(),de,L,e),xa=tr(Ee,a,i,n,e,_,c,Fe,p,Ie),er(m,s.vs_LayerThickness(),Qa,Za,s.vm_GroundwaterTable,xa,l,_e,Ci),ar(m,s.vs_LayerThickness(),Za,s.vm_GroundwaterTable,_e,Ci),Le=ir(He),da=rr(Le,Mi))},Gi=function(t,e,a,i){var r=0,o=0;ge=-23.4*S(2*I*((t+10)/365)),r=F(ge*I/180)*F(e*I/180),o=S(ge*I/180)*S(e*I/180),E=12*(I+2*v(r/o))/I;var n=(-F(8*I/180)+r)/o;ye=-1>n||n>1?.01:12*(I+2*v(n))/I,Ha=12*(I+2*v((-F(-6*I/180)+r)/o))/I,Ta=3600*(r*E+24/I*o*T(1-r/o*(r/o))),K=650*Ta*h(-.14/(Ta/(3600*E))),Ra=.2*K;var _=.082,s=1440/I*_*(1+.033*S(2*I*t/365)),c=f(-b(e*I/180)*b(ge*I/180));Ae=s*(c*r+o*F(c)),Fe=a>0?a:Ae*(.19+.55*i/E)},Ui=function(t,e,a,i){if(t>0)ce=(Ha-i)/(t-i);else if(0>t){var r=-t,o=-i;ce=r>=ye?1:(ye-o)/(r-o)}else ce=1;return ce>1&&(ce=1),0>ce&&(ce=0),ce},Yi=function(t,e,a,i){var r;if(0==a)Pi=1;else{r=t>-4&&0>=t?(t+4)/4:t>0&&3>=t?1:t>3&&7>=t?1-.2*(t-3)/4:t>7&&9>=t?.8-.4*(t-7)/2:t>9&&18>=t?.4-.4*(t-9)/9:-4>=t||t>18?0:1,i+=r*e;var o=A(a,9)-1;o>=1?(Pi=(i-o)/(a-o),0>Pi&&(Pi=0)):Pi=1}return[Pi,i]},Vi=function(t,e,a){var e=e||0,a=a||0;return e=(s[0].get_Saturation()+s[1].get_Saturation()+s[2].get_Saturation()-(s[0].get_Vs_SoilMoisture_m3()+s[1].get_Vs_SoilMoisture_m3()+s[2].get_Vs_SoilMoisture_m3()))/3,t>e?(vi+=M(fi),vi>4&&(vi=4),0>e&&(e=0),a=e/t,Fa=1-M(vi/4)*(1-a)):(vi=0,Fa=1),Fa>1&&(Fa=1),Fa},Wi=function(t,e,a,i,r,o,n,c,p,l,u,g){var f,v=0,d=0,m=0,S=s[0].get_Vs_SoilTemperature();0==de?S>e[de]&&(f=n-c,1==Oe&&1==Me?o>.2*f+c&&s.vs_SurfaceWaterStorage<.001&&(ne[de]+=(S-e[de])*r,ne[de]>=i[de]&&de++):1==Oe&&0==Me?o>.2*f+c&&(ne[de]+=(S-e[de])*r,ne[de]>=i[de]&&de++):0==Oe&&1==Me?s.vs_SurfaceWaterStorage<.001&&(ne[de]+=(S-e[de])*r,ne[de]>=i[de]&&de++):(ne[de]+=(S-e[de])*r,ne[de]>=i[de]&&de++)):de>0?(v=1==ve&&x[de][li]>.9?1+(1-g)*(1-g):1,d=Ai<he[de]&&x[de][li]>.9?1>Fa?1:1+(1-Ai)*(1-Ai):1,m=N(v,d),t>e[de]&&(t>a[de]&&(t=a[de]),ne[de]+=(t-e[de])*l*u*m*r,_e+=(t-e[de])*l*u*m*r),ne[de]>=i[de]&&p-1>de&&de++):te(_,"irregular developmental stage")},qi=function(t,e,a,i,r,o){var n,_=a/e;return _>1&&(_=1),n=0==t?i+(r-i)*_:o+(r-o)*_},Ki=function(t,e,a,i,r,o,n,_){for(var s=0,c=1;a+1>c;c++)s+=r[c];for(var p=0,c=1;i+1>c;c++)p+=r[c];var l=o/s;l>1&&(l=1);var u=o/p;u>1&&(u=1),Q=l>0?t/(1+h(-n*(l-_))):0,X=u>0?e*u:0},zi=function(t,e,a,i,r,o,n,_,s,c,p){We+=t*(r+s/_*(o-r))*p-e*n*p,0>=We&&(We=.001),Te=We+a*I*i*c},ji=function(t){return Qa=1-h(-.5*t)},Ji=function(t,e,a,i,r,o,n,_,s,c,l,u,g,f,v){var m=0,S=0,y=0,M=0,C=0,N=0,w=0,P=0,R=0,T=0,H=0,b=0,x=0,E=0,k=0,G=0,U=0,Y=0,V=0,K=0,z=0,j=0,J=0,X=0,Z=0,Q=0,$=0,te=0,ee=0,ae=0,ie=0,re=0,oe=0,ne=0,_e=0,se=0,ce=0,pe=0,le=0,ue=0,ge=0,fe=0,ve=0,me=0,Se=0,ye=0,Me=0,Oe=0,Ce=0,Ne=0,Ae=0,De=0,we=0,Pe=0,Re=0,Fe=0,Te=0,Le=0,Ee=0,ke=0,Ge=0,Ue=d.userCropParameters,Ye=Ue.pc_ReferenceLeafAreaIndex,Ve=Ue.pc_ReferenceMaxAssimilationRate,We=Ue.pc_MaintenanceRespirationParameter1,qe=Ue.pc_MaintenanceRespirationParameter2,Ke=Ue.pc_GrowthRespirationParameter1,je=Ue.pc_GrowthRespirationParameter2,Je=Ue.pc_CanopyReflectionCoefficient;3==W?(C=h(68800*(t+273-298)/(298*(t+273)*8.314))*D((t+273)/298,.5),N=h(65800*(t+273-298)/(298*(t+273)*8.314))*D((t+273)/298,.5),w=h(1400*(t+273-298)/(298*(t+273)*8.314))*D((t+273)/298,.5),P=s/34.668,R=Ve/34.668,T=98*P*C,H=98*R*C,b=460*N,x=330*w,E=210+(.047-.0013087*t+25603e-9*t*t-2.1441e-7*t*t*t)/.026934,k=.7*r*(1.674-.061294*t+.0011688*t*t-88741e-10*t*t*t)/.73547,m=.105*T*E/(T*x),S=.105*H*E/(H*x),y=A(.77/2.1*(k-m)/(4.5*k+10.5*m)*8.3769,.5),M=A(.77/2.1*(k-S)/(4.5*k+10.5*S)*8.3769,.5)):(y=_,M=_),1==q?2==W?(c>t?(B=0,G=0):10>t?(B=s*t/10*.4,G=Ve*t/10*.4):15>t?(B=s*(.4+(t-10)/5*.5),G=Ve*(.4+(t-10)/5*.5)):25>t?(B=s*(.9+(t-15)/10*.1),G=Ve*(.9+(t-15)/10*.1)):35>t?(B=s*(1-(t-25)/10),G=Ve*(1-(t-25)/10)):(B=0,G=0),U=220+.158*(86400*i/1e6),Y=80-.036*(86400*i/1e6),V=(r-Y)/(U+r-Y)/((350-Y)/(U+350-Y)),B*=V,G*=V):3==W&&(B=(k-m)*T/(k+b*(1+E/x))*1.656,G=(k-S)*H/(k+b*(1+E/x))*1.656,c>t&&(B=0,G=0)):c>t?(B=0,G=0):9>t?(B=s*t/10*.08,G=Ve*t/10*.08):14>t?(B=s*(.071+.03*(t-9)),G=Ve*(.071+.03*(t-9))):20>t?(B=s*(.221+.09*(t-14)),G=Ve*(.221+.09*(t-14))):24>t?(B=s*(.761+.04*(t-20)),G=Ve*(.761+.04*(t-20))):32>t?(B=s*(.921+.01*(t-24)),G=Ve*(.921+.01*(t-24))):38>t?(B=s,G=Ve):42>t?(B=s*(1-.01*(t-38)),G=Ve*(1-.01*(t-38))):45>t?(B=s*(.96-.04*(t-42)),G=Ve*(.96-.04*(t-42))):54>t?(B=s*(.84-.09*(t-45)),G=Ve*(.84-.09*(t-45))):(B=0,G=0),Hi>0&&(B=0,G=0),.1>B&&(B=.1),.1>G&&(G=.1),K=(1-Je)*y,z=(1-Je)*M,j=F((90+u-o)*I/180),J=O(1+.45*g/(3600*f)*K/(j*B)),X=O(1+.45*g/(3600*f)*z/(j*G)),Z=j*B*f*J/(1+J),Q=j*G*f*X/(1+X),$=O(1+.55*g/(3600*f)*K/((5-j)*B)),te=O(1+.55*g/(3600*f)*K/((5-j)*G)),ee=(5-j)*B*f*$/(1+$),ae=(5-j)*G*f*te/(1+te),ie=.95*(Z+ee)+20.5,re=.95*(Q+ae)+20.5,oe=ie*(1-h(-.8*n)),ne=re*(1-h(-.8*Ye)),_e=l*n*B,se=l*Ye*G,ce=_e>oe?oe*(1-h(-_e/oe)):_e*(1-h(-oe/_e)),pe=se>ne?ne*(1-h(-se/ne)):se*(1-h(-ne/se)),le=v/(3600*f)*K/(5*B),ue=5*B*f*le/(1+le),ge=.9935*ue+1.1,fe=ge*(1-h(-.8*n)),ve=ge*(1-h(-.8*Ye)),me=_e>fe?fe*(1-h(-_e/fe)):_e*(1-h(-fe/_e)),Se=se>ve?ve*(1-h(-se/ve)):se*(1-h(-ve/se)),5>n?(Oe=ce,Ce=me):(Oe=ie,Ce=ge),ye=pe,Me=Se,De=(g-1e6*i*.5)/(.8*g),De>1&&(De=1),0>De&&(De=0),Ne=De*Ce+(1-De)*Oe,Ae=De*Me+(1-De)*ye,Re=1>Fa?0:he[de],Re>Ai&&(Ne=Ne),be=30*Ne/44,xe=22414*Ne/38016e3,Ie=22414*Ae/38016e3,L=30*Ne/44,L*=p.pc_FieldConditionModifier,Re>Ai&&(L*=Ai),He=L,Fe=e-(e-a)/4,Te=a+(e-a)/4;for(var Xe=0,Ze=0;ha>Ze;Ze++)Xe+=(Ma[Ze]-Oa[Ze])*Da[Ze];var Qe=2-Ha/12;Le=Xe*D(2,We*(Fe-qe))*(2-Qe),Ee=Xe*D(2,We*(Te-qe))*Qe,ze=Le+Ee,L-=Le+Ee;for(var $e=0,Ze=0;ha>Ze;Ze++)$e+=(Ma[Ze]-Oa[Ze])*Aa[Ze];L>0&&(ke=$e*D(2,Ke*(Fe-je))*(2-Qe),L>ke?L-=ke:(ke=L,L=0)),L>0&&(Ge=$e*D(2,Ke*(Fe-je))*Qe,L>Ge?L-=Ge:(Ge=L,L=0)),Be=ke+Ge,Mi=He-L,we=D(2,.1*t-2.5),Pe=0;for(var Ze=0;ha>Ze;Ze++)Pe+=(Ma[Ze]-Oa[Ze])*Da[Ze];ga=Pe*we>be?be:Pe*we,c>t&&(be=ga)},Xi=function(t,e,a){var i=t-(t-e)/4,r=0,o=0;if(0==U&&0==Ce&&(hi=1),a>=U&&Ce>a){var n=1-(i-J)/(qe-J);n>1&&(n=1),0>n&&(n=0),r=1/(1+(1/.015-1)*h(-1.4*ue)),o=ue>0?1/(1+(1/.015-1)*h(-1.4*(ue-1))):0;var _=r-o;hi+=n*_,ue+=1}a>=Ce&&Z>hi&&(Z=hi)},Zi=function(t){if(0>t&&(t=0),t<Se*he[de]&&x[de][li]>0){var e=t/(Se*he[de]);me=1>Fa?1:1-(1-e)*(1-e)}else me=1},Qi=function(){var t=0,e=0,a=0;z=sa*(1+_a*h(-.26*(w+Y)/1e3))/100,gi=z*Ke,na=oa,la=pa,.01>pa?.005>=pa?t=0:(e=(pa-.005)/.005,t=1-T(1-e*e)):t=1,0==Pe?z>oa?ea>=oa?ie=0:(a=(oa-ea)/(z-ea),ie=1-h(ea-5*a)):ie=1:1==Pe?z>oa&&(we=z-oa,oa=z,ie=1):ie=1,0==ma&&(ie=1)},$i=function(t,e,a,i,r){var o=0,_=0,c=0,p=0,f=0,v=d.userCropParameters,m=v.pc_MaxCropNDemand;fa=i,Ea=0,P=w,w=0,V=Y,Y=0,mi=0,Si+=1e4*s.vq_CropNUptake;for(var S=.3,O=0;ha>O;O++){if(p=x[a-1][O],f=x[a][O],1==pi[O]&&(p=p*Z*me,f=f*Z*me),ne[a]/si[a]>1)Na[O]=0,wa[O]=0;else{if(0>fa)if(Ma[O],O==l){var C=S*fa;g(C)<=Ma[O]?(te(n,"ORGAN_LEAF - Reducing organ biomass - default case ("+(Ma[O]+Na[O])+")"),Na[O]=C):(te(n,"ORGAN_LEAF - Not enough biomass for reduction - Reducing only what is available "),Na[O]=-1*Ma[O])}else if(O==u){var C=S*fa;g(C)<=Ma[O]?(Na[O]=C,te(n,"ORGAN_STEM - Reducing organ biomass - default case ("+(Ma[O]+Na[O])+")")):(te(n,"ORGAN_STEM - Not enough biomass for reduction - Reducing only what is available"),Na[O]=-1*Ma[O])}else Na[O]=0;else Na[O]=fa*(p+(f-p)*(ne[a]/si[a]))*ie;wa[O]=(Ma[O]-Oa[O])*(Pa[a-1][O]+(Pa[a][O]-Pa[a-1][O])*(ne[a]/si[a]))}O!=li?(Ma[O]+=Na[O]*fi-wa[O]*fi,Ma[li]+=.35*wa[O]):Ma[O]+=Sa>a?Na[O]*fi-wa[O]*fi+.3*(wa[O-1]*fi+wa[O-2]*fi+wa[O-3]*fi):Na[O]*fi-wa[O]*fi,Oa[O]+=wa[O]*fi,Ca[O]=Ma[O]-Oa[O],Ca[O]<0&&(Oa[O]=Ma[O],Ca[O]=0),1==R[O]?w+=Ma[O]:0==R[O]&&O>0&&(Y+=Ma[O]),mi+=Ma[O]}Ea=0,Ya=Ua,Ua=Ma[0],o=a>0?_i[a-1]-(_i[a-1]-_i[a])*ne[a]/si[a]:_i[a],ae=(gi*w+Ua*o+gi*Y/ka-Si)*fi,_=((gi-.15*(gi-z))*w+(gi-.15*(gi-z))*Y/ka+Ua*o-Si)*fi,ae>m*fi&&(ae=m*fi),0>ae&&(ae=0),c=Ya>Ua?(Ya-Ua)*pa:0,Ai<.95*he[a]&&Xa>.95*ta&&Sa-1>a&&(ta+=.005),ta>t*e&&(ta=t*e);var N=ia+20,A=0;A=r>=N?N-ia:r-ia,0>A&&(A=0),se+=A;var D=0;D=s[Ja].vs_SoilClayContent<=.02?.5*ja:s[Ja].vs_SoilClayContent<=.08?(1/3+.5/.06*s[Ja].vs_SoilClayContent)*ja:ja,za>=se?Xa=Ue:Xa+=A*D,Ue>=Xa&&(Xa=Ue),Xa>ta&&(Xa=ta),Xa>Ze&&(Xa=Ze),Ja=M(y(.5+Xa/e)),Ja>=t&&(Ja=t-1),Za=M(y(.5+1.3*Xa/e)),Za>=t&&(Za=t-1),Oi=Ua*ii;for(var F=new Array(t),T=0;t>T;T++)F[T]=Ja>T?h(-Ka*T*e):Za>T?h(-Ka*T*e)*(1-M((T-Ja)/(Za-Ja))):0;for(var H=0,T=0;Za>T;T++)H+=F[T];for(var T=0;Za>T;T++)Va[T]=F[T]/H*Oi;for(var T=0;Za>T;T++)Wa[T]=0==R[3]?1e-4:2e-4-1e-5*(T+1),Re[T]+=c*Va[T]*10/Oi;Qe=$e-_e/Ci,ae/1e4>Oi*Qe*fi?ae=Oi*Qe*fi:ae/=1e4},tr=function(t,e,a,i,r,o,n,_,s,c){var p,l,u,g,f,v,m,S,y,M,C,N,A,w=d.userCropParameters,P=w.pc_SaturationBeta,R=w.pc_StomataConductanceAlpha,F=w.pc_ReferenceAlbedo;p=101.3*D((293-.0065*t)/293,5.26),l=665e-6*p,u=.6108*h(17.27*e/(237.3+e)),g=.6108*h(17.27*a/(237.3+a)),f=(u+g)/2,v=0>=i?g:i*f,m=f-v,S=2503.0584*h(17.27*r/(r+237.3))/((r+237.3)*(r+237.3)),y=o*(4.87/O(67.8*n-5.42)),M=208/y,ci=0>=c?999999.9:s*(1+m/P)/(R*c),C=ci/1.44;var H=(.75+2e-5*t)*Ae,b=_/H,I=(1-F)*_,x=4.9e-9;return A=I-x*(D(a+273.16,4)+D(e+273.16,4))/2*(1.35*b-.35)*(.34-.14*T(v)),N=(.408*S*A+l*(900/(r+273))*y*m)/(S+l*(1+C/M))},er=function(t,e,a,i,r,o,n){i=M(i),r=M(r);var _=0;Ia=0;var c=0,p=0;H=0;var l=0,u=0,g=0,f=0,v=0;Ba=0;for(var d=0;t>d;d++)Ni[d]=0,Di[d]=0,qa[d]=0;var m=Ye;if(v=2.5*Q*a-Ye,0>v&&(v=0),0>=n&&(v=0),v>=n?(v=n,va=0):va=n-v,Ye=m+v,c=o*Ve,c>6.5&&(c=6.5),Ba=c,Ye>0?Ba>=Ye?(Ba-=Ye,Ne=Ye,Ye=0):(Ye-=Ba,Ne=Ba,Ba=0):Ne=0,De>de){Ia=Ba*a;for(var d=0;i>d;d++){var S=s[d].get_FieldCapacity()-s[d].get_PermanentWiltingPoint(),h=(s[d].get_Vs_SoilMoisture_m3()-s[d].get_PermanentWiltingPoint())/S;0>h&&(h=0),.15>h?(Di[d]=3*h,qa[d]=.15+.45*h/.15):.3>h?(Di[d]=.45+.25*(h-.15)/.15,qa[d]=.6+.2*(h-.15)/.15):.5>h?(Di[d]=.7+.275*(h-.3)/.2,qa[d]=.8+.2*(h-.3)/.2):.75>h?(Di[d]=.975+.025*(h-.5)/.25,qa[d]=1):(Di[d]=1,qa[d]=1),Di[d]<0&&(Di[d]=0),qa[d]<0&&(qa[d]=0),d==r&&(qa[d]=.5),d>r&&(qa[d]=0),(d+1)*e>=Ze&&(qa[d]=0),g+=qa[d]*Va[d],l=g}for(var d=0;t>d;d++)Ni[d]=d>A(i,r+1)?0:Ia*(qa[d]*Va[d]/g)*Fa;for(var d=0;d<A(i,r+1);d++){if(l-=qa[d]*Va[d],0>=l&&(l=1e-5),Ni[d]/1e3/e>s[d].get_Vs_SoilMoisture_m3()-s[d].get_PermanentWiltingPoint()?(_=(Ni[d]/1e3/e-(s[d].get_Vs_SoilMoisture_m3()-s[d].get_PermanentWiltingPoint()))*e*1e3,0>_&&(_=0),_>Ni[d]&&(_=Ni[d])):_=0,p=Ni[d]*(1-Di[d]),f=N(p,_),f>0&&d<A(i,r+1))for(var y=d+1;y<A(i,r+1);y++)Ni[y]+=f*(qa[y]*Va[y]/l);Ni[d]=Ni[d]-f,Ni[d]<0&&(Ni[d]=0),H+=Ni[d],d==r&&(u=Ni[d]/1e3/e)}Ai=Ia>0?H/Ia:1;var O=M(r-Ja);1>=O&&(Ai=1),0==Fi&&(Ai=1)}},ar=function(t,e,a,i){a=M(a),i=M(i);for(var r=0,o=0,n=[],_=[],c=[],p=0;t>p;p++)n[p]=0,_[p]=0,c[p]=0;var l=0,u=0,g=d.userCropParameters,f=g.pc_MinimumAvailableN,v=g.pc_MinimumNConcentrationRoot,m=g.pc_MaxCropNDemand;yi=0;for(var S=0;t>S;S++)ua[S]=0;if(De>de){for(var S=0;S<A(a,i);S++)$a[S]=s[S].vs_SoilNO3,n[S]=Ni[S]/1e3*($a[S]/s[S].get_Vs_SoilMoisture_m3())*fi,r+=n[S],_[S]=214e-6*di*h(10*s[S].get_Vs_SoilMoisture_m3())/s[S].get_Vs_SoilMoisture_m3(),c[S]=_[S]*s[S].get_Vs_SoilMoisture_m3()*2*I*Wa[S]*($a[S]/1e3/s[S].get_Vs_SoilMoisture_m3()-14e-6)*T(I*Va[S])*Va[S]*1e3*fi,c[S]<0&&(c[S]=0),o+=c[S];for(var S=0;S<A(a,i);S++)ae>0?(ua[S]=r>=ae?ae*n[S]/r:o>ae-r?n[S]+(ae-r)*c[S]/o:n[S]+c[S],l+=n[S],u+=c[S],ua[S]>$a[S]*e-f&&(ua[S]=$a[S]*e-f),ua[S]>m/1e4*.75&&(ua[S]=m/1e4*.75),ua[S]<0&&(ua[S]=0)):ua[S]=0,yi+=1e4*ua[S]}ui+=yi,Ua>Ya&&(pa=(Ya*pa+(Ua-Ya)/(w-P+Y-V+Ua-Ya)*yi)/Ua,pa=A(pa,_i[de]),v>pa&&(pa=v)),oa=(Si+yi-Ua*pa)/(w+Y/ka),P*na>oa*w&&(oa=P*na/w,pa=(Si+yi-w*oa-oa/ka*Y)/Ua)},ir=function(t){var e=0;return e=t/30*12},rr=function(t,e){var a=0;return Ga=e/30*12,a=t-Ga},or=function(){for(var t=0,e=0,a=R.length;a>e;e++)R[e]&&t++;return t},nr=function(t){return Na[t]},_r=function(t){return Ni[t]},sr=function(t){return Ma[t]},cr=function(t){return ua[t]},pr=function(){return w*oa},lr=function(t,e){for(var a=0,i=0,r=t.length;r>i;i++)a+=e[t[i].organId-1]*t[i].yieldPercentage;return a},ur=function(t,e){for(var a=0,i=0,r=t.length;r>i;i++)a+=e[t[i].organId-1]*t[i].yieldPercentage/t[i].yieldDryMatter;return a},gr=function(){return 0===p.organIdsForPrimaryYield.length?lr(p.organIdsForCutting,Ma):lr(p.organIdsForPrimaryYield,Ma)},fr=function(){return lr(p.organIdsForSecondaryYield,Ma)},vr=function(){return 0===p.organIdsForPrimaryYield.length?ur(p.organIdsForCutting,Ma):ur(p.organIdsForPrimaryYield,Ma)},dr=function(){return ur(p.organIdsForSecondaryYield,Ma)},mr=function(t){return mi-sr(0)-gr()-(t?fr():0)},Sr=function(){return(Si-sr(0)*Fr())/(gr()/ka+(mi-sr(0)-gr()))},hr=function(){return(Si-sr(0)*Fr())/(gr()+ka*(mi-sr(0)-gr()))},yr=function(t){return mr(t)*Sr()},Mr=function(){return gr()*hr()},Or=function(){return 6.25*hr()},Cr=function(){return fr()*Sr()},Nr=function(){return ae},Ar=function(){return Mi/30*12},Dr=function(t){var e=Ao(),a=sr(t)/e;return Ar()*a},wr=function(t){var e=Ao(),a=sr(t)/e;return Mo()*a},Pr=function(){var t=w,e=0;te(n,"apply cutting");for(var a=[],i=1;ha+1>i;i++){var r=p.organIdsForCutting.length,o=Ma[i-1];te(n,"old biomass: "+o+"	Organ: "+i);for(var _=0;r>_;_++){var s=new pe(p.organIdsForCutting[_]);i==s.organId&&(o=Ma[i-1]*(1-s.yieldPercentage),w-=o,e+=o)}a.push(o),te(n,"new biomass: "+o)}Si=e/t*Si,Ma=new Float64Array(a);for(var c=p.pc_StageAfterCut-1,l=c;Sa>l;l++)ne[l]=0;_e=0,de=c,Hi=p.pc_CuttingDelayDays,je=.9*je,We=Ma[1]*ai[de]},Rr=function(t){Ti+=t},Fr=function(){return pa},Tr=function(){return Ua},Hr=function(){for(var t=0;m>t;t++)if(0==qa[t])return(t+1)/10;return(m+1)/10},br=function(){return re},Ir=function(){return xe},xr=function(){return be},Lr=function(){return B},Br=function(){return L},Er=function(){return ga},kr=function(){return ze},Gr=function(){return Be},Ur=function(){return Pi},Yr=function(){return ce},Vr=function(){return fa},Wr=function(){return be},qr=function(){return xa},Kr=function(){return Ba},zr=function(){return Ne},jr=function(){return va},Jr=function(){return We},Xr=function(){return Q},Zr=function(){return Ja},Qr=function(){return Qa},$r=function(){return Ve},to=function(){return ci},eo=function(){return Ia},ao=function(){return H},io=function(){return Ai},ro=function(){return Fa},oo=function(){return ie},no=function(){return Z},_o=function(){return _e},so=function(){return de},co=function(){return La},po=function(){return w},lo=function(){return Si},uo=function(){return gi},go=function(){return z},fo=function(){return oa},vo=function(){return p.pc_HeatSumIrrigationStart},mo=function(){return p.pc_HeatSumIrrigationEnd},So=function(){return ui/1e4},ho=function(t){return void 0===t?yi/1e4:cr(t)},yo=function(){return Le},Mo=function(){return da},Oo=function(){return Ti},Co=function(){return bi},No=function(){return ha},Ao=function(t){return void 0!==t?sr(t):mi};return Object.create(t.prototype,{step:{value:ki},name:{value:br},height:{value:Xr},kcFactor:{value:$r},leafAreaIndex:{value:Jr},numberOfOrgans:{value:No},soilCoverage:{value:Qr},stomataResistance:{value:to},rootingDepth:{value:Zr},nitrogenStress:{value:oo},heatStress:{value:no},oxygenStress:{value:ro},waterStress:{value:io},biomass:{value:Ao},growthIncrement:{value:nr},shootBiomass:{value:po},shootBiomassNitrogenConcentration:{value:fo},rootBiomass:{value:Tr},rootNitrogenConcentration:{value:Fr},netPrimaryProduction:{value:Mo},netPhotosynthate:{value:Vr},grossPhotosynthate:{value:Wr},primaryYield:{value:gr},primaryYieldFreshMatter:{value:vr},primaryYieldNitrogenConcentration:{value:hr},primaryYieldNitrogenContent:{value:Mr},primaryYieldCrudeProteinConcentration:{value:Or},secondaryYield:{value:fr},secondaryYieldNitrogenConcentration:{value:Sr},secondaryYieldNitrogenContent:{value:Cr},residueBiomass:{value:mr},residuesNitrogenConcentration:{value:Sr},residuesNitrogenContent:{value:yr},referenceEvapotranspiration:{value:qr},accumulatedEvapotranspiration:{value:Oo},accumulateEvapotranspiration:{value:Rr},remainingEvapotranspiration:{value:Kr},transpiration:{value:_r},potentialTranspiration:{value:eo},evaporatedFromIntercept:{value:zr},netPrecipitation:{value:jr},nitrogenUptake:{value:ho},potentialNitrogenUptake:{value:Nr},accumulatedNitrogenUptake:{value:So},currentTemperatureSum:{value:_o},developmentalStage:{value:so},relativeTotalDevelopment:{value:co},heatSumIrrigationEnd:{value:mo},heatSumIrrigationStart:{value:vo},vernalisationFactor:{value:Ur},applyCutting:{value:Pr},fc_CropDevelopmentalStage:{value:Wi},fc_CropDryMatter:{value:$i},fc_CropGreenArea:{value:zi},fc_CropNUptake:{value:ar},fc_CropNitrogen:{value:Qi},fc_CropPhotosynthesis:{value:Ji},fc_CropSize:{value:Ki},fc_CropWaterUptake:{value:er},fc_DaylengthFactor:{value:Ui},fc_DroughtImpactOnFertility:{value:Zi},fc_GrossPrimaryProduction:{value:ir},fc_HeatStressImpact:{value:Xi},fc_KcFactor:{value:qi},fc_NetPrimaryProduction:{value:rr},fc_OxygenDeficiency:{value:Vi},fc_Radiation:{value:Gi},fc_ReferenceEvapotranspiration:{value:tr},fc_SoilCoverage:{value:ji},fc_VernalisationFactor:{value:Yi},getEffectiveRootingDepth:{value:Hr},get_AbovegroundBiomass:{value:po},get_AbovegroundBiomassNConcentration:{value:fo},get_AbovegroundBiomassNContent:{value:pr},get_AccumulatedETa:{value:Oo},get_ActNUptake:{value:ho},get_ActualTranspiration:{value:ao},get_Assimilates:{value:Br},get_AssimilationRate:{value:Lr},get_AutotrophicRespiration:{value:Ar},get_CriticalNConcentration:{value:go},get_CropHeight:{value:Xr},get_CropNRedux:{value:oo},get_CropName:{value:br},get_CurrentTemperatureSum:{value:_o},get_DaylengthFactor:{value:Yr},get_DevelopmentalStage:{value:so},get_EvaporatedFromIntercept:{value:zr},get_FreshPrimaryCropYield:{value:vr},get_FreshSecondaryCropYield:{value:dr},get_GrossPhotosynthesisHaRate:{value:xr},get_GrossPhotosynthesisRate:{value:Ir},get_GrossPrimaryProduction:{value:yo},get_GrowthRespirationAS:{value:Gr},get_HeatStressRedux:{value:no},get_HeatSumIrrigationEnd:{value:mo},get_HeatSumIrrigationStart:{value:vo},get_KcFactor:{value:$r},get_LeafAreaIndex:{value:Jr},get_MaintenanceRespirationAS:{value:kr},get_NUptakeFromLayer:{value:cr},get_NetMaintenanceRespiration:{value:Er},get_NetPhotosynthesis:{value:Vr},get_NetPrecipitation:{value:jr},get_NetPrimaryProduction:{value:Mo},get_NumberOfOrgans:{value:No},get_OrganBiomass:{value:sr},get_OrganGrowthIncrement:{value:nr},get_OrganSpecificNPP:{value:wr},get_OrganSpecificTotalRespired:{value:Dr},get_OxygenDeficit:{value:ro},get_PotNUptake:{value:Nr},get_PotentialTranspiration:{value:eo},get_PrimaryCropYield:{value:gr},get_PrimaryYieldNConcentration:{value:hr},get_PrimaryYieldNContent:{value:Mr},get_RawProteinConcentration:{value:Or},get_ReferenceEvapotranspiration:{value:qr},get_RelativeTotalDevelopment:{value:co},get_RemainingEvapotranspiration:{value:Kr},get_ResidueBiomass:{value:mr},get_ResiduesNConcentration:{value:Sr},get_ResiduesNContent:{value:yr},get_RootNConcentration:{value:Fr},get_RootingDepth:{value:Zr},get_SecondaryCropYield:{value:fr},get_SecondaryYieldNContent:{value:Cr},get_SoilCoverage:{value:Qr},get_StomataResistance:{value:to},get_SumTotalNUptake:{value:So},get_TargetNConcentration:{value:uo},get_TotalBiomassNContent:{value:lo},get_Transpiration:{value:_r},get_TranspirationDeficit:{value:io},get_VernalisationFactor:{value:Ur},isDying:{value:Co},pc_NumberOfAbovegroundOrgans:{value:or}})},be=function(t,e,a,i){this.mixture=null,this._seedDate=t,this._harvestDates=e,this.autoIrrigationOn=i.autoIrrigationOn||!1;for(var r=(new Date(1/0),new Date(1/0),function(t){var e=this;if(this.isLegume=!1,this.isC4=!1,this.name="generic grass",this.cons={index:0,f_cover:1,h_m:.5,L_half:2,"σ":20,d_r_h:.15,d_r_mx:.4,"δ_ndf_live_l_1":.8,"δ_ndf_live_l_2":.7,"δ_ndf_live_l_3":.6,"δ_ndf_dead_l":.2,"δ_ndf_live_s_1":.6,"δ_ndf_live_s_2":.5,"δ_ndf_live_s_3":.4,"δ_ndf_dead_s":.2,"δ_nfc":1,T_mn_high:5,T_mn_low:0,T_mx_high:35,T_mx_low:30,T_sum_low:100,T_sum_high:100,f_GtoD:0,f_DtoG:0,"ξ_N":200,photo:{T_ref:20,T_mn:4,T_opt_Pm_amb:23,"ξ":.8,"α_amb_15":.05,k:.5,P_m_ref:16,"λ":1.2,f_C_m:1.49,"γ_Pm":10,"λ_α":.02,"γ_α":6},resp:{m_ref:.025,T_ref:20,T_m_mn:3,"λ_N_up":.6,"λ_N_fix":6},part:{"ρ_shoot_ref":.75,"ρ_l_max":.7,GDD_flower:500},N_leaf:{opt:.035/.45,max:.045/.45,ref:.035/.45},"τ_veg":200,fAsh_dm_l_ref:.09,fAsh_dm_s_ref:.04,fAsh_dm_r_ref:.04,fH2O_fm_l_ref:.8,fH2O_fm_s_ref:.7},this.vars={GDD:0,"Ω_N":1,"Ω_water":1,GLF:1,"τ_T_low":1,"τ_T_high":1,"ζ_T_low":0,"ζ_T_high":0,P_g_day:0,R_m:0,R_N:0,G:0,G_leaf:0,G_stem:0,G_root:0,Y:.75,Y_leaf:.75,Y_stem:.75,Y_root:.75,d_r:1,"τ":0,k_sum:0,N_up:0,N_fix:0,N_avail:0,N_assim:0,N_req:0,N_remob:0,N_add:0,"ρ_shoot":.7,"ρ_root":.3,"ρ_l":.7,G_l_fC_om:{sc:0,nc:0,pn:0},G_s_fC_om:{sc:0,nc:0,pn:0},G_r_fC_om:{sc:0,nc:0,pn:0},SC:{live_l_1:0,live_l_2:0,live_l_3:0,dead_l:0,live_s_1:0,live_s_2:0,live_s_3:0,dead_s:0,r:0},dSC:{live_l_1:0,live_l_2:0,live_l_3:0,dead_l:0,live_s_1:0,live_s_2:0,live_s_3:0,dead_s:0,r:0},NC:{l:0,dead_l:0,s:0,dead_s:0,r:0},dNC:{l:0,dead_l:0,s:0,dead_s:0,r:0},PN:{l:0,dead_l:0,s:0,dead_s:0,r:0},dPN:{l:0,dead_l:0,s:0,dead_s:0,r:0},AH:{l:0,dead_l:0,s:0,dead_s:0,r:0},dAH:{l:0,dead_l:0,s:0,dead_s:0,r:0},"Λ_litter":{sc:0,pn:0,nc:0},"Λ_r":{sc:0,pn:0,nc:0},D_nc:0,dD_nc:0},t&&t.name)switch(t.name){case"clover":case"white clover":this.isLegume=!0,this.name="white clover",this.cons.σ=20,this.cons.d_r_h=.2,this.cons.d_r_mx=.5,this.cons.photo.T_ref=22,this.cons.photo.T_mn=5,this.cons.photo.T_opt_Pm_amb=23,this.cons.photo.ξ=.8,this.cons.photo.k=.7,this.cons.photo.α_amb_15=.05,this.cons.photo.P_m_ref=16,this.cons.photo.λ=1.2,this.cons.photo.f_C_m=1.49,this.cons.photo.γ_Pm=10,this.cons.photo.λ_α=.02,this.cons.photo.γ_α=6,this.cons.part.ρ_shoot_ref=.7,this.cons.ρ_l=.7,this.cons.ρ_shoot=.7,this.cons.ξ_N=100;break;case"red clover":this.isLegume=!0,this.name="red clover",this.cons.σ=20,this.cons.d_r_h=.25,this.cons.d_r_mx=.6,this.cons.photo.T_ref=22,this.cons.photo.T_mn=7,this.cons.photo.T_opt_Pm_amb=25,this.cons.photo.ξ=.8,this.cons.photo.k=1,this.cons.photo.α_amb_15=.05,this.cons.photo.P_m_ref=16,this.cons.photo.λ=1.2,this.cons.photo.f_C_m=1.49,this.cons.photo.γ_Pm=10,this.cons.photo.λ_α=.02,this.cons.photo.γ_α=6,this.cons.part.ρ_shoot_ref=.71,this.cons.part.ρ_l=.55,this.cons.ξ_N=100;break;case"ryegrass":this.isLegume=!1,this.name="ryegrass",this.cons.h_m=.3,this.cons.L_half=2,this.cons.σ=20,this.cons.photo.T_ref=20,this.cons.photo.T_mn=5,this.cons.photo.T_opt_Pm_amb=23,this.cons.photo.ξ=.8,this.cons.photo.k=.5,this.cons.photo.α_amb_15=.05,this.cons.photo.P_m_ref=16,this.cons.photo.λ=1.2,this.cons.photo.f_C_m=1.49,this.cons.photo.γ_Pm=10,this.cons.photo.λ_α=.02,this.cons.photo.γ_α=6,this.cons.part.ρ_shoot_ref=.75,this.cons.ρ_l=.7,this.cons.ρ_shoot=.75}if(t&&t.hasOwnProperty("constants")){var a=t.constants;for(var i in a)a.hasOwnProperty(i)&&this.cons.hasOwnProperty(i)&&null!==a[i]&&(this.cons[i]=a[i])}this.fOM_pn=function(){var t=e.vars.PN;return(t.l+t.s+t.dead_l+t.dead_s)/X/e.DM_shoot()},this.δ_pn=function(t){return.956-34.3/t},this.OMD_shoot=function(){var t=e.cons,a=e.vars,i=e.vars.SC,r=e.vars.NC,o=e.vars.PN,n=e.δ_pn(1e3*this.fOM_pn()),_=i.live_l_1/j,s=i.live_l_2/j,c=i.live_l_3/j,p=i.dead_l/j,l=i.live_s_1/j,u=i.live_s_2/j,g=i.live_s_3/j,f=i.dead_s/j,v=(r.l+r.s+a.NC.dead_l+a.NC.dead_s)/J,d=(o.l+o.s+a.PN.dead_l+a.PN.dead_s)/X,m=t.δ_ndf_live_l_1*_+t.δ_ndf_live_l_2*s+t.δ_ndf_live_l_3*c+t.δ_ndf_dead_l*p+t.δ_ndf_live_s_1*l+t.δ_ndf_live_s_2*u+t.δ_ndf_live_s_3*g+t.δ_ndf_dead_s*f,S=t.δ_nfc*v,h=n*d;return(m+S+h)/(_+s+c+p+l+u+g+f+v+d)},this.NDFD_leaf=function(){var t=e.cons,a=e.vars.SC,i=a.live_l_1/j,r=a.live_l_2/j,o=a.live_l_3/j,n=a.dead_l/j,_=t.δ_ndf_live_l_1*i+t.δ_ndf_live_l_2*r+t.δ_ndf_live_l_3*o+t.δ_ndf_dead_l*n;return _/(i+r+o+n)},this.NDFD_stem=function(){var t=e.cons,a=e.vars.SC,i=a.live_s_1/j,r=a.live_s_2/j,o=a.live_s_3/j,n=a.dead_s/j,_=t.δ_ndf_live_s_1*i+t.δ_ndf_live_s_2*r+t.δ_ndf_live_s_3*o+t.δ_ndf_dead_s*n;return _/(i+r+o+n)},this.NDF_leaf=function(){var t=e.vars.SC;return 1e3*((t.live_l_1+t.live_l_2+t.live_l_3+t.dead_l)/j)/e.DM_leaf()},this.NDF_stem=function(){var t=e.vars.SC;return 1e3*((t.live_s_1+t.live_s_2+t.live_s_3+t.dead_s)/j)/e.DM_stem()},this.NFC_leaf=function(){var t=e.vars;return 1e3*((t.NC.l+t.NC.dead_l)/J)/e.DM_leaf()},this.NFC_stem=function(){var t=e.vars;return 1e3*((t.NC.s+t.NC.dead_s)/J)/e.DM_stem()},this.CP_leaf=function(){var t=e.vars;return 1e3*((t.PN.l+t.PN.dead_l)/X)/e.DM_leaf()},this.CP_stem=function(){var t=e.vars;return 1e3*((t.PN.s+t.PN.dead_s)/X)/e.DM_stem()},this.CP_shoot=function(){var t=e.vars;return 1e3*((t.PN.l+t.PN.dead_l+t.PN.s+t.PN.dead_s)/X)/(e.DM_leaf()+e.DM_stem())},this.ASH_leaf=function(){var t=e.vars;return 1e3*t.AH.l/(e.DM_leaf()+t.AH.l)},this.ASH_stem=function(){var t=e.vars;return 1e3*t.AH.s/(e.DM_stem()+t.AH.s)},this.ASH_shoot=function(){var t=e.vars;return 1e3*(t.AH.l+t.AH.s)/(e.DM_leaf()+t.AH.l+e.DM_stem()+t.AH.s)},this.CF_shoot=function(){var t=e.vars.SC,a=1e3*((t.live_l_1+t.live_l_2+t.live_l_3+t.dead_l+t.live_s_1+t.live_s_2+t.live_s_3+t.dead_s)/j/e.DM_shoot());return e.isLegume?69.58+.453*a:14.15+.512*a},this.C_root=function(){var t=e.vars;return t.SC.r+t.NC.r+t.PN.r},this.C_live_shoot=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN;return a.live_l_1+a.live_l_2+a.live_l_3+a.live_s_1+a.live_s_2+a.live_s_3+i.l+i.s+r.l+r.s},this.C_live_leaf=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN;return a.live_l_1+a.live_l_2+a.live_l_3+i.l+r.l},this.C_live_stem=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN;return a.live_s_1+a.live_s_2+a.live_s_3+i.s+r.s},this.N_root=function(){return e.vars.PN.r*Z/X},this.N_live_shoot=function(){var t=e.vars.PN;return(t.l+t.s)*Z/X},this.N_live_leaf=function(){return e.vars.PN.l*Z/X},this.N_live_stem=function(){return e.vars.PN.s*Z/X},this.dDM_leaf=function(){var t=e.vars,a=t.dSC,i=t.dNC,r=t.dPN,o=t.dAH;return(a.live_l_1+a.live_l_2+a.live_l_3+a.dead_l)/j+(i.l+i.dead_l)/J+(r.l+r.dead_l)/X+o.l},this.dDM_stem=function(){var t=e.vars,a=t.dSC,i=t.dNC,r=t.dPN,o=t.dAH;return(a.live_s_1+a.live_s_2+a.live_s_3+a.dead_s)/j+(i.s+i.dead_s)/J+(r.s+r.dead_s)/X+o.s},this.dDM_root=function(){var t=e.vars,a=t.dSC,i=t.dNC,r=t.dPN,o=t.dAH;return a.r/j+i.r/J+r.r/X+o.r},this.dDM_shoot=function(){return e.dDM_leaf()+e.dDM_stem()},this.DM_shoot=function(){return e.DM_leaf()+e.DM_stem()},this.OM_shoot=function(){return e.OM_leaf()+e.OM_stem()},this.DM_live_leaf=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return(a.live_l_1+a.live_l_2+a.live_l_3)/j+i.l/J+r.l/X+o.l},this.DM_leaf=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return(a.live_l_1+a.live_l_2+a.live_l_3+a.dead_l)/j+(i.l+i.dead_l)/J+(r.l+r.dead_l)/X+o.l+o.dead_l},this.OM_leaf=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN;return(a.live_l_1+a.live_l_2+a.live_l_3+a.dead_l)/j+(i.l+i.dead_l)/J+(r.l+r.dead_l)/X},this.DM_dead_leaf=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return a.dead_l/j+i.dead_l/J+r.dead_l/X+o.dead_l},this.DM_live_stem=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return(a.live_s_1+a.live_s_2+a.live_s_3)/j+i.s/J+r.s/X+o.s},this.DM_stem=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return(a.live_s_1+a.live_s_2+a.live_s_3+a.dead_s)/j+(i.s+i.dead_s)/J+(r.s+r.dead_s)/X+o.s+o.dead_s},this.OM_stem=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN;return(a.live_s_1+a.live_s_2+a.live_s_3+a.dead_s)/j+(i.s+i.dead_s)/J+(r.s+r.dead_s)/X},this.DM_dead_stem=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return a.dead_s/j+i.dead_s/J+r.dead_s/X+o.dead_s},this.DM_root=function(){var t=e.vars,a=t.SC,i=t.NC,r=t.PN,o=t.AH;return a.r/j+i.r/J+r.r/X+o.r},this.L=function(){return e.cons.σ*e.DM_leaf()
},this.h_=function(){var t=0,a=e.cons,i=e.L(),r=a.h_m,o=a.L_half,n=.9,_=r*(2-n)/(2*o);return t=1/(2*n)*(_*i+r-T(D(_*i+r,2)-4*_*n*r*i))},this._EX_h=function(){var t=0,a=e.cons,i=1*e.L()/a.f_cover,r=a.h_m,o=1,n=1+O((100*r-1)/(20*r-1))/o;return t=.01*r/(.01+(r-.01)*h(-n*i))},this.f_N_live_leaf=function(){return e.N_live_leaf()/e.C_live_leaf()},this.f_N_live_shoot=function(){return e.N_live_shoot()/e.C_live_shoot()},this.f_N_live=function(){return(e.N_live_shoot()+e.N_root())/(e.C_live_shoot()+e.C_root())},this.f_N_live_shoot_DM=function(){return(e.N_live_stem()+e.N_live_leaf())/(e.DM_live_stem()+e.DM_live_leaf())},this.f_N_root_DM=function(){return e.N_root()/e.DM_root()}}),o=function(t,e){var a=Array.isArray(t)?t:[t],i=4,r=.7,o=1-r,n=.5*(e.plantDryWeight||1e3)*1e-4,_=.5*(e.plantDryWeight||1e3)*1e-4,s=[];if(e&&e.DM)s=e.DM;else for(var c=0,p=t.length;p>c;c++)s[c]=1/p;for(var c=0,p=t.length;p>c;c++){var t=a[c],l=t.vars.SC,u=t.vars.NC,g=t.vars.PN,f=t.vars.AH;t.cons.f_cover=s[c],l.live_l_1=r*(_*s[c]/i)*.5*j,u.l+=r*(_*s[c]/i)*.25*J,g.l+=r*(_*s[c]/i)*.25*J,l.live_l_2=r*(_*s[c]/i)*.6*j,u.l+=r*(_*s[c]/i)*.2*J,g.l+=r*(_*s[c]/i)*.2*X,l.live_l_3=r*(_*s[c]/i)*.7*j,u.l+=r*(_*s[c]/i)*.15*J,g.l+=r*(_*s[c]/i)*.15*X,l.dead_l=r*(_*s[c]/i)*1*j,u.l+=r*(_*s[c]/i)*0*j,g.l+=r*(_*s[c]/i)*0*j,f.l=r*_*s[c]*t.cons.fAsh_dm_l_ref,l.live_s_1=o*(_*s[c]/i)*.7*j,u.s+=o*(_*s[c]/i)*.15*J,g.s+=o*(_*s[c]/i)*.15*J,l.live_s_2=o*(_*s[c]/i)*.8*j,u.s+=o*(_*s[c]/i)*.1*J,g.s+=o*(_*s[c]/i)*.1*X,l.live_s_3=o*(_*s[c]/i)*.9*j,u.s+=o*(_*s[c]/i)*.05*J,g.s+=o*(_*s[c]/i)*.05*X,l.dead_s=o*(_*s[c]/i)*1*j,u.s+=o*(_*s[c]/i)*0*j,g.s+=o*(_*s[c]/i)*0*j,f.s=o*_*s[c]*t.cons.fAsh_dm_s_ref,l.r=n*s[c]*.8*j,u.r+=n*s[c]*.1*j,g.r+=n*s[c]*.1*j,f.r=n*s[c]*t.cons.fAsh_dm_r_ref}return a.DM_dead_shoot=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_dead_leaf()+this[e].DM_dead_stem();return t},a.DM_live_shoot=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_live_leaf()+this[e].DM_live_stem();return t},a.DM_shoot=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_leaf()+this[e].DM_stem();return t},a.DM_leaf=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_leaf();return t},a.DM_stem=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_stem();return t},a.DM_root=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].DM_root();return t},a.dDM_leaf=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].dDM_leaf();return t},a.dDM_stem=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].dDM_stem();return t},a.dDM_root=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].dDM_root();return t},a.C_root=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].C_root();return t},a.f_N_live_leaf=function(){for(var t=0,e=0,a=0,i=this.length;i>a;a++)t+=this[a].N_live_leaf(),e+=this[a].C_live_leaf();return t/e},a.f_N_live_leaf_DM=function(){for(var t=0,e=0,a=0,i=this.length;i>a;a++)t+=this[a].N_live_leaf(),e+=this[a].DM_live_leaf();return t/e},a.f_N_live_stem_DM=function(){for(var t=0,e=0,a=0,i=this.length;i>a;a++)t+=this[a].N_live_stem(),e+=this[a].DM_live_stem();return t/e},a.f_N_live_shoot_DM=function(){for(var t=0,e=0,a=null,i=0,r=this.length;r>i;i++)a=this[i],t+=a.N_live_stem()+a.N_live_leaf(),e+=a.DM_live_stem()+a.DM_live_leaf();return t/e},a.f_N_root_DM=function(){for(var t=0,e=0,a=null,i=0,r=this.length;r>i;i++)a=this[i],t+=a.N_root(),e+=a.DM_root();return t/e},a.L_tot=function(){for(var t=0,e=0,a=this.length;a>e;e++)t+=this[e].L();return t},a.h_mx=function(){return this.h()},a.h=function(){return this.DM_shoot()>.5?.5:this.DM_shoot()},a.d_r_mx=function(){for(var t=0,e=0,a=this.length;a>e;e++)this[e].vars.d_r>t&&(t=this[e].vars.d_r);return t},a.δL=.1,a.n_L=function(){return y(this.L_tot()/this.δL)},a.n_start_p=function(t){for(var e=[],a=this.h_mx(),i=0,r=this.length;r>i;i++)e[i]=1+m((1-this[i].h()/a)*t);return e},a.δL_p=function(t,e){for(var a=[],i=0,r=this.length;r>i;i++)a[i]=this[i].L()/(e-t[i]===0?t[i]:e-t[i]);return a},a.δL_i=function(t,e,a){for(var i=[0],r=0,o=1;e>=o;o++){r=0;for(var n=0,_=this.length;_>n;n++)t[n]<=o&&(r+=a[n]);i[o]=r}return i},a.k_e_i=function(t,e,a){for(var i=[0],r=0,o=0,n=1;t>=n;n++){r=o=0;for(var _=0,s=this.length;s>_;_++)e[_]<=n&&(r+=this[_].cons.photo.k*a[_],o+=a[_]);i[n]=r/o}return i},a._EX_n_start_p=function(t){for(var e=[],a=this.h_mx(),i=0,r=this.length;r>i;i++)e[i]=1+m((1-this[i].h()/a)*t);return e},a._EX_δL_p=function(t){for(var e=[[]],a=this.h_mx(),i=[0,0],r=0,o=this.length;o>r;r++)e[0][r]=0;for(var n=1;t>=n;n++){e[n]=[];for(var r=0,o=this.length;o>r;r++){var _=1,s=this[r].cons.h_m,c=this[r].h(),p=1+O((100*s-1)/(20*s-1))/_,l=a/t*(t-n),u=a/t*(t-(n-1)),g=l>=s?0:N(0,O((l-100*l*s)/(l-s))/p),f=u>s&&l>=s?0:u===s||u>s&&s>l?1*this[r].L()/this[r].cons.f_cover:O((u-100*u*s)/(u-s))/p;e[n][r]=l>c||.01>u?0:(f-g)*this[r].cons.f_cover,i[r]+=e[n][r]}}return e},a._EX_δL_i=function(t,e){for(var a=[0],i=1;t>=i;i++){a[i]=0;for(var r=0,o=this.length;o>r;r++)a[i]+=e[i][r]}return a},a._EX_k_e_i=function(t,e){for(var a=[0],i=0,r=0,o=1;t>=o;o++){i=r=0;for(var n=0,_=this.length;_>n;n++)i+=this[n].cons.photo.k*e[o][n],r+=e[o][n];a[o]=0>=r?0:i/r}return a},a.Ω_water=function(){return this.avg("Ω_water")},a.Ω_N=function(){return this.avg("Ω_N")},a.τ_T_low=function(){return this.avg("τ_T_low")},a.τ_T_high=function(){return this.avg("τ_T_high")},a.avg=function(t,e){return this.reduce(function(a,i){return a+(void 0===e?i.vars[t]:i.vars[e][t])},0)/this.length},a.sum=function(t,e){return this.reduce(function(a,i){return a+(void 0===e?i.vars[t]:i.vars[e][t])},0)},a.f_r=[],a.f_r_sum=[],a.W_r=[],a.W_r_sum=[],a.N_up=[],a.N_up_sum=[],a.E_T=[],a.E_T_sum=[],a.f_g=0,a.isRegrowth=!1,a},n=[],_=[],s=0;s<a.length;s++)a[s].dryMatterFraction>0&&(n.push(new r({name:a[s].name,constants:a[s].constants})),_.push(a[s].dryMatterFraction),n[n.length-1].cons.index=n.length-1);this.mixture=new o(n,{DM:_,plantDryWeight:i.plantDryWeight}),this.seedDate=function(){return this._seedDate},this.harvestDate=function(){return new Date(1/0)},this.getCuttingDates=function(){return[]},this.name=function(){return"grassland"},this.isValid=function(){return!0},this.reset=function(){},this.type="grassland",this.residueParameters=function(){return{vo_AOM_DryMatterContent:1,vo_AOM_NH4Content:0,vo_AOM_NO3Content:.001,vo_AOM_CarbamidContent:0,vo_AOM_SlowDecCoeffStandard:.012,vo_AOM_FastDecCoeffStandard:.05,vo_PartAOM_to_AOM_Slow:.61,vo_PartAOM_to_AOM_Fast:.39,vo_CN_Ratio_AOM_Slow:225,vo_CN_Ratio_AOM_Fast:0,vo_PartAOM_Slow_to_SMB_Slow:.5,vo_PartAOM_Slow_to_SMB_Fast:.5,vo_NConcentration:0}},this.isAutoIrrigationOn=function(){return this.autoIrrigationOn}},Ie=function(e,a,i,o,n){function s(t,e,a){for(var r=0;F>r;r++){var o=i[r],n=o.vars,_=o.cons,s=_.T_mn_high,c=_.T_mn_low,p=_.T_mx_high,l=_.T_mx_low,u=1,g=1;K&&(s>e?(u=c>=e?0:(e-c)/(s-c),n.τ_T_low*=u):(n.ζ_T_low+=t/_.T_sum_low,n.τ_T_low=A(1,n.τ_T_low+n.ζ_T_low),1===n.τ_T_low&&(n.ζ_T_low=0))),z&&(a>l?(g=a>=p?0:(a-l)/(p-l),n.τ_T_high*=g):(n.ζ_T_high+=N(0,25-t)/_.T_sum_high,n.τ_T_high=A(1,n.τ_T_high+n.ζ_T_high),1===n.τ_T_high&&(n.ζ_T_high=0)))}}function c(t,e,a,r,o,n,s){function c(t,e,a){a>=e/(2-e)&&(a=e/(2-e)-1e-10,te(_,"Adjusted f_C_m to "+a+" since f_C_m >= λ / (2 - λ)"));var i=1,r=380,o=a*(e*(a-1)-2*(a-e))/(D(e,2)*(a-1)-2*(a-e)),n=e*(a-o*e)/(2*r*(a-e));return i=1/(2*o)*(n*t+a-T(D(n*t+a,2)-4*o*n*a*t))}function p(t,e){return A(1,t/e)}function l(t,e,a,i,r,o,n,_,s){var p=0,l=2,u=o+a*(c(e,_,s)-1),g=((1+l)*u-i)/l;return r>u&&(r=u),t=n&&t>u?u:t,p=i>=t||t>=g?0:D((t-i)/(r-i),l)*(((1+l)*u-i-l*t)/((1+l)*u-i-l*r))}function u(t,e,a,i,r,o){var n=0,_=380,s=15+i*(c(e,r,o)-1);return n=s>t?1:1-a*(_/e)*(t-s)}function g(t,e){var a=0;return a=t>e?1:.5+.5*(t/e)}function f(t,e,a,i){var r=0;return r=1/(2*i)*(e*t+a-T(D(e*t+a,2)-4*i*e*t*a))}function v(t,e,a,r,o,n){for(var _=[],s=0;F>s;s++){_[s]=0;var v=i[s],d=v.cons,m=d.photo,S=m.α_amb_15,y=m.P_m_ref,M=m.k,O=v.isC4,C=m.ξ,N=m.λ_α,A=m.γ_α,D=m.γ_Pm,w=m.T_mn,P=m.T_ref,R=m.T_opt_Pm_amb,T=m.λ,H=m.f_C_m,b=v.f_N_live_leaf(),I=d.N_leaf.ref,x=v.L(),L=S*c(n,T,H)*g(b,I),B=S*c(n,T,H)*g(b,I);O||(L*=u(a,n,N,A,T,H),B=L*u(r,n,N,A,T,H));for(var E=y*c(n,T,H)*l(a,n,D,w,P,R,O,T,H)*p(b,I),k=y*c(n,T,H)*l(r,n,D,w,P,R,O,T,H)*p(b,I),G=.1,U=x/G,Y=1;U>=Y;Y++){var V=(2*Y-1)*G/2,W=M*t*(o+(1-o)*h(-M*V)),q=M*t*(1-o)*h(-M*V),K=M*e*(o+(1-o)*h(-M*V)),z=M*e*(1-o)*h(-M*V);_[s]+=f(W,L,E,C)*h(-M*V)*G,_[s]+=f(q,L,E,C)*(1-h(-M*V))*G,_[s]+=f(K,B,k,C)*h(-M*V)*G,_[s]+=f(z,B,k,C)*(1-h(-M*V))*G}}return _}var d=[],m=4/3*(r/o),S=.5*m,y=(a+t)/2,M=t;d=v(m,S,y,M,s,n);for(var O=0;F>O;O++){var C=i[O].vars;C.GLF=C.Ω_water*T(C.Ω_N)*C.τ_T_low*C.τ_T_high,C.P_g_day=0,i[O].vars.P_g_day+=1.2e-8*(o/2)*d[O]*C.GLF}}function g(t){function e(t,e,i,r){var o=0,n=g.resp.m_ref;return o=n*a(t)*(e/i)*r}function a(t){var e=1,a=g.resp.T_m_mn,i=g.resp.T_ref;return e=a>=t?0:(t-a)/(i-a)}function o(t,e){var a=0,i=g.resp.λ_N_up,r=g.resp.λ_N_fix;return a=i*t+r*e}for(var n=0,_=F;_>n;n++){{var s=i[n],c=s.vars,g=s.cons,f=(s.f_N_live_shoot(),c.P_g_day),v=(s.C_live_shoot()+s.C_root(),s.vars.N_avail,s.isC4,s.isLegume),d=s.C_live_leaf(),m=s.N_live_leaf(),S=s.C_live_stem(),h=s.N_live_stem();s.C_root(),s.N_root()}c.R_m=e(t,m/d,g.N_leaf.ref,d),c.R_m+=e(t,h/S,.5*g.N_leaf.ref,S),c.R_N=o(s.vars.N_up,s.vars.N_fix);var y=f-c.R_m-c.R_N;if(y>0){var M=c.ρ_l,O=1-M,C=g.part.ρ_shoot_ref*T(c.Ω_water*c.Ω_N),D=1-C,w=0,P=0,b=0,I=g.N_leaf.opt,x=g.N_leaf.max;c.ρ_shoot=C,c.ρ_root=D;var L={leaf:s.N_live_leaf()/s.C_live_leaf(),stem:s.N_live_stem()/s.C_live_stem(),root:s.N_root()/s.C_root()},B=[{organ:l,N:L.leaf/I},{organ:u,N:L.stem/(.5*I)},{organ:p,N:L.root/(.5*I)}];B.sort(function(t,e){return t.N-e.N});for(var E=H(i.N_up[n]),Y=0;3>Y;Y++){var V=0,q=0,K=0,z=0;if(B[Y].organ===l?(V=C*M,q=.5,z=I,K=x/Z*X):B[Y].organ===u?(V=C*O,q=.7,z=.5*I,K=.5*x/Z*X):B[Y].organ===p&&(V=D,q=.7,z=.5*I,K=.5*x/Z*X),r&&q+K>1)throw new Error("f_sc + f_pn > 1");var j=1-(q+K),J=1/(1+(1-k)/k*q+(1-G)/G*j+(1-U)/U*K),Q=J*y*V,$=Q*K*Z/X;if(!v&&$>E){var te=K;if(K=E*(X/Z)*U*(-q*k+q*G+k)/(k*(E*(X/Z)*(U-G)+y*V*U*G)),q+=.8*(te-K),K=E*(X/Z)*U*(-q*k+q*G+k)/(k*(E*(X/Z)*(U-G)+y*V*U*G)),j=1-(q+K),r&&q+K>1)throw se("f_sc",q),se("f_pn",K),se("f_nc",j),new Error("x f_sc + f_pn > 1");if(J=1/(1+(1-k)/k*q+(1-G)/G*j+(1-U)/U*K),Q=J*y*V,$=Q*K*Z/X,r&&R(10,$)!=R(10,E))throw new Error($!=E);E=0}else v&&$>E?(b+=$-E,E-=$):E-=$;w+=0===$?z*Q:A(z*Q,$),P+=$,B[Y].organ===l?(c.Y_leaf=J,c.G_leaf=Q,c.G_l_fC_om.sc=q,c.G_l_fC_om.nc=j,c.G_l_fC_om.pn=K):B[Y].organ===u?(c.Y_stem=J,c.G_stem=Q,c.G_s_fC_om.sc=q,c.G_s_fC_om.nc=j,c.G_s_fC_om.pn=K):B[Y].organ===p&&(c.Y_root=J,c.G_root=Q,c.G_r_fC_om.sc=q,c.G_r_fC_om.nc=j,c.G_r_fC_om.pn=K)}c.Ω_N=W?A(1,P/w):1,c.N_assim=P,c.N_req=w,c.N_fix=b,c.G=c.G_leaf+c.G_stem+c.G_root,c.N_ass_add=0;for(var ee=.1,Y=0;3>Y;Y++)if(E>0)if(B[Y].organ===l&&L.leaf<I){var ae=ee*(I-L.leaf)*s.C_live_leaf(),ie=A(ae,E),re=ie/Z*X*1/U;re>c.NC.l&&(ie=c.NC.l*Z*U/X,re=c.NC.l),c.NC.l-=re,c.PN.l+=ie/Z*X,E-=ie,c.N_assim+=ie,c.N_ass_add+=ie}else if(B[Y].organ===u&&L.stem<.5*I){var ae=ee*(.5*I-L.stem)*s.C_live_stem(),ie=A(ae,E),re=ie/Z*X*1/U;re>c.NC.s&&(ie=c.NC.s*Z*U/X,re=c.NC.s),c.NC.s-=re,c.PN.s+=ie/Z*X,E-=ie,c.N_assim+=ie,c.N_ass_add+=ie}else if(B[Y].organ===p&&L.root<.5*I){var ae=ee*(.5*I-L.root)*s.C_root(),ie=A(ae,E),re=ie/Z*X*1/U;re>c.NC.r&&(ie=c.NC.r*Z*U/X,re=c.NC.r),c.NC.r-=re,c.PN.r+=ie/Z*X,E-=ie,c.N_assim+=ie,c.N_ass_add+=ie}}else if(!_e||s.DM_shoot()>ce){var oe=c.NC,ne=oe.l+oe.s+oe.r;ne>0&&(oe.l>0&&(oe.l=N(0,oe.l+y*oe.l/ne)),oe.s>0&&(oe.s=N(0,oe.s+y*oe.s/ne)),oe.r>0&&(oe.r=N(0,oe.r+y*oe.r/ne))),s.vars.Ω_N=1,s.vars.N_assim=0,s.vars.N_req=0,c.G=c.G=c.G_leaf=c.G_stem=c.G_root=0}}}function f(t){function e(t){var e=0,a=3,i=20,r=20,o=2;return r>i&&(r=i),a>=t?e=0:i>(t>a)?e=D((t-a)/(r-a),o)*(((1+o)*i-a-o*t)/((1+o)*i-a-o*r)):t>=i&&(e=D((i-a)/(r-a),o)*((i-a)/((1+o)*i-a-o*r))),e}for(var a=0,r=i.length;r>a;a++){var o=i[a],n=o.vars,_=o.cons,s=n.G_root,c=n.G_leaf,p=n.G_stem,l=n.SC,u=n.dSC,g=n.NC,f=n.dNC,v=n.PN,d=n.dPN,m=n.AH,S=n.dAH,h=n.Λ_r,y=n.Λ_litter,M=n.G_l_fC_om,O=n.G_s_fC_om,C=n.G_r_fC_om,N=c*(M.sc/j+M.nc/J+M.pn/X),A=p*(O.sc/j+O.nc/J+O.pn/X),w=s*(C.sc/j+C.nc/J+C.pn/X),P=.05*e(t),R=.8*P,F=.02*e(t),H=.11,b=o.N_live_leaf()/o.C_live_leaf()<_.N_leaf.max?.5:0,I=o.N_live_stem()/o.C_live_stem()<.5*_.N_leaf.max?.5:0,x=o.N_root()/o.C_root()<.5*_.N_leaf.max?.5:0,L=.8,B=P*l.live_l_3/(l.live_l_1+l.live_l_2),E=R*l.live_s_3/(l.live_s_1+l.live_s_2);d.l=c*M.pn-v.l*B*(1-b),d.dead_l=v.l*B*(1-b)-H*v.dead_l,d.s=p*O.pn-v.s*E*(1-I),d.dead_s=v.s*E*(1-I)-H*v.dead_s,d.r=s*C.pn-(1-x)*F*v.r,f.l=c*M.nc-g.l*B*(1-L),f.dead_l=g.l*B*(1-L)-H*g.dead_l,f.s=p*O.nc-g.s*E*(1-L),f.dead_s=g.s*E*(1-L)-H*g.dead_s,f.r=s*C.nc-(1-L)*F*g.r,u.live_l_1=c*M.sc-2*P*l.live_l_1,u.live_l_2=2*P*l.live_l_1-P*l.live_l_2,u.live_l_3=P*l.live_l_2-P*l.live_l_3,u.dead_l=P*l.live_l_3-H*l.dead_l,u.live_s_1=p*O.sc-2*R*l.live_s_1,u.live_s_2=2*R*l.live_s_1-R*l.live_s_2,u.live_s_3=R*l.live_s_2-R*l.live_s_3,u.dead_s=R*l.live_s_3-H*l.dead_s,u.r=s*C.sc-F*l.r,h.pn+=(1-x)*F*v.r,h.nc+=(1-L)*F*g.r,h.sc+=F*l.r,y.sc+=H*(l.dead_l+l.dead_s),y.nc+=H*(g.dead_l+g.dead_s),y.pn+=H*(v.dead_l+v.dead_s),n.N_remob=(b*v.l*B+I*v.s*E+x*F*v.r)/X*Z,S.l=T(n.Ω_water)*_.fAsh_dm_l_ref/(1-_.fAsh_dm_l_ref)*N,S.s=T(n.Ω_water)*_.fAsh_dm_s_ref/(1-_.fAsh_dm_s_ref)*A,S.r=T(n.Ω_water)*_.fAsh_dm_r_ref/(1-_.fAsh_dm_r_ref)*w,m.l+=S.l-H*m.l*l.dead_l/(l.live_l_1+l.live_l_2+l.live_l_3),m.s+=S.s-H*m.s*l.dead_s/(l.live_s_1+l.live_s_2+l.live_s_3),m.r+=S.r-F*m.r,l.live_l_1+=u.live_l_1,l.live_l_2+=u.live_l_2,l.live_l_3+=u.live_l_3,l.dead_l+=u.dead_l,g.l+=f.l,g.dead_l+=f.dead_l,v.l+=d.l,v.dead_l+=d.dead_l,l.live_s_1+=u.live_s_1,l.live_s_2+=u.live_s_2,l.live_s_3+=u.live_s_3,l.dead_s+=u.dead_s,g.s+=f.s,g.dead_s+=f.dead_s,v.s+=d.s,v.dead_s+=d.dead_s,l.r+=u.r,g.r+=f.r,v.r+=d.r}}function v(){for(var t=0;F>t;t++){var e=i[t].cons.part,a=i[t].vars;a.ρ_l=i.isRegrowth?N(.2,1-e.ρ_l_max+1*(2*e.ρ_l_max-1)/(1+h(10*(a.GDD/(3*e.GDD_flower)-.5)))):N(.2,1-e.ρ_l_max+1*(2*e.ρ_l_max-1)/(1+h(10*(a.GDD/(2*e.GDD_flower)-.5))))}}function d(t){if(void 0===t)for(var t=0;F>t;t++){var e=i[t].vars;e.ρ_l=i[t].cons.part.ρ_l_max,e.GDD=0}else i[t].vars.ρ_l=i[t].cons.part.ρ_l_max,i[t].vars.GDD=0}function m(){for(var t=3,e=0;F>e;e++){var a=i[e];a.vars.τ++,a.vars.k_sum=A(1,a.vars.τ/a.cons.τ_veg);var r=a.DM_root();a.vars.d_r=.05+(a.cons.d_r_mx-.05)*a.vars.k_sum,i.f_r_sum[e]=0;for(var o=0;b>o;o++){var n=x*o;n>a.vars.d_r?i.f_r[e][o]=0:(i.f_r[e][o]=1/(1+D(n/a.cons.d_r_h*(a.cons.d_r_mx/a.vars.d_r),t))-1/(1+D((n+x)/a.cons.d_r_h*(a.cons.d_r_mx/a.vars.d_r),t)),i.f_r_sum[e]+=i.f_r[e][o])}for(var o=0;b>o;o++)i.W_r[e][o]=r*i.f_r[e][o]/i.f_r_sum[e]}for(var o=0;b>o;o++){i.W_r_sum[o]=0;for(var e=0;F>e;e++)i.W_r_sum[o]+=i.W_r[e][o]}}function S(){for(var t=(i.d_r_mx(),0),e=0,a=null,r=0,o=0,n=0,_=0;b>_;_++){a=w[_],t=a.vs_SoilBulkDensity(),e=a.get_SoilNO3(),o=0;for(var s=0;F>s;s++)r=i[s].cons.ξ_N,n=r*e/t*i.W_r[s][_]+o>e*x?e*x-o:r*e/t*i.W_r[s][_],i.N_up[s][_]=n,o+=n;i.N_up_sum[_]=o}}function y(t,e,a,i,r,o,n,_,s){var c,p,l,u,g,f,v,d,m,S,y,M,C,N=P.userCropParameters,A=(N.pc_SaturationBeta,N.pc_StomataConductanceAlpha,N.pc_ReferenceAlbedo);c=101.3*D((293-.0065*L)/293,5.26),p=665e-6*c,l=.6108*h(17.27*e/(237.3+e)),u=.6108*h(17.27*a/(237.3+a)),g=(l+u)/2,f=0>=i?u:i*g,v=g-f,d=2503.0584*h(17.27*t/(t+237.3))/((t+237.3)*(t+237.3)),m=r*(4.87/O(67.8*o-5.42)),S=208/m,ne=1/.015,y=ne/1.44;var w=(.75+2e-5*L)*s,R=n/w,F=(1-A)*n,H=4.9e-9;return C=F-H*(D(a+273.16,4)+D(e+273.16,4))/2*(1.35*R-.35)*(.34-.14*T(f)),M=(.408*d*C+p*(900/(t+273))*m*v)/(d+p*(1+y/S))}function M(t){var e=Y,a=N(0,2.5*i.h_mx()*i.f_g-Y);0>=t&&(a=0),a>=t?(a=t,Q=0):Q=t-a,Y=e+a}function C(t){var e=[],a=[],o=i.L_tot(),n=[],_=[],s=[],c=[],p=[],l=[];i.f_g=1-h(-.5*o),t=i.f_g*t,ae=t;for(var u=0;F>u;u++){e[u]=t*i[u].L()/o,a[u]=e[u];for(var g=0;b>g;g++)i.E_T[u][g]=0}for(var g=0;b>g;g++)n[g]=1e3*w[g].get_PermanentWiltingPoint()*x,_[g]=1e3*w[g].get_FieldCapacity()*x,s[g]=.8*_[g],c[g]=1e3*w[g].get_Saturation()*x,p[g]=1e3*w[g].get_Vs_SoilMoisture_m3()*x,l[g]=p[g]<n[g]?0:p[g]<s[g]?(p[g]-n[g])/(s[g]-n[g]):p[g]<_[g]?1:1-.5*(p[g]-_[g])/(c[g]-_[g]);i.sort(function(t,e){return t.vars.Ω_water-e.vars.Ω_water});for(var f=0,v=0;5>v;v++)for(var g=0;b>g;g++)for(var u=0;F>u;u++)if(f=i[u].cons.index,!(a[f]<=0||0===i.f_r[f][g]||p[g]<=n[g])){var d=A(p[g]-n[g],i.f_r[f][g]/i.f_r_sum[f]*l[g]*a[f]);if(i.E_T[f][g]+=d,p[g]-=d,a[f]-=d,r&&(p[g]<0||p[g]>c[g]))throw new Error("θ < 0 || θ > θ_sat")}if(i.sort(function(t,e){return t.cons.index-e.cons.index}),q)for(var u=0;F>u;u++)i.E_T_sum[u]=H(i.E_T[u]),i[u].vars.Ω_water=0===i.E_T_sum[u]?1:A(1,i.E_T_sum[u]/e[u]);else for(var u=0;F>u;u++)i[u].vars.Ω_water=1}for(var w=e,P=n,F=i.length,b=e.vs_NumberOfLayers(),I=e.vs_NumberOfOrganicLayers(),x=w.vs_LayerThickness(),L=(o.vs_Latitude,o.vs_HeightNN),Y=0,V=0,W=a.pc_NitrogenResponseOn,q=a.pc_WaterDeficitResponseOn,K=a.pc_LowTemperatureStressResponseOn,z=a.pc_HighTemperatureStressResponseOn,Q=0,Y=0,$=0,ee=0,ae=0,ie=0,re=0,oe=.4,ne=0,_e=!0,ce=.01,pe=0;F>pe;pe++){i.f_r[pe]=[],i.W_r[pe]=[],i.N_up[pe]=[],i.E_T[pe]=[],i.f_r_sum[pe]=0;for(var le=0;b>le;le++)i.f_r[pe][le]=0,i.W_r[pe][le]=0,i.N_up[pe][le]=0,i.E_T[pe][le]=0}for(var le=0;b>le;le++)i.W_r_sum[le]=0,i.N_up_sum[le]=0;var ge=function(t,e,a,r,o,n,_,p,l,u,h,O,D,w,P){var R=o*E;m(),S(),$=y(e,a,r,_,p,l,o,u,w),M(h),ee=A(6.5,$*oe),ie=ee,Y>0?ie>=Y?(ie-=Y,re=Y,Y=0):(Y-=ie,re=ie,ie=0):re=0;var T=ie;C(T),s(e,r,a),c(e,r,a,R,D,u,O),g(e);for(var I=0;F>I;I++){var x=i[I].vars,L=H(i.N_up[I]);x.N_up=x.N_assim;for(var B=0;b>B;B++)i.N_up[I][B]=x.N_up*i.N_up[I][B]/L;P?(i[I].vars.ρ_l<=.35&&d(I),x.GDD+=N(0,e-5)):(x.GDD=0,i.isRegrowth=!1)}f(e),v()},fe=function(t,e){var a=0;if(void 0===t&&void 0===e)a=i.dDM_shoot()+i.dDM_root();else if(void 0!==t&&void 0!==e)a=t===p?i[e].dDM_root():t===l?i[e].dDM_leaf():t===u?i[e].dDM_stem():0;else if(void 0===t){var r=i[e];a=r.dDM_leaf()+r.dDM_stem()+r.dDM_root()}else a=t===p?i.dDM_root():t===l?i.dDM_leaf():t===u?i.dDM_stem():0;return a*B},ve=function(t,e){var a=0,r=0,o=0;if(void 0===t&&void 0===e)for(r=0;F>r;r++)for(o=0;b>o;o++)a+=i.E_T[r][o];else if(void 0!==t&&void 0!==e)a=i.E_T[e][t];else if(void 0===t)for(r=0;b>r;r++)a+=i.E_T[e][r];else for(r=0;F>r;r++)a+=i.E_T[r][t];return a},de=function(t){var e=0;if(void 0===t)e=i.DM_shoot();else{var a=i[t];e=a.DM_shoot()}return e*B},me=function(t){if(0>=t)return de();var e=i.h(),a=0;return e>=t&&(a=i.DM_shoot()*t/e),a*B},Se=function(){if(1===F)return i[0].OMD_shoot();for(var t=0,e=0;F>e;e++){var a=i[e];t+=a.OM_shoot()*a.OMD_shoot()}return t/(de()/B)},he=function(){if(1===F)return i[0].OM_shoot()/i[0].DM_shoot()*1e3;for(var t=0,e=0;F>e;e++){var a=i[e];t+=1e3*a.OM_shoot()}return t/(de()/B)},ye=function(){if(1===F)return i[0].CP_shoot();for(var t=0,e=0;F>e;e++){var a=i[e];t+=a.DM_shoot()*a.CP_shoot()}return t/(de()/B)},Me=function(){if(1===F)return i[0].CF_shoot();for(var t=0,e=0;F>e;e++){var a=i[e];t+=a.DM_shoot()*a.CF_shoot()}return t/(de()/B)},Oe=function(t){var e=i.h();if(0>t||t>e)return 0;for(var a=0,r=1,o=0;F>o;o++){var n=i[o],_=n.vars,s=n.DM_shoot(),c=_.SC,p=_.NC,l=_.PN,u=_.AH;r=ce>=s?1:ce>=t/e*s?ce/s:t/e,a+=(1-r)*s,c.live_l_1*=r,c.live_l_2*=r,c.live_l_3*=r,c.dead_l*=r,c.live_s_1*=r,c.live_s_2*=r,c.live_s_3*=r,c.dead_s*=r,p.l*=r,p.dead_l*=r,p.s*=r,p.dead_s*=r,l.l*=r,l.dead_l*=r,l.s*=r,l.dead_s*=r,u.l*=r,u.dead_l*=r,u.s*=r,u.dead_s*=r,n.vars.GDD=0}return i.isRegrowth=!0,d(),a*B},Ce=function(t){var e=0;if(0>=t)return e;var a=1-A(1,t/(i.DM_shoot()*B));for(pe=0;F>pe;pe++){var r=i[pe],o=r.vars,n=r.DM_shoot(),_=o.SC,s=o.NC,c=o.PN,p=o.AH;ce>=n?a=1:ce>=a*n&&(a=ce/n),e+=(1-a)*n,_.live_l_1*=a,_.live_l_2*=a,_.live_l_3*=a,_.dead_l*=a,_.live_s_1*=a,_.live_s_2*=a,_.live_s_3*=a,_.dead_s*=a,s.l*=a,s.dead_l*=a,s.s*=a,s.dead_s*=a,c.l*=a,c.dead_l*=a,c.s*=a,c.dead_s*=a,p.l*=a,p.dead_l*=a,p.s*=a,p.dead_s*=a,i[pe].vars.GDD=0}return i.isRegrowth=!0,d(),e*B},Ne=function(t){return(void 0===t?i.DM_root():i[t].DM_root())*B},Ae=function(){return $},De=function(){return ie},we=function(){return re},Pe=function(){return Q},Re=function(t){return void 0===t?i.d_r_mx():i[t].vars.d_r},Fe=function(t){return void 0===t?i.f_g:1-h(-.5*i[t].L())},Te=function(){return ne},He=function(){return ae},be=function(t,e){var a=0,r=0,o=0;if(void 0===t&&void 0===e)for(r=0;F>r;r++)for(o=0;b>o;o++)a+=i.N_up[r][o];else if(void 0!==t&&void 0!==e)a=i.N_up[e][t];else if(void 0===t)for(r=0;b>r;r++)a+=i.N_up[e][r];else for(r=0;F>r;r++)a+=i.N_up[r][t];return a},Ie=function(t){var e=0,a=0;if(void 0===t)for(a=0;F>a;a++)e+=i[a].vars.N_req;else e=i[t].vars.N_req;return e},xe=function(){return V},Le=function(t,e){var a=0;if(void 0===t&&void 0===e)a=i.DM_shoot()+i.DM_root();else if(void 0!==t&&void 0!==e)a=t===p?i[e].DM_root():t===l?i[e].DM_leaf():t===u?i[e].DM_stem():0;else if(void 0===t){var r=i[e];a=r.DM_leaf()+r.DM_stem()+r.DM_root()}else a=t===p?i.DM_root():t===l?i.DM_leaf():t===u?i.DM_stem():0;return a*B},Be=function(t){var e=0;if(void 0===species)for(var a=0;F>a;a++)e+=i[a].vars.P_g_day;else e=i[t].vars.P_g_day;return e/12*30*B},Ee=function(){var t=0;if(void 0===species)for(var e=0;F>e;e++)t+=i[e].vars.G;else t=i[speciesIdx].vars.G;return t/12*30*B},ke=function(t){return void 0===t?i.f_N_live_shoot_DM():i[t].f_N_live_shoot_DM()},Ge=function(t){return void 0===t?i.f_N_root_DM():i[t].f_N_root_DM()},Ue=function(){return i.h()},Ye=function(){return oe},Ve=function(t){return void 0===t?i.L_tot():i[t].L()},We=function(){for(var t=[],e=.1,a=0;I>a;a++){for(var r=new ue,o=0,n=0;F>n;n++){var _=i[n],s=_.vars,c=s.Λ_r,p=s.Λ_litter,l=i.f_r[n][a]/i.f_r_sum[n]/x;0===a&&(r.vo_AOM_Slow+=(p.sc+p.nc+p.pn)*e/x,o+=p.pn*e/X*Z/x,p.sc*=1-e,p.nc*=1-e,p.pn*=1-e),r.vo_AOM_Slow+=(c.sc+c.nc+c.pn)*l,o+=c.pn/X*Z*l}r.vo_CN_Ratio_AOM_Slow=0===r.vo_AOM_Slow?0:0===o?200:r.vo_AOM_Slow/o,t[a]=r}for(var n=0;F>n;n++){var c=i[n].vars.Λ_r;c.sc=c.nc=c.pn=0}return t},qe=function(t){return void 0===t?i.Ω_water():i[t].vars.Ω_water},Ke=function(t){return void 0===t?i.Ω_N():i[t].vars.Ω_N},ze=function(t){return void 0===t?i.τ_T_high():i[t].vars.τ_T_high};return Object.create(t.prototype,{step:{value:ge},name:{value:function(){return"grassland"}},height:{value:Ue},kcFactor:{value:Ye},leafAreaIndex:{value:Ve},numberOfOrgans:{value:function(){return 3}},numberOfSpecies:{value:function(){return F}},soilCoverage:{value:Fe},stomataResistance:{value:Te},rootingDepth:{value:Re},nitrogenStress:{value:Ke},heatStress:{value:ze},waterStress:{value:qe},biomass:{value:Le},growthIncrement:{value:fe},shootBiomass:{value:de},shootBiomassNitrogenConcentration:{value:ke},rootBiomass:{value:Ne},rootNitrogenConcentration:{value:Ge},netPhotosynthate:{value:Ee},grossPhotosynthate:{value:Be},referenceEvapotranspiration:{value:Ae},accumulatedEvapotranspiration:{value:xe},remainingEvapotranspiration:{value:De},transpiration:{value:ve},potentialTranspiration:{value:He},evaporatedFromIntercept:{value:we},netPrecipitation:{value:Pe},nitrogenUptake:{value:be},potentialNitrogenUptake:{value:Ie},senescencedTissue:{value:We},shootBiomassByHeight:{value:me},shootOrganicMatterDigestibility:{value:Se},shootOrganicMatterContent:{value:he},shootCrudeProteinContent:{value:ye},shootCrudeFibreContent:{value:Me},harvestShootBiomassByHeight:{value:Oe},harvestShootBiomass:{value:Ce}})},xe=function(t,e){this.mode="MyMode",arguments[0]instanceof xe?(se("Copy constructor: Env	soil param size: "+env.soilParams.length),this.env=arguments[0],this.customId=env.customId,this.soilParams=env.soilParams,this.noOfLayers=env.noOfLayers,this.layerThickness=env.layerThickness,this.useNMinMineralFertilisingMethod=env.useNMinMineralFertilisingMethod,this.useAutomaticIrrigation=env.useAutomaticIrrigation,this.useSecondaryYields=env.useSecondaryYields,this.windSpeedHeight=env.windSpeedHeight,this.atmosphericCO2=env.atmosphericCO2,this.albedo=env.albedo,this.da=env.da,this.cropRotation=env.cropRotation,this.site=env.site,this.general=env.general,this.organic=env.organic,this.nMinFertiliserPartition=env.nMinFertiliserPartition,this.nMinUserParams=env.nMinUserParams,this.autoIrrigationParams=env.autoIrrigationParams,this.centralParameterProvider=env.centralParameterProvider,this.pathToOutputDir=env.pathToOutputDir,this.mode=env.mode):(this.soilParams=t,this.customId=-1,this.centralParameterProvider=e,this.pathToOutputDir=null,this.user_env=this.centralParameterProvider.userEnvironmentParameters,this.windSpeedHeight=this.user_env.p_WindSpeedHeight,this.atmosphericCO2=this.user_env.p_AthmosphericCO2,this.albedo=this.user_env.p_Albedo,this.noOfLayers=this.user_env.p_NumberOfLayers,this.layerThickness=this.user_env.p_LayerThickness,this.useNMinMineralFertilisingMethod=this.user_env.p_UseNMinMineralFertilisingMethod,this.useAutomaticIrrigation=this.user_env.p_UseAutomaticIrrigation,this.useSecondaryYields=this.user_env.p_UseSecondaryYields,this.cropRotation=null);this.getMode=function(){return mode},this.setCropRotation=function(t){this.cropRotation=t}},Le=function(t){var e=[];return e.weather=t,e.run=function(t){var e=this.weather,a=e.noOfStepsPossible(),i=e.startDate(),o=i.toISODateString(),c=i.isLeapYear(),p=i.getFullYear(),l=i.getMonth(),u=0,f=null,v=t.length,d=this.length,m=this[0].getEnvironment().site.vs_Latitude,S=m>0?3:10,h=m>0?10:3;if(ze&&r){var y="rmout",M="smout",O="parameters";this.forEach(function(t,e){ee(y+e),ae(M+e),ie(O+e,t.getEnvironment().centralParameterProvider)})}var C=0,N=0,A=0,D=0,w=0,P=0,R=0,F=0,T=2,H=380,b=0,I=0,x=0,B=0,E=!1;for(u;a>u;u++){C=e.doy(u),N=e.dataForTimestep($.TAVG,u),A=e.dataForTimestep($.TMAX,u),D=e.dataForTimestep($.TMIN,u),w=e.dataForTimestep($.GLOBRAD,u),P=e.isAvailable($.SUNHOURS)?e.dataForTimestep($.SUNHOURS,u):-1,R=e.isAvailable($.RELHUMID)?e.dataForTimestep($.RELHUMID,u):-1,F=e.dataForTimestep($.WIND,u),b=e.dataForTimestep($.PRECIP,u),I=e.dataForTimestep($.F_DIRECTRAD,u),x=e.dataForTimestep($.DAYLENGTH,u)*L,B=e.dataForTimestep($.EXRAD,u),o=e.dataForTimestep($.ISODATESTRING,u),i=new Date(Date.parse(o)),c=i.isLeapYear(),p=i.getFullYear(),l=i.getMonth(),te(n,o+" / "+u),g(m)>23.43721?u>4&&!E&&e.dataForTimestep($.TAVG,u)>5&&e.dataForTimestep($.TAVG,u-1)>5&&e.dataForTimestep($.TAVG,u-2)>5&&e.dataForTimestep($.TAVG,u-3)>5&&e.dataForTimestep($.TAVG,u-4)>5?E=!0:u>4&&E&&S>=l&&l>=h&&e.dataForTimestep($.TAVG,u)<5&&e.dataForTimestep($.TAVG,u-1)<5&&e.dataForTimestep($.TAVG,u-2)<5&&e.dataForTimestep($.TAVG,u-3)<5&&e.dataForTimestep($.TAVG,u-4)<5&&(E=!1):E=!0,(isNaN(N)||1/0===g(N))&&te(s,"tavg invalid: "+N),(isNaN(A)||1/0===g(A))&&te(s,"tmax invalid: "+A),(isNaN(D)||1/0===g(D))&&te(s,"tmin invalid: "+D),D>A&&(D=A=N,te(_,"tmin > tmax: "+D+"/"+A)),(isNaN(w)||0>w||1/0===g(w))&&te(s,"globrad invalid: "+w),(isNaN(P)||0>P||1/0===g(P))&&te(s,"sunhours invalid: "+P),(isNaN(R)||0>R||1/0===g(R))&&(R=.5,te(s,"relhumid invalid: "+R)),(isNaN(F)||0>F||1/0===g(F))&&te(s,"wind invalid: "+F),(isNaN(T)||0>T||1/0===g(T))&&te(s,"windHeight invalid: "+T),(isNaN(H)||0>H||1/0===g(H))&&te(s,"C_amb invalid: "+H),(isNaN(b)||0>b||b>100||1/0===g(b))&&te(s,"precip invalid: "+b),(isNaN(I)||0>I||1/0===g(I))&&te(s,"f_s invalid: "+I),(isNaN(x)||0>x||1/0===g(x))&&te(s,"daylength invalid: "+x),(isNaN(B)||0>B||1/0===g(B))&&te(s,"R_a invalid: "+B);for(var k=0;d>k;k++)f=this[k],f.setIsVegPeriod(E),f.prodProcessStep(i),f.isCropPlanted()&&f.cropStep(C,N,A,D,w,P,R,F,T,H,b,I,x,B,E),r&&ze&&(ze.appendFileSync(M+k,o,{encoding:"utf8"}),ze.appendFileSync(y+k,o,{encoding:"utf8"}),re(f.cropGrowth(),y+k,M+k,f.isCropPlanted())),f.generalStep(C,p,c,D,N,A,b,F,w,R),r&&ze&&oe(y+k,M+k,f.getEnvironment(),f,e,u);for(var G=0;v>G;G++)t[G](u,o,this);i.setDate(i.getDate()+1),o=i.toISODateString()}for(var G=0;v>G;G++)t[G](u,o,this,!0)},e},Be=function(e){var a=this;this._currentCropGrowth=null,this.cropGrowth=function(){return a._currentCropGrowth},this.vs_GroundwaterDepth;var i=e,r=new ke(i.general,i.soilParams,i.centralParameterProvider),o=new qe(r,this,i.centralParameterProvider),_=new Ve(r,i.site,this,i.centralParameterProvider),c=new Ge(r,i.general,i.site,i.centralParameterProvider),p=new We(r,i.site,i.centralParameterProvider),l=0,u=0,g=0,f=(i.da,i.centralParameterProvider),v=f.userEnvironmentParameters,d=0,m=0,S=0,y=0,M=0,O=null,C=!1,N=0,A=e.cropRotation[N],D=A.start(),w=[],P=0,R=0,T=380;se(A);var H=function(t){if(0===e.cropRotation.length)return void te(s,"rotation is empty");var a=e.da.startDate(),i=e.da.noOfStepsPossible();if(te(n,"next app-date: "+D.toISODateString()),!D.isValid())return void te(s,"start of production-process: "+A.toString()+" is not valid");for(var r=0;i>r;r++){if(a.setDate(a.getDate()+1),te(n,a.toISODateString()),Pe(),D.setHours(0,0,0,0)===a.setHours(0,0,0,0)){A.apply(D,this),te(n,"applied at: "+D.toISODateString());D=A.nextDate(D),!D.isValid()&&O instanceof FieldCrop?(we(),A.crop().reset(),N++,N<e.cropRotation.length&&(A=e.cropRotation[N],D=A.start(),te(n,"new valid next app-date: "+D.toISODateString()))):D.isValid()&&te(n,"next app-date: "+D.toISODateString())}if(Oe()&&V(r),t.length)for(var o=0,_=t.length;_>o;o++)t[o](r,a,this);Y(r)}if(te(n,"returning from runModel"),t)for(var o=0,_=t.length;_>o;o++)t[o](null,null)},b=function(e){O=e;var o=null;if(a._currentCropGrowth=null,d=0,m=0,S=0,y=0,M=0,O.isValid()&&"generic"===O.type){if(o=O.cropParameters(),a._currentCropGrowth=new He(r,i.general,o,i.site,i.centralParameterProvider),p.put_Crop(a._currentCropGrowth),r.put_Crop(a._currentCropGrowth),_.put_Crop(a._currentCropGrowth),c.put_Crop(a._currentCropGrowth),te(n,"seeding crop: "+e.name()),i.useNMinMineralFertilisingMethod&&O.seedDate().dayOfYear()<=O.harvestDate().dayOfYear()){te(n,"N_min fertilising summer crop");var l=E(i.nMinFertiliserPartition,NMinCropParameters(o.pc_SamplingDepth,o.pc_TargetNSamplingDepth,o.pc_TargetN30));he(l)}}else O.isValid()&&"grassland"===O.type&&(o={},a._currentCropGrowth=new Ie(r,i.general,O.mixture,i.site,i.centralParameterProvider),p.put_Crop(a._currentCropGrowth),r.put_Crop(a._currentCropGrowth),_.put_Crop(a._currentCropGrowth),c.put_Crop(a._currentCropGrowth),te(n,"seeding crop: "+e.name()));a._currentCropGrowth instanceof t||te(s,"Crop growth ("+e.name()+") not instance of CropGrowthAPI.")},I=function(){if(O&&O.isValid()){var t=a._currentCropGrowth.biomass(0),e=a._currentCropGrowth.rootNitrogenConcentration();te(n,"Harvest: adding organic matter from root to soilOrganic"),te(n,"Root biomass: "+t+" Root N concentration: "+e),c.addOrganicMatter(O.residueParameters(),t,e);var o=a._currentCropGrowth.residueBiomass(i.useSecondaryYields),s=a._currentCropGrowth.residuesNitrogenConcentration();te(n,"Adding organic matter from residues to soilOrganic"),te(n,"Residue biomass: "+o+" Residue N concentration: "+s),te(n,"Primary yield biomass: "+a._currentCropGrowth.primaryYield()+" Primary yield N concentration: "+a._currentCropGrowth.primaryYieldNitrogenConcentration()),te(n,"Secondary yield biomass: "+a._currentCropGrowth.secondaryYield()+" Secondary yield N concentration: ??"),te(n,"Residues N content: "+a._currentCropGrowth.residuesNitrogenContent()+" Primary yield N content: "+a._currentCropGrowth.primaryYieldNitrogenContent()+" Secondary yield N content: "+a._currentCropGrowth.secondaryYieldNitrogenContent()),c.addOrganicMatter(O.residueParameters(),o,s),w.push({year:P,julday:R,"yield":a._currentCropGrowth.primaryYield(),crop:O.name()})}a._currentCropGrowth=null,O=null,p.remove_Crop(),r.remove_Crop(),_.remove_Crop(),c.remove_Crop()},x=function(){if(O&&O.isValid()){var t=a._currentCropGrowth.biomass(),e=a._currentCropGrowth.shootBiomassNitrogenConcentration()+a._currentCropGrowth.rootNitrogenConcentration();te(n,"Incorporation: adding organic matter from total biomass of crop to soilOrganic"),te(n,"Total biomass: "+t+" Total N concentration: "+e),c.addOrganicMatter(O.residueParameters(),t,e)}a._currentCropGrowth=null,O=null,p.remove_Crop(),r.remove_Crop(),_.remove_Crop(),c.remove_Crop()},L=function(t,e){i.useNMinMineralFertilisingMethod||(te(n,"Apply mineral fertiliser. Amount: "+e),r.applyMineralFertiliser(t,e),he(e))},B=function(t,e,a){te(n,"apply organic fertiliser: amount: "+e+", vo_NConcentration: "+t.vo_NConcentration),c.setIncorporation(a),c.addOrganicMatter(t,e,t.vo_NConcentration),he(e*t.vo_AOM_DryMatterContent*t.vo_NConcentration)
},E=function(t,e){var a=i.nMinUserParams,o=r.applyMineralFertiliserViaNMinMethod(t,e.samplingDepth,e.nTarget,e.nTarget30,a.min,a.max,a.delayInDays);return o},k=function(t,e){i.useAutomaticIrrigation||(te(n,"apply irrigation: amount: "+t+", nitrateConcentration: "+e),c.addIrrigationWater(t),r.applyIrrigation(t,e),O&&this.addDailySumIrrigationWater(t))},G=function(t){r.applyTillage(t),x()},U=function(t){isNaN(D)||D.toISODateString()!==t.toISODateString()||(A.apply(D,this),D=A.nextDate(D),D.isValid()||(we(),A.crop().reset(),N++,N<e.cropRotation.length&&(A=e.cropRotation[N],D=A.start(),isNaN(D)||te(n,"next app-date: "+D.toISODateString()))))},Y=function(t,s,l,u,g,f,d,m,S,h){P=s,R=t,a.vs_GroundwaterDepth=q(v.p_MaxGroundwaterDepth,v.p_MinGroundwaterDepth,v.p_MinGroundwaterDepthMonth,t,l);var y=v.p_JulianDayAutomaticFertilising;r.deleteAOMPool(),r.applyPossibleDelayedFerilizer();var M=r.applyPossibleTopDressing();if(he(M),O&&O.isValid()&&i.useNMinMineralFertilisingMethod&&O.seedDate().dayOfYear()>O.harvestDate().dayOfYear()&&t==y){te(n,"N_min fertilising winter crop");var C=O.cropParameters(),N=E(i.nMinFertiliserPartition,NMinCropParameters(C.pc_SamplingDepth,C.pc_TargetNSamplingDepth,C.pc_TargetN30));he(N)}o.step(u,f,S),_.step(a.vs_GroundwaterDepth,d,f,u,h/100,g,m,e.windSpeedHeight,S,t),c.step(g,d,m),p.step()},V=function(t,e,i,o,n,_,s,p,l,u,f,v,h,C,N){if(a._currentCropGrowth){if(T=u,d++,a._currentCropGrowth.step(t,e,i,o,n,_,s/100,p,l,u,f,v,h,C,N),N&&O.isAutoIrrigationOn()){var A=r.applyIrrigationViaTrigger(.35,0);c.addIrrigationWater(A),g+=A}m+=a._currentCropGrowth.nitrogenStress(),S+=a._currentCropGrowth.waterStress(),y+=a._currentCropGrowth.heatStress(),M+=a._currentCropGrowth.oxygenStress()}},W=function(t,e,a){var i=380,r=0;return r=a?t+e/366:t+e/365,i=222+h(.0119*(r-1580))+2.5*F((r-.5)/.1592)},q=function(t,e,a,i,r){var o=20,n=r?366:365,_=(t+e)/2,s=(t-e)/2,c=F(3.14159265358979*(i/n*360-90-(30*a-15))/180);return o=_+c*s,0>o&&(o=20),o},K=function(t){for(var e=0,a=0,o=0,n=0,_=i.noOfLayers;_>n&&(o++,a+=r[n].vs_SoilOrganicCarbon(),e+=r[n].vs_LayerThickness,!(e>=t));n++);return a/o*100},z=function(){return _.meanWaterContent(.9)},j=function(t,e){return _.meanWaterContent(t,e)},J=function(t){for(var e=0,a=0,o=0,n=0,_=i.noOfLayers;_>n&&(o++,a+=r[n].get_SoilNmin(),e+=r[n].vs_LayerThickness,!(e>=t));n++);return a/o*e*1e4},X=function(t){for(var e=0,a=0,o=0,n=0,_=i.noOfLayers;_>n&&(o++,a+=r[n].get_SoilNO3(),e+=r[n].vs_LayerThickness,!(e>=t));n++);return a},Z=function(){return _.get_GroundwaterRecharge()},Q=function(){return p.get_NLeaching()},$=function(t){return r.sumSoilTemperature(t)},ee=function(){return _.getMaxSnowDepth()},ae=function(){return _.accumulatedSnowDepth()},ie=function(){return _.getAccumulatedFrostDepth()},re=function(){for(var t=3,e=0,a=0;t>a;a++)e+=r.soilLayer(a).get_Vs_SoilTemperature();return e/t},oe=function(t,e){for(var a=0,i=0,o=t;e>o;o++)i+=r.soilLayer(o).get_Vs_SoilMoisture_m3(),a++;return i/a},ne=function(t,e){for(var a=0,i=0,r=t;e>r;r++)i+=_.get_CapillaryRise(r),a++;return i/a},_e=function(t,e){for(var a=0,i=0,r=t;e>r;r++)i+=_.get_PercolationRate(r),a++;return i/a},ce=function(){return _.get_SumSurfaceRunOff()},pe=function(){return _.get_SurfaceRunOff()},le=function(){return a._currentCropGrowth?a._currentCropGrowth.remainingEvapotranspiration():0},ue=function(){return a._currentCropGrowth?a._currentCropGrowth.get_ActualTranspiration():0},ge=function(){return a._currentCropGrowth?a._currentCropGrowth.evaporatedFromIntercept():0},fe=function(){return _.get_Evapotranspiration()},ve=function(){for(var t=0,e=0;3>e;e++)t+=c.get_SMB_CO2EvolutionRate(e);return t},de=function(){return c.get_NH3_Volatilised()},me=function(){return c.get_SumNH3_Volatilised()},Se=function(){for(var t=0,e=0;3>e;e++)t+=c.get_ActDenitrificationRate(e);return t},he=function(t){u+=t,l+=t},ye=function(){return i.useNMinMineralFertilisingMethod},Me=function(){return O},Oe=function(){return O&&O.isValid()},Ce=function(){return u},Ne=function(){return g},Ae=function(t){g+=t},De=function(){return l},we=function(){l=0},Pe=function(){g=0,u=0},Re=function(){return T},Fe=function(){return a.vs_GroundwaterDepth},Te=function(){return f.writeOutputFiles},be=function(){return f},xe=function(){return i},Le=function(){return o},Be=function(){return _},Ee=function(){return c},Ue=function(){return p},Ye=function(){return r},Ke=function(){return r},ze=function(t){return t*(1-i.albedo)},je=function(){return d},Je=function(){return m},Xe=function(){return S},Ze=function(){return y},Qe=function(){return M},$e=function(){return Number(C)},ta=function(t){C=t};return{run:H,getCentralParameterProvider:be,getEnvironment:xe,cropGrowth:this.cropGrowth,prodProcessStep:U,generalStep:Y,cropStep:V,CO2ForDate:W,GroundwaterDepthForDate:q,seedCrop:b,incorporateCurrentCrop:x,applyMineralFertiliser:L,applyOrganicFertiliser:B,harvestCurrentCrop:I,applyMineralFertiliserViaNMinMethod:E,applyIrrigation:k,applyTillage:G,avgCorg:K,mean90cmWaterContent:z,meanWaterContent:j,sumNmin:J,groundWaterRecharge:Z,nLeaching:Q,sumSoilTemperature:$,sumNO3AtDay:X,maxSnowDepth:ee,accumulatedSnowDepth:ae,accumulatedFrostDepth:ie,avg30cmSoilTemperature:re,avgSoilMoisture:oe,avgCapillaryRise:ne,avgPercolationRate:_e,sumSurfaceRunOff:ce,surfaceRunoff:pe,getEvapotranspiration:le,getTranspiration:ue,getEvaporation:ge,get_sum30cmSMB_CO2EvolutionRate:ve,getNH3Volatilised:de,getSumNH3Volatilised:me,getsum30cmActDenitrificationRate:Se,getETa:fe,vw_AtmosphericCO2Concentration:this.vw_AtmosphericCO2Concentration,vs_GroundwaterDepth:this.vs_GroundwaterDepth,addDailySumFertiliser:he,useNMinMineralFertilisingMethod:ye,currentCrop:Me,isCropPlanted:Oe,dailySumFertiliser:Ce,dailySumIrrigationWater:Ne,addDailySumIrrigationWater:Ae,sumFertiliser:De,resetFertiliserCounter:we,resetDailyCounter:Pe,get_AtmosphericCO2Concentration:Re,get_GroundwaterDepth:Fe,writeOutputFiles:Te,soilTemperature:Le,soilMoisture:Be,soilOrganic:Ee,soilTransport:Ue,soilColumn:Ye,soilColumnNC:Ke,netRadiation:ze,daysWithCrop:je,getAccumulatedNStress:Je,getAccumulatedWaterStress:Xe,getAccumulatedHeatStress:Ze,getAccumulatedOxygenStress:Qe,getIsVegPeriod:$e,setIsVegPeriod:ta,yields:function(){return w}}},Ee=function(t,e,a){var i=this;if(0===arguments.length){this.vs_SoilSandContent=.9,this.vs_SoilClayContent=.05,this.vs_SoilStoneContent=0,this.vs_SoilTexture="Ss",this.vs_SoilpH=7,this.vs_SoilMoistureOld_m3=.25,this.vs_SoilWaterFlux=0,this.vs_Lambda=.5,this.vs_FieldCapacity=.21,this.vs_Saturation=.43,this.vs_PermanentWiltingPoint=.08,this.vs_SOM_Slow=0,this.vs_SOM_Fast=0,this.vs_SMB_Slow=0,this.vs_SMB_Fast=0,this.vs_SoilCarbamid=0,this.vs_SoilNH4=1e-4,this.vs_SoilNO2=.001,this.vs_SoilNO3=.001,this.vs_SoilFrozen=!1;var o=-1,n=-1,_=0,s=-1,p=.25,l=0;this.vo_AOM_Pool=[];var u=new de;this.vs_SoilMoisture_m3=this.vs_FieldCapacity*u.userInitValues.p_initPercentageFC,this.vs_SoilMoistureOld_m3=this.vs_FieldCapacity*u.userInitValues.p_initPercentageFC,this.vs_SoilNO3=u.userInitValues.p_initSoilNitrate,this.vs_SoilNH4=u.userInitValues.p_initSoilAmmonium}else{if(3!==arguments.length||!(arguments[2]instanceof de))throw new Error("arguments.length !== 3 || !(arguments[2] instanceof ParameterProvider");this.vs_LayerThickness=t,this.vs_SoilSandContent=e.vs_SoilSandContent,this.vs_SoilClayContent=e.vs_SoilClayContent,this.vs_SoilStoneContent=e.vs_SoilStoneContent,this.vs_SoilTexture=e.vs_SoilTexture,this.vs_SoilpH=e.vs_SoilpH,this.vs_SoilMoistureOld_m3=.25,this.vs_SoilWaterFlux=0,this.vs_Lambda=e.vs_Lambda,this.vs_FieldCapacity=e.vs_FieldCapacity,this.vs_Saturation=e.vs_Saturation,this.vs_PermanentWiltingPoint=e.vs_PermanentWiltingPoint,this.vs_SOM_Slow=0,this.vs_SOM_Fast=0,this.vs_SMB_Slow=0,this.vs_SMB_Fast=0,this.vs_SoilCarbamid=0,this.vs_SoilNH4=1e-4,this.vs_SoilNO2=.001,this.vs_SoilNO3=.005,this.vs_SoilFrozen=!1,this.centralParameterProvider=a;var o=e.vs_SoilOrganicCarbon(),n=e.vs_SoilOrganicMatter(),_=e.vs_SoilBulkDensity(),s=0,p=.25,l=0;if(this.vo_AOM_Pool=[],r&&!(o-n*Q.PO_SOM_TO_C<1e-5))throw te(c,o+" _vs_SoilOrganicCarbon"),te(c,n+" _vs_SoilOrganicMatter"),new Error("_vs_SoilOrganicCarbon - (_vs_SoilOrganicMatter * ORGANIC_CONSTANTS.PO_SOM_TO_C)) < 0.00001)");p=this.vs_FieldCapacity*a.userInitValues.p_initPercentageFC,this.vs_SoilMoistureOld_m3=this.vs_FieldCapacity*a.userInitValues.p_initPercentageFC,this.vs_SoilNH4=e.vs_SoilAmmonium<0?a.userInitValues.p_initSoilAmmonium:e.vs_SoilAmmonium,this.vs_SoilNO3=e.vs_SoilNitrate<0?a.userInitValues.p_initSoilNitrate:e.vs_SoilNitrate}this.vs_SoilNH4_a=0;var f=function(){return o>=0?o:n*Q.PO_SOM_TO_C},v=function(){return n>=0?n:o/Q.PO_SOM_TO_C},d=function(){return 1-i.vs_SoilSandContent-i.vs_SoilClayContent},m=function(){var t,e;t=i.vs_PermanentWiltingPoint>0?i.vs_PermanentWiltingPoint:M(),e=i.vs_Saturation>0?i.vs_Saturation:y();var a,r=h(-2.486+2.5*i.vs_SoilSandContent-35.1*f()-2.617*(O()/1e3)-2.3*i.vs_SoilClayContent),o=1,n=h(.053-.9*i.vs_SoilSandContent-1.3*i.vs_SoilClayContent+1.5*D(i.vs_SoilSandContent,2));a=x()<=t?5e7:1/r*D(D((e-t)/(x()-t),1/o)-1,1/n),s=C(a),s=0>s||isNaN(s)||1/0===g(s)?.01:s},S=function(){if(""==i.vs_SoilTexture){var t,e;t=i.vs_PermanentWiltingPoint>0?i.vs_PermanentWiltingPoint:M(),e=i.vs_Saturation>0?i.vs_Saturation:y();var a=h(-2.486+2.5*i.vs_SoilSandContent-35.1*f()-2.617*(O()/1e3)-2.3*i.vs_SoilClayContent),r=1,o=h(.053-.9*i.vs_SoilSandContent-1.3*i.vs_SoilClayContent+1.5*D(i.vs_SoilSandContent,2)),n=2.1;i.vs_SoilSandContent>.48&&i.vs_SoilSandContent<=.9&&i.vs_SoilClayContent<=.12?n=2.1-.476*(i.vs_SoilSandContent-.48):i.vs_SoilSandContent>.9&&i.vs_SoilClayContent<=.05?n=1.9:i.vs_SoilClayContent>.45?n=2.5:i.vs_SoilClayContent>.3&&i.vs_SoilSandContent<.2?n=2.4:i.vs_SoilClayContent>.35?n=2.3:i.vs_SoilClayContent>.25&&i.vs_SoilSandContent<.1?n=2.3:i.vs_SoilClayContent>.17&&i.vs_SoilSandContent>.68?n=2.2:i.vs_SoilClayContent>.17&&i.vs_SoilSandContent<.33?n=2.2:i.vs_SoilClayContent>.08&&i.vs_SoilSandContent<.27?n=2.2:i.vs_SoilClayContent>.25&&i.vs_SoilSandContent<.25&&(n=2.2);var _=D(10,n);i.vs_FieldCapacity=t+(e-t)/D(1+D(a*_,o),r),i.vs_FieldCapacity*=1-i.vs_SoilStoneContent}return i.vs_FieldCapacity},y=function(){return""==i.vs_SoilTexture&&(i.vs_Saturation=.81-.283*(O()/1e3)+.1*i.vs_SoilClayContent,i.vs_Saturation*=1-i.vs_SoilStoneContent),i.vs_Saturation},M=function(){return""==i.vs_SoilTexture&&(i.vs_PermanentWiltingPoint=.015+.5*i.vs_SoilClayContent+1.4*i.vs_SoilOrganicCarbon(),i.vs_PermanentWiltingPoint*=1-i.vs_SoilStoneContent),i.vs_PermanentWiltingPoint},O=function(){return _},N=function(t){n=t},A=function(t){o=t},w=function(){return i.vs_SoilpH},P=function(){return m(),s},R=function(){return this.vs_SoilNH4},F=function(){return this.vs_SoilNH4_a},T=function(){return this.vs_SoilNO2},H=function(){return this.vs_SoilNO3},b=function(){return this.vs_SoilCarbamid},I=function(){return this.vs_SoilNO3+this.vs_SoilNO2+this.vs_SoilNH4},x=function(){return p},L=function(t){p=t},B=function(){return l},E=function(t){l=t},f=function(){return o},v=function(){return n},d=function(){return this.vs_SoilSiltContent};return{calc_vs_SoilMoisture_pF:m,centralParameterProvider:this.centralParameterProvider,get_FieldCapacity:S,get_PermanentWiltingPoint:M,get_Saturation:y,get_SoilCarbamid:b,get_SoilNH4:R,get_SoilNH4_a:F,get_SoilNmin:I,get_SoilNO2:T,get_SoilNO3:H,get_SoilpH:w,get_Vs_SoilMoisture_m3:x,get_Vs_SoilTemperature:B,set_SoilOrganicCarbon:A,set_SoilOrganicMatter:N,set_Vs_SoilMoisture_m3:L,set_Vs_SoilTemperature:E,vo_AOM_Pool:this.vo_AOM_Pool,vs_FieldCapacity:this.vs_FieldCapacity,vs_Lambda:this.vs_Lambda,vs_LayerThickness:this.vs_LayerThickness,vs_PermanentWiltingPoint:this.vs_PermanentWiltingPoint,vs_Saturation:this.vs_Saturation,vs_SMB_Fast:this.vs_SMB_Fast,vs_SMB_Slow:this.vs_SMB_Slow,vs_SoilBulkDensity:O,vs_SoilCarbamid:this.vs_SoilCarbamid,vs_SoilClayContent:this.vs_SoilClayContent,vs_SoilFrozen:this.vs_SoilFrozen,vs_SoilMoisture_pF:P,vs_SoilMoistureOld_m3:this.vs_SoilMoistureOld_m3,vs_SoilNH4:this.vs_SoilNH4,vs_SoilNH4_a:this.vs_SoilNH4_a,vs_SoilNO2:this.vs_SoilNO2,vs_SoilNO3:this.vs_SoilNO3,vs_SoilOrganicCarbon:f,vs_SoilOrganicMatter:v,vs_SoilpH:this.vs_SoilpH,vs_SoilSandContent:this.vs_SoilSandContent,vs_SoilSiltContent:d,vs_SoilStoneContent:this.vs_SoilStoneContent,vs_SoilTexture:this.vs_SoilTexture,vs_SoilWaterFlux:this.vs_SoilWaterFlux,vs_SOM_Fast:this.vs_SOM_Fast,vs_SOM_Slow:this.vs_SOM_Slow}},ke=function(t,e,a){var i=this;this.generalParams=t,this.soilParams=e,this.centralParameterProvider=a,this.cropGrowth=null,this._delayedNMinApplications=[],this._vf_TopDressing=0,this._vf_TopDressingDelay=0,this._vs_NumberOfOrganicLayers=0;var o=a.userSoilMoistureParameters.pm_CriticalMoistureDepth,s=[];s.vs_SurfaceWaterStorage=0,s.vs_InterceptionStorage=0,s.vm_GroundwaterTable=0,s.vs_FluxAtLowerBoundary=0,s.vq_CropNUptake=0,s.vs_SoilLayers=[],te(n,"Constructor: SoilColumn "+e.length);for(var c=0;c<this.soilParams.length;c++){var p=new Ee(t.ps_LayerThickness[0],e[c],a);s.vs_SoilLayers.push(p),s[c]=p}s.applyMineralFertiliser=function(t,e){if(this[0].vs_SoilNO3+=e*t.getNO3()/1e4/this[0].vs_LayerThickness,this[0].vs_SoilNH4+=e*t.getNH4()/1e4/this[0].vs_LayerThickness,this[0].vs_SoilCarbamid+=e*t.getCarbamid()/1e4/this[0].vs_LayerThickness,r&&this[0].vs_SoilNH4<0)throw new Error(this[0].vs_SoilNH4)},s.applyPossibleTopDressing=function(){if(i._vf_TopDressingDelay>0&&(i._vf_TopDressingDelay--,0==i._vf_TopDressingDelay)){var t=i._vf_TopDressing;return this.applyMineralFertiliser(i._vf_TopDressingPartition,t),i._vf_TopDressing=0,t}return 0},s.applyPossibleDelayedFerilizer=function(){for(var t=i._delayedNMinApplications,e=0;0===!t.length;)if(e+=t[0].func.apply(this,t[0].args),t.shift(),r&&t!=_delayedNMinApplications)throw new Error(t);return e},s.applyMineralFertiliserViaNMinMethod=function(t,e,a,r,o,s,c){if(this[0].get_Vs_SoilMoisture_m3()>this[0].get_FieldCapacity())return i._delayedNMinApplications.push({func:this.applyMineralFertiliserViaNMinMethod,args:[t,e,a,r,o,s,c]}),te(_,"Soil too wet for fertilisation. Fertiliser event adjourned to next day."),0;for(var p=0,l=0,u=0,g=0,f=this.getLayerNumberForDepth(.3),v=m(e/this[d].vs_LayerThickness),d=0;v>d;d++)p+=this[d].vs_SoilNO3,u+=this[d].vs_SoilNH4;for(var d=0;f>d;d++)l+=this[d].vs_SoilNO3,g+=this[d].vs_SoilNH4;var S=a/1e4/this[0].vs_LayerThickness,h=r/1e4/this[0].vs_LayerThickness,y=S-(p+u),M=h-(l+g),O=1e4*y*this[0].vs_LayerThickness,C=1e4*M*this[0].vs_LayerThickness,A=N(O,C);return o>A&&(A=0,te(_,"Fertiliser demand below minimum application value. No fertiliser applied.")),A>s&&(i._vf_TopDressing=A-s,i._vf_TopDressingPartition=t,i._vf_TopDressingDelay=c,A=s,te(_,"Fertiliser demand above maximum application value. A top dressing of "+_vf_TopDressing+" will be applied from now on day"+c+".")),this.applyMineralFertiliser(t,A),te(n,"SoilColumn::applyMineralFertiliserViaNMinMethod:	"+A),A},s.applyIrrigation=function(t,e){var a=0;this.vs_SurfaceWaterStorage+=t,a=e*t/this[0].vs_LayerThickness/1e6,this[0].vs_SoilNO3+=a},s.applyIrrigationViaTrigger=function(t,e){if(null===i.cropGrowth)throw new Error("that.cropGrowth === null");for(var a=o,r=0,_=0,s=0,c=0,p=M(m(a/this[0].vs_LayerThickness)),l=0;p>l;l++)r+=(this[l].get_Vs_SoilMoisture_m3()-this[l].vs_PermanentWiltingPoint)*this[0].vs_LayerThickness*1e3,_+=(this[l].vs_FieldCapacity-this[l].vs_PermanentWiltingPoint)*this[0].vs_LayerThickness*1e3,c+=_-r;if(s=r/_,t>=s){if(0>c)throw new Error("vi_IrrigationAmount < 0");return this.applyIrrigation(c,e),te(n,"applying automatic irrigation  treshold: "+t+" amount: "+c+" N concentration: "+e),c}return 0},s.deleteAOMPool=function(){for(var t=1;t<this[0].vo_AOM_Pool.length;){for(var e=0,a=0,r=0;r<i._vs_NumberOfOrganicLayers;r++)e+=this[r].vo_AOM_Pool[t].vo_AOM_Slow,a+=this[r].vo_AOM_Pool[t].vo_AOM_Fast;if(1e-5>e+a)for(var r=0;r<i._vs_NumberOfOrganicLayers;r++){var o=0;o+=t,this[r].vo_AOM_Pool.splice(o,1)}else t++}},s.vs_NumberOfLayers=function(){return this.length},s.applyTillage=function(t){for(var e=this.getLayerNumberForDepth(t)+1,a=0,i=0,o=0,n=0,_=0,s=0,c=0,p=0,l=0,u=0,g=0,f=0,v=0,d=0;e>d;d++)a+=this[d].vs_SoilOrganicCarbon(),i+=this[d].vs_SoilOrganicMatter(),o+=this[d].get_Vs_SoilTemperature(),n+=this[d].get_Vs_SoilMoisture_m3(),_+=this[d].vs_SoilMoistureOld_m3,s+=this[d].vs_SOM_Slow,c+=this[d].vs_SOM_Fast,p+=this[d].vs_SMB_Slow,l+=this[d].vs_SMB_Fast,u+=this[d].vs_SoilCarbamid,g+=this[d].vs_SoilNH4,f+=this[d].vs_SoilNO2,v+=this[d].vs_SoilNO3;if(r&&this[0].vs_SoilNH4<0)throw new Error(this[0].vs_SoilNH4);if(r&&this[0].vs_SoilNO2<0)throw new Error(this[0].vs_SoilNO2);if(r&&this[0].vs_SoilNO3<0)throw new Error(this[0].vs_SoilNO3);a/=e,i/=e,o/=e,n/=e,_/=e,s/=e,c/=e,p/=e,l/=e,u/=e,g/=e,f/=e,v/=e;for(var d=0;e>d;d++){if(this[d].set_SoilOrganicCarbon(a),this[d].set_SoilOrganicMatter(i),this[d].set_Vs_SoilTemperature(o),this[d].set_Vs_SoilMoisture_m3(n),this[d].vs_SoilMoistureOld_m3=_,this[d].vs_SOM_Slow=s,this[d].vs_SOM_Fast=c,this[d].vs_SMB_Slow=p,this[d].vs_SMB_Fast=l,this[d].vs_SoilCarbamid=u,this[d].vs_SoilNH4=g,this[d].vs_SoilNO2=f,this[d].vs_SoilNO3=v,r&&this[d].vs_SoilNH4<0)throw new Error(this[d].vs_SoilNH4);if(r&&this[d].vs_SoilNO2<0)throw new Error(this[d].vs_SoilNO2);if(r&&this[d].vs_SoilNO3<0)throw new Error(this[d].vs_SoilNO3)}var m=this[0].vo_AOM_Pool.length;if(m>0){for(var S=new Array(m),h=new Array(m),y=0;m>y;y++)S[y]=0,h[y]=0;e=A(e,this.vs_NumberOfOrganicLayers());for(var M=0;e>M;M++){var O=this[M],y=0;O.vo_AOM_Pool.forEach(function(t){S[y]+=t.vo_AOM_Slow,h[y]+=t.vo_AOM_Fast,y++})}for(var y=0;m>y;y++)S[y]=S[y]/e,h[y]=h[y]/e;for(var M=0;e>M;M++){O=this[M];var y=0;O.vo_AOM_Pool.forEach(function(t){t.vo_AOM_Slow=S[y],t.vo_AOM_Fast=h[y],y++})}}},s.vs_NumberOfOrganicLayers=function(){return i._vs_NumberOfOrganicLayers},s.soilLayer=function(t){return this[t]},s.vs_LayerThickness=function(){return this[0].vs_LayerThickness},s.get_DailyCropNUptake=function(){return 1e4*this.vq_CropNUptake},s.getLayerNumberForDepth=function(t){for(var e=0,a=this.length,i=0,r=this[0].vs_LayerThickness,o=0;a>o&&(i+=r,!(i>=t));o++)e++;return e},s.put_Crop=function(t){i.cropGrowth=t},s.remove_Crop=function(){i.cropGrowth=null},s.sumSoilTemperature=function(t){for(var e=0,a=0;t>a;a++)e+=this[a].get_Vs_SoilTemperature();return e},s.vs_NumberOfLayers=function(){return this.length};var l=function(){for(var t=0,e=0,a=0;a<s.vs_NumberOfLayers()&&(e++,t+=s.vs_SoilLayers[a].vs_LayerThickness,!(t>=i.generalParams.ps_MaxMineralisationDepth));a++);i._vs_NumberOfOrganicLayers=e};l();for(var u=0;u<i._vs_NumberOfOrganicLayers;u++){var g=new ue;g.vo_AOM_DryMatterContent=1,g.vo_AOM_NH4Content=0,g.vo_AOM_NO3Content=0,g.vo_AOM_CarbamidContent=0,g.vo_AOM_SlowDecCoeffStandard=.012,g.vo_AOM_FastDecCoeffStandard=.05,g.vo_PartAOM_to_AOM_Slow=.67,g.vo_PartAOM_to_AOM_Fast=.33,g.vo_CN_Ratio_AOM_Slow=200,g.vo_CN_Ratio_AOM_Fast=0,g.vo_PartAOM_Slow_to_SMB_Slow=.5,g.vo_PartAOM_Slow_to_SMB_Fast=.5,g.vo_NConcentration=0,s[u].vo_AOM_Pool[0]=g}return s},Ge=function(t,e,a,i){for(var o=t,n=a,s=i,c=(t.vs_NumberOfLayers(),t.vs_NumberOfOrganicLayers()),p=!1,l=0,u=new Float64Array(t.vs_NumberOfOrganicLayers()),f=new Float64Array(t.vs_NumberOfOrganicLayers()),v=0,d=new Float64Array(t.vs_NumberOfOrganicLayers()),m=new Float64Array(t.vs_NumberOfOrganicLayers()),S=0,y=new Float64Array(t.vs_NumberOfOrganicLayers()),M=new Float64Array(t.vs_NumberOfOrganicLayers()),O=0,C=new Float64Array(t.vs_NumberOfOrganicLayers()),N=0,w=0,P=0,R=0,F=new Float64Array(t.vs_NumberOfOrganicLayers()),T=0,H=0,b=new Float64Array(t.vs_NumberOfOrganicLayers()),I=new Float64Array(t.vs_NumberOfOrganicLayers()),x=new Float64Array(t.vs_NumberOfOrganicLayers()),L=new Float64Array(t.vs_NumberOfOrganicLayers()),B=new Float64Array(t.vs_NumberOfOrganicLayers()),E=0,k=new Float64Array(t.vs_NumberOfOrganicLayers()),G=0,U=0,Y=0,V=0,W=0,q=!1,K=null,z=s.userSoilOrganicParameters.po_SOM_SlowUtilizationEfficiency,j=s.userSoilOrganicParameters.po_PartSOM_to_SMB_Slow,J=s.userSoilOrganicParameters.po_SOM_FastUtilizationEfficiency,X=s.userSoilOrganicParameters.po_PartSOM_to_SMB_Fast,Z=s.userSoilOrganicParameters.po_SOM_SlowDecCoeffStandard,$=s.userSoilOrganicParameters.po_SOM_FastDecCoeffStandard,ee=s.userSoilOrganicParameters.po_PartSOM_Fast_to_SOM_Slow,ae=0;c>ae;ae++)L[ae]=o[ae].vs_SoilOrganicCarbon()*o[ae].vs_SoilBulkDensity(),C[ae]=.049*D(L[ae]*o[ae].vs_LayerThickness/1e3*1e4,1.139)/1e4*1e3/o[ae].vs_LayerThickness,L[ae]-=C[ae],o[ae].vs_SMB_Slow=z*j*L[ae],o[ae].vs_SMB_Fast=J*X*L[ae],o[ae].vs_SOM_Slow=L[ae]/(1+Z/($*ee)),o[ae].vs_SOM_Fast=L[ae]-o[ae].vs_SOM_Slow,L[ae]-=o[ae].vs_SMB_Slow+o[ae].vs_SMB_Fast,o[ae].set_SoilOrganicCarbon((L[ae]+C[ae])/o[ae].vs_SoilBulkDensity()),o[ae].set_SoilOrganicMatter((L[ae]+C[ae])/Q.PO_SOM_TO_C/o[ae].vs_SoilBulkDensity()),u[ae]=0;var ie=function(t,e,a){var i=K?K.netPrimaryProduction():0;if(ne(e+l),_e(),ce(p,t,a),pe(),le(),ge(),fe(),P=Ce(i,O),w=Ne(i,O),V+=H,Y+=N,l=0,S=0,v=0,E=0,p=!1,K){var r=K.senescencedTissue(),n=o.vs_NumberOfOrganicLayers();if(r.length===n)for(var _=0;n>_;_++){var s=o[_].vo_AOM_Pool[0],c=r[_];c.vo_CN_Ratio_AOM_Slow>0&&(s.vo_CN_Ratio_AOM_Slow=(s.vo_AOM_Slow+c.vo_AOM_Slow)/(1/s.vo_CN_Ratio_AOM_Slow*s.vo_AOM_Slow+1/c.vo_CN_Ratio_AOM_Slow*c.vo_AOM_Slow)),s.vo_AOM_Slow+=c.vo_AOM_Slow}}},re=function(t,e,a){var i=e,n=a,_=t.vo_AOM_DryMatterContent,c=t.vo_AOM_NH4Content,l=t.vo_AOM_NO3Content,u=t.vo_AOM_CarbamidContent,g=t.vo_PartAOM_to_AOM_Slow,f=t.vo_PartAOM_to_AOM_Fast,d=t.vo_CN_Ratio_AOM_Slow,m=t.vo_CN_Ratio_AOM_Fast,h=s.userSoilOrganicParameters.po_AOM_FastMaxC_to_N;o.vs_NumberOfOrganicLayers()>0&&(o[0].vs_SoilCarbamid+=i*_*u/1e4/o[0].vs_LayerThickness);for(var y=0,M=0,O=o.vs_NumberOfOrganicLayers(),C=0;O>C;C++)if(0==C){var N=new ue;N.vo_DaysAfterApplication=0,N.vo_AOM_DryMatterContent=_,N.vo_AOM_NH4Content=c,N.vo_AOM_Slow=0,N.vo_AOM_Fast=0,N.vo_AOM_SlowDecCoeffStandard=t.vo_AOM_SlowDecCoeffStandard,N.vo_AOM_FastDecCoeffStandard=t.vo_AOM_FastDecCoeffStandard,N.vo_CN_Ratio_AOM_Slow=d,N.incorporation=q,y=i*_*Q.PO_AOM_TO_C/1e4/o[0].vs_LayerThickness,1e-7>=m?(M=i*_*n/1e4/o[0].vs_LayerThickness,0>=n&&(M=.01),m=M>y*g/d?y*f/(M-y*g/d):h,m>h&&(m=h),N.vo_CN_Ratio_AOM_Fast=m):N.vo_CN_Ratio_AOM_Fast=t.vo_CN_Ratio_AOM_Fast,N.vo_PartAOM_Slow_to_SMB_Slow=t.vo_PartAOM_Slow_to_SMB_Slow,N.vo_PartAOM_Slow_to_SMB_Fast=t.vo_PartAOM_Slow_to_SMB_Fast,o[0].vo_AOM_Pool.push(N)}else{var N=new ue;N.vo_DaysAfterApplication=0,N.vo_AOM_DryMatterContent=0,N.vo_AOM_NH4Content=0,N.vo_AOM_Slow=0,N.vo_AOM_Fast=0,N.vo_AOM_SlowDecCoeffStandard=t.vo_AOM_SlowDecCoeffStandard,N.vo_AOM_FastDecCoeffStandard=t.vo_AOM_FastDecCoeffStandard,N.vo_CN_Ratio_AOM_Slow=d,N.vo_CN_Ratio_AOM_Fast=0===!o[0].vo_AOM_Pool.length?o[0].vo_AOM_Pool[o[0].vo_AOM_Pool.length-1].vo_CN_Ratio_AOM_Fast:m,N.vo_PartAOM_Slow_to_SMB_Slow=t.vo_PartAOM_Slow_to_SMB_Slow,N.vo_PartAOM_Slow_to_SMB_Fast=t.vo_PartAOM_Slow_to_SMB_Fast,N.incorporation=q,o[C].vo_AOM_Pool.push(N)}var A=g*y,D=f*y,w=c*i*_/1e4/o[0].vs_LayerThickness;se("vo_SoilNH4Input",w);var P=l*i*_/1e4/o[0].vs_LayerThickness,R=(1-(g+f))*y;if(o[0].vo_AOM_Pool[o[0].vo_AOM_Pool.length-1].vo_AOM_Slow+=A,o[0].vo_AOM_Pool[o[0].vo_AOM_Pool.length-1].vo_AOM_Fast+=D,se("soilColumn[0].vs_SoilNH4",o[0].vs_SoilNH4),o[0].vs_SoilNH4+=w,se("soilColumn[0].vs_SoilNH4",o[0].vs_SoilNH4),o[0].vs_SoilNO3+=P,o[0].vs_SOM_Fast+=R,r&&(o[0].vs_SoilNO3<0||o[0].vs_SoilNH4<0))throw new Error("N < 0");S+=A,v+=D,E+=R,p=!0},oe=function(t){l+=t},ne=function(){var t=(o.vs_NumberOfOrganicLayers(),[]),e=[],a=[],i=[],n=[],_=[],c=[],l=0,u=0,g=0,f=0,v=0,d=0,m=0,S=s.userSoilOrganicParameters.po_HydrolysisKM,y=s.userSoilOrganicParameters.po_HydrolysisP1,M=s.userSoilOrganicParameters.po_HydrolysisP2,O=s.userSoilOrganicParameters.po_ActivationEnergy;H=0;for(var C=0;C<o.vs_NumberOfOrganicLayers();C++)if(t[C]=o[C].vs_SoilCarbamid/Q.PO_UREAMOLECULARWEIGHT/Q.PO_UREA_TO_N/1e3,e[C]=-1258.9+13.2843*(o[C].get_Vs_SoilTemperature()+273.15)-.047381*(o[C].get_Vs_SoilTemperature()+273.15)*(o[C].get_Vs_SoilTemperature()+273.15)+577264e-10*D(o[C].get_Vs_SoilTemperature()+273.15,3),e[C]=e[C]/(1+.0453*e[C])*o[C].get_Vs_SoilMoisture_m3(),e[C]>=t[C]?(e[C]=t[C],t[C]=0):t[C]-=e[C],a[C]=(100*y*o[C].vs_SoilOrganicMatter()*Q.PO_SOM_TO_C+M)/Q.PO_UREAMOLECULARWEIGHT,i[C]=a[C]/h(-O/2577.34),n[C]=i[C]*h(-O/(8.314*(o[C].get_Vs_SoilTemperature()+273.15))),_[C]=h(-.064*(o[C].vs_SoilpH-6.5)*(o[C].vs_SoilpH-6.5)),c[C]=n[C]*Se(o[C].vs_SoilMoisture_pF())*_[C]*e[C]/(S+e[C]),c[C]=86400*c[C]*o[C].vs_SoilBulkDensity(),c[C]>=e[C]?(o[C].vs_SoilNH4+=o[C].vs_SoilCarbamid,o[C].vs_SoilCarbamid=0):(o[C].vs_SoilCarbamid-=c[C]*Q.PO_UREAMOLECULARWEIGHT*Q.PO_UREA_TO_N*1e3,o[C].vs_SoilNH4+=c[C]*Q.PO_UREAMOLECULARWEIGHT*Q.PO_UREA_TO_N*1e3),0==C&&(l=D(10,-o[0].vs_SoilpH),u=D(10,-2728.3/(o[0].get_Vs_SoilTemperature()+273.15)-.094219),g=D(10,1630.5/(o[0].get_Vs_SoilTemperature()+273.15)-2.301),f=o[0].vs_SoilNH4/(1e3*Q.PO_NH4MOLECULARWEIGHT),v=f/(1+l/u),d=v,m=d*Q.PO_NH3MOLECULARWEIGHT*1e3,m>=o[0].vs_SoilNH4?(m=o[0].vs_SoilNH4,o[0].vs_SoilNH4=0):o[0].vs_SoilNH4-=m,H=m*o[0].vs_LayerThickness,r&&o[0].vs_SoilNH4<0))throw new Error(o[0].vs_SoilNH4);e[0]<.001&&!p&&(q=!1)},_e=function(){for(var t=o.vs_NumberOfOrganicLayers(),e=s.userSoilOrganicParameters.po_SOM_SlowDecCoeffStandard,a=s.userSoilOrganicParameters.po_SOM_FastDecCoeffStandard,i=s.userSoilOrganicParameters.po_SMB_SlowDeathRateStandard,_=s.userSoilOrganicParameters.po_SMB_SlowMaintRateStandard,c=s.userSoilOrganicParameters.po_SMB_FastDeathRateStandard,p=s.userSoilOrganicParameters.po_SMB_FastMaintRateStandard,l=s.userSoilOrganicParameters.po_LimitClayEffect,u=s.userSoilOrganicParameters.po_SOM_SlowUtilizationEfficiency,f=s.userSoilOrganicParameters.po_SOM_FastUtilizationEfficiency,v=s.userSoilOrganicParameters.po_PartSOM_Fast_to_SOM_Slow,d=s.userSoilOrganicParameters.po_PartSMB_Slow_to_SOM_Fast,m=s.userSoilOrganicParameters.po_SMB_UtilizationEfficiency,S=s.userSoilOrganicParameters.po_CN_Ratio_SMB,h=s.userSoilOrganicParameters.po_AOM_SlowUtilizationEfficiency,y=s.userSoilOrganicParameters.po_AOM_FastUtilizationEfficiency,C=s.userSoilOrganicParameters.po_ImmobilisationRateCoeffNH4,N=s.userSoilOrganicParameters.po_ImmobilisationRateCoeffNO3,A=[],D=[],w=[],P=[],T=0,H=M.length;H>T;T++)M[T]=0;for(var L,E,G=[],Y=[],V=[],W=[],q=[],T=0,H=I.length;H>T;T++)I[T]=0;for(var K=[],z=[],j=[],J=[],T=0,H=x.length;H>T;T++)x[T]=0;for(var X=[],T=0,H=B.length;H>T;T++)B[T]=0;for(var Z=[],T=0,H=k.length;H>T;T++)k[T]=0;for(var Q,$,te=0;t>te;te++){var ee=de(o[te].get_Vs_SoilTemperature()),ae=me(o[te].vs_SoilMoisture_pF());Z[te]=e*ee*ae,X[te]=a*ee*ae,J[te]=(i+_)*ve(o[te].vs_SoilClayContent,l)*ee*ae,q[te]=(c+p)*ee*ae,j[te]=i*ee*ae,W[te]=c*ee*ae,z[te]=j[te]*o[te].vs_SMB_Slow,V[te]=W[te]*o[te].vs_SMB_Fast;for(var ie=0,re=o[te].vo_AOM_Pool.length;re>ie;ie++)Q=o[te].vo_AOM_Pool[ie],Q.vo_AOM_SlowDecCoeff=Q.vo_AOM_SlowDecCoeffStandard*ee*ae,Q.vo_AOM_FastDecCoeff=Q.vo_AOM_FastDecCoeffStandard*ee*ae}for(var te=0;t>te;te++){for(var ie=0,re=o[te].vo_AOM_Pool.length;re>ie;ie++)Q=o[te].vo_AOM_Pool[ie],Q.vo_AOM_SlowDelta=-(Q.vo_AOM_SlowDecCoeff*Q.vo_AOM_Slow),-Q.vo_AOM_SlowDelta>Q.vo_AOM_Slow&&(Q.vo_AOM_SlowDelta=-Q.vo_AOM_Slow),Q.vo_AOM_FastDelta=-(Q.vo_AOM_FastDecCoeff*Q.vo_AOM_Fast),-Q.vo_AOM_FastDelta>Q.vo_AOM_Fast&&(Q.vo_AOM_FastDelta=-Q.vo_AOM_Fast);w[te]=0;for(var ie=0,re=o[te].vo_AOM_Pool.length;re>ie;ie++)Q=o[te].vo_AOM_Pool[ie],Q.vo_AOM_SlowDecRate=Q.vo_AOM_SlowDecCoeff*Q.vo_AOM_Slow,w[te]+=Q.vo_AOM_SlowDecRate;x[te]=u*Z[te]*o[te].vs_SOM_Slow+f*(1-v)*X[te]*o[te].vs_SOM_Fast+h*w[te]-(J[te]*o[te].vs_SMB_Slow+z[te]),A[te]=0;for(var ie=0,re=o[te].vo_AOM_Pool.length;re>ie;ie++)Q=o[te].vo_AOM_Pool[ie],Q.vo_AOM_FastDecRate=Q.vo_AOM_FastDecCoeff*Q.vo_AOM_Fast,A[te]+=Q.vo_AOM_FastDecRate;I[te]=m*(1-d)*(z[te]+V[te])+y*A[te]-(q[te]*o[te].vs_SMB_Fast+V[te]),k[te]=v*X[te]*o[te].vs_SOM_Fast-Z[te]*o[te].vs_SOM_Slow,B[te]=d*(z[te]+V[te])-X[te]*o[te].vs_SOM_Fast,P[te]=0,D[te]=0;for(var ie=0,re=o[te].vo_AOM_Pool.length;re>ie;ie++)Q=o[te].vo_AOM_Pool[ie],P[te]+=Q.vo_AOM_SlowDelta,D[te]+=Q.vo_AOM_FastDelta}O=0;for(var te=0;t>te;te++)K[te]=(1-u)*Z[te]*o[te].vs_SOM_Slow+(1-f)*(1-v)*X[te]*o[te].vs_SOM_Fast+(1-h)*w[te]+m*J[te]*o[te].vs_SMB_Slow,Y[te]=(1-m)*(1-d)*(z[te]+V[te])+(1-y)*A[te]+q[te]*o[te].vs_SMB_Fast,b[te]=K[te]+Y[te],O+=b[te]*o[te].vs_LayerThickness;L=n.vs_Soil_CN_Ratio,E=n.vs_Soil_CN_Ratio;for(var te=0;t>te;te++){G[te]=-(x[te]/S)-I[te]/S-k[te]/L-B[te]/E,Q=o[te].vo_AOM_Pool;for(var ie=0,re=Q.length;re>ie;ie++)$=Q[ie],g($.vo_CN_Ratio_AOM_Fast)>=1e-7&&(G[te]-=$.vo_AOM_FastDelta/$.vo_CN_Ratio_AOM_Fast),g($.vo_CN_Ratio_AOM_Slow)>=1e-7&&(G[te]-=$.vo_AOM_SlowDelta/$.vo_CN_Ratio_AOM_Slow)}R=0;for(var te=0;t>te;te++){if(G[te]<0){if(g(G[te])>=o[te].vs_SoilNH4*C+o[te].vs_SoilNO3*N){P[te]=0,D[te]=0,Q=o[te].vo_AOM_Pool;for(var ie=0,re=Q.length;re>ie;ie++)$=Q[ie],$.vo_CN_Ratio_AOM_Slow>=S/h&&($.vo_AOM_SlowDelta=0),$.vo_CN_Ratio_AOM_Fast>=S/y&&($.vo_AOM_FastDelta=0),P[te]+=$.vo_AOM_SlowDelta,D[te]+=$.vo_AOM_FastDelta;L>=S/u&&(k[te]=0),E>=S/f&&(B[te]=0),x[te]=u*Z[te]*o[te].vs_SOM_Slow+f*(1-v)*X[te]*o[te].vs_SOM_Fast+h*-P[te]-(J[te]*o[te].vs_SMB_Slow+z[te]),I[te]=m*(1-d)*(z[te]+V[te])+y*-D[te]-(q[te]*o[te].vs_SMB_Fast+V[te]),G[te]=-(x[te]/S)-I[te]/S-k[te]/L-B[te]/E;for(var ie=0,re=Q.length;re>ie;ie++)$=Q[ie],g($.vo_CN_Ratio_AOM_Fast)>=1e-7&&(G[te]-=$.vo_AOM_FastDelta/$.vo_CN_Ratio_AOM_Fast),g($.vo_CN_Ratio_AOM_Slow)>=1e-7&&(G[te]-=$.vo_AOM_SlowDelta/$.vo_CN_Ratio_AOM_Slow);o[te].vs_SoilNH4+=g(G[te])}else if(g(G[te])>=o[te].vs_SoilNH4*C)o[te].vs_SoilNO3-=g(G[te])-o[te].vs_SoilNH4*C,o[te].vs_SoilNH4-=o[te].vs_SoilNH4*C;else if(o[te].vs_SoilNH4-=g(G[te]),r&&o[te].vs_SoilNH4<0)throw new Error(o[te].vs_SoilNH4)}else o[te].vs_SoilNH4+=g(G[te]);F[te]=g(G[te])*o[0].vs_LayerThickness,R+=g(G[te])*o[0].vs_LayerThickness,U+=g(G[te])*o[0].vs_LayerThickness}},ce=function(t,e,a){var i,n,_,s,c,p,l=0,u=0,g=0;i=o[0].vs_SoilMoisture_pF()>2.5?0:1;var f=o[0].vo_AOM_Pool;if(f.forEach(function(t,e){e>0&&(g+=t.vo_DaysAfterApplication)}),g>0||t?(l=0,f.forEach(function(t,r){r>0&&(n=0,_=0,s=0,c=0,p=0,n=1e3*t.vo_AOM_NH4Content*t.vo_AOM_DryMatterContent,_=.0495*D(1.102,i)*D(1.0223,e)*D(1.0417,a)*D(1.108,t.vo_AOM_DryMatterContent)*D(.828,n)*D(11.3,Number(t.incorporation)),s=1.038*D(1.102,i)*D(.96,e)*D(.95,a)*D(1.175,t.vo_AOM_DryMatterContent)*D(1.106,n)*D(1,Number(t.incorporation))*(18869.3*h(-o[0].vs_SoilpH/.63321)+.70165),c=_*(s/D(t.vo_DaysAfterApplication+s,2)),p=c*n*(t.vo_AOM_Slow+t.vo_AOM_Fast)/1e4/1e3,l+=p)}),u=o[0].vs_SoilNH4>l?l:o[0].vs_SoilNH4,o[0].vs_SoilNH4-=u/o[0].vs_LayerThickness,se(u,"vo_N_ActVolatilised"),se(o[0].vs_SoilNH4,"soilColumn[0].vs_SoilNH4"),o[0].vs_SoilNH4-=u,se(o[0].vs_SoilNH4,"soilColumn[0].vs_SoilNH4")):u=0,r&&o[0].vs_SoilNH4<0)throw new Error(o[0].vs_SoilNH4);T=u+H,f.forEach(function(e,a){a>0&&e.vo_DaysAfterApplication>0&&!t&&e.vo_DaysAfterApplication++})},pe=function(){if(r&&o[0].vs_SoilNO3<0)throw new error(o[0].vs_SoilNO3);for(var t=o.vs_NumberOfOrganicLayers(),e=s.userSoilOrganicParameters.po_AmmoniaOxidationRateCoeffStandard,a=s.userSoilOrganicParameters.po_NitriteOxidationRateCoeffStandard,i=new Array(t),n=new Array(t),_=new Array(t),c=new Array(t),p=0;t>p;p++)i[p]=e*he(o[p].get_Vs_SoilTemperature())*ye(o[p].vs_SoilMoisture_pF()),_[p]=i[p]*o[p].vs_SoilNH4,n[p]=a*he(o[p].get_Vs_SoilTemperature())*ye(o[p].vs_SoilMoisture_pF())*Oe(o[p].vs_SoilNH4,o[p].vs_SoilpH),c[p]=n[p]*o[p].vs_SoilNH4;if(r&&o[0].vs_SoilNH4<0)throw new Error(o[0].vs_SoilNH4);if(r&&o[0].vs_SoilNO2<0)throw new Error(o[0].vs_SoilNO2);if(r&&o[0].vs_SoilNO3<0)throw new Error(o[0].vs_SoilNO3);for(var p=0;t>p;p++)o[p].vs_SoilNH4>_[p]?(o[p].vs_SoilNH4-=_[p],o[p].vs_SoilNO2+=_[p]):(o[p].vs_SoilNO2+=o[p].vs_SoilNH4,o[p].vs_SoilNH4=0),o[p].vs_SoilNO2>c[p]?(o[p].vs_SoilNO2-=c[p],o[p].vs_SoilNO3+=c[p]):(o[p].vs_SoilNO3+=o[p].vs_SoilNO2,o[p].vs_SoilNO2=0);if(r&&o[0].vs_SoilNH4<0)throw new Error(o[0].vs_SoilNH4);if(r&&o[0].vs_SoilNO2<0)throw new Error(o[0].vs_SoilNO2);if(r&&o[0].vs_SoilNO3<0)throw new Error(o[0].vs_SoilNO3)},le=function(){var t=o.vs_NumberOfOrganicLayers(),e=new Array(t),a=s.userSoilOrganicParameters.po_SpecAnaerobDenitrification,i=s.userSoilOrganicParameters.po_TransportRateCoeff;
W=0;for(var n=0;t>n;n++)e[n]=a*b[n]*he(o[n].get_Vs_SoilTemperature()),u[n]=A(e[n]*Me(o[n].get_Vs_SoilMoisture_m3(),o[n].get_Saturation()),i*o[n].vs_SoilNO3);for(var n=0;t>n;n++)o[n].vs_SoilNO3>u[n]?o[n].vs_SoilNO3-=u[n]:(u[n]=o[n].vs_SoilNO3,o[n].vs_SoilNO3=0),W+=u[n]*o[0].vs_LayerThickness;if(G+=W,r&&0>W)throw new Error(W)},ge=function(){var t=o.vs_NumberOfOrganicLayers(),e=new Array(t),a=s.userSoilOrganicParameters.po_N2OProductionRate;N=0;for(var i=0;t>i;i++)e[i]=o[i].vs_SoilNO2*he(o[i].get_Vs_SoilTemperature())*a*(1/(1+(D(10,o[i].vs_SoilpH)-Q.PO_PKAHNO2))),N+=e[i]},fe=function(){for(var t=0;t<o.vs_NumberOfOrganicLayers();t++){var e=o[t].vo_AOM_Pool;m[t]=0,f[t]=0,y[t]=0,d[t]=0,e.forEach(function(e){e.vo_AOM_Slow+=e.vo_AOM_SlowDelta,e.vo_AOM_Fast+=e.vo_AOM_FastDelta,m[t]+=e.vo_AOM_SlowDelta,f[t]+=e.vo_AOM_FastDelta,y[t]+=e.vo_AOM_Slow,d[t]+=e.vo_AOM_Fast}),o[t].vs_SOM_Slow+=k[t],o[t].vs_SOM_Fast+=B[t],o[t].vs_SMB_Slow+=x[t],o[t].vs_SMB_Fast+=I[t],M[t]=0==t?S+v+m[t]+f[t]+x[t]+I[t]+k[t]+B[t]+E:m[t]+f[t]+x[t]+I[t]+k[t]+B[t],L[t]=o[t].vs_SoilOrganicCarbon()*o[t].vs_SoilBulkDensity()-C[t],L[t]+=M[t],o[t].set_SoilOrganicCarbon((L[t]+C[t])/o[t].vs_SoilBulkDensity()),o[t].set_SoilOrganicMatter((L[t]+C[t])/Q.PO_SOM_TO_C/o[t].vs_SoilBulkDensity())}},ve=function(t,e){var a=0;if(t>=0&&e>=t)a=1-2*t;else{if(!(t>e&&1>=t))throw new Error("irregular clay content");a=1-2*e}return a},de=function(t){var e=0;if(0>=t&&t>-40)e=0;else if(t>0&&20>=t)e=.1*t;else{if(!(t>20&&70>=t))throw new Error("irregular soil temperature fo_TempOnDecompostion (d_SoilTemperature = "+t+")");e=h(.47-.027*t+.00193*t*t)}return e},me=function(t){var e=0;if(g(t)<=1e-7)e=.6;else if(t>0&&1.5>=t)e=.6+.4*(t/1.5);else if(t>1.5&&2.5>=t)e=1;else if(t>2.5&&6.5>=t)e=1-(t-2.5)/4;else{if(!(t>6.5))throw new Error("fo_MoistOnDecompostion ( d_SoilMoisture_pF ) : irregular soil water content");e=0}return e},Se=function(t){var e=0;if(t>0&&1.1>=t)e=.72;else if(t>1.1&&2.4>=t)e=.2207*t+.4672;else if(t>2.4&&3.4>=t)e=1;else if(t>3.4&&4.6>=t)e=-.8659*t+3.9849;else if(t>4.6)e=0;else{if(t!==-1/0)throw new Error("fo_MoistOnHydrolysis ( d_SoilMoisture_pF: "+t+" ) irregular soil water content");e=0}return e},he=function(t){var e=0;if(2>=t&&t>-40)e=0;else if(t>2&&6>=t)e=.15*(t-2);else if(t>6&&20>=t)e=.1*t;else{if(!(t>20&&70>=t))throw new Error("irregular soil temperature");e=h(.47-.027*t+.00193*t*t)}return e},ye=function(t){var e=0;if(g(t)<=1e-7)e=.6;else if(t>0&&1.5>=t)e=.6+.4*(t/1.5);else if(t>1.5&&2.5>=t)e=1;else if(t>2.5&&5>=t)e=1-(t-2.5)/2.5;else{if(!(t>5))throw new Error("irregular soil water content");e=0}return e},Me=function(t,e){var a=s.userSoilOrganicParameters.po_Denit1,i=s.userSoilOrganicParameters.po_Denit2,r=s.userSoilOrganicParameters.po_Denit3,o=0;return.8>=t/e?o=0:t/e>.8&&.9>=t/e?o=a*(t/e-i)/(r-i):t/e>.9&&1>=t/e?o=a+(1-a)*(t/e-r)/(1-r):(o=0,te(_,"Irregular soil water content")),o},Oe=function(t,e){var a=s.userSoilOrganicParameters.po_Inhibitor_NH3,i=0;return i=a+t*(1-1/(1+D(10,e-Q.PO_PKANH3)))/a},Ce=function(t,e){var a=0;return a=t-1e4*e},Ne=function(t,e){var a=0;return a=-t+1e4*e},Ae=function(t){return L[t]/o[t].vs_SoilBulkDensity()},De=function(t){return d[t]},we=function(t){return y[t]},Pe=function(t){return o[t].vs_SMB_Fast},Re=function(t){return o[t].vs_SMB_Slow},Fe=function(t){return o[t].vs_SOM_Fast},Te=function(t){return o[t].vs_SOM_Slow},He=function(t){return M[t]},be=function(t){return b[t]},Ie=function(t){return u[t]},xe=function(t){return 1e4*F[t]},Le=function(){return 1e4*R},Be=function(){return 1e4*U},Ee=function(){return 1e4*G},ke=function(){return 1e4*W},Ge=function(){return 1e4*T},Ue=function(){return 1e4*V},Ye=function(){return 1e4*N},Ve=function(){return 1e4*Y},We=function(){return 1e4*O},qe=function(){return P},Ke=function(){return w},ze=function(t){K=t},je=function(){K=null};return{step:ie,addOrganicMatter:re,addIrrigationWater:oe,setIncorporation:function(t){q=t},put_Crop:ze,remove_Crop:je,get_SoilOrganicC:Ae,get_AOM_FastSum:De,get_AOM_SlowSum:we,get_SMB_Fast:Pe,get_SMB_Slow:Re,get_SOM_Fast:Fe,get_SOM_Slow:Te,get_CBalance:He,get_SMB_CO2EvolutionRate:be,get_ActDenitrificationRate:Ie,get_NetNMineralisationRate:xe,get_NH3_Volatilised:Ge,get_SumNH3_Volatilised:Ue,get_N2O_Produced:Ye,get_SumN2O_Produced:Ve,get_NetNMineralisation:Le,get_SumNetNMineralisation:Be,get_SumDenitrification:Ee,get_Denitrification:ke,get_DecomposerRespiration:We,get_NetEcosystemProduction:qe,get_NetEcosystemExchange:Ke}},Ue=function(t,e){for(var a=t,i=e,r=0,o=0,n=0,_=0,s=0,c=new Float64Array(t.vs_NumberOfLayers()+1),p=i.userEnvironmentParameters.p_timeStep,l=i.userSoilMoistureParameters.pm_HydraulicConductivityRedux,u=0,g=c.length;g>u;u++)c[u]=1;var f=function(t,e){var a=d(),i=v(),n=m(a),s=S(i,n),c=O(i,a),p=A(t,e);if(r=N(a,s,p),isNaN(r))throw r;o+=r,_=C(p,c,a),w()},v=function(){for(var t=a.vs_NumberOfLayers(),e=0,i=0;t>i;i++)e+=a[i].vs_SoilBulkDensity();return e/t/1e3},d=function(){for(var t=a.vs_NumberOfLayers(),e=0,i=0;t>i;i++)e+=a[i].get_FieldCapacity();return e/t},m=function(t){var e=13.05,a=1.06,i=100*(t+(1+e*D(t,a)*t));return i},S=function(t,e){var a=.001*(3*t-1.7)/(1+(11.5-5*t)*h(-50*D(e/t,1.5)))*86400*p*4.184/1e6*100;return a},O=function(t,e){var a=.001*(3*t-1.7)/(1+(11.5-5*t)*h(-50*D(100*e/t,1.5)))*p*4.184*100;return a},C=function(t,e,a){var i=0,o=0,n=0,s=0,c=0;return i=0>t?-1*t:t,o=0==r?0:T(2*e*i/(79e5*a/100)),n=0>t?-1*o:o,s=_+n,c=0>s?0:s},N=function(t,e,a){var i=0,o=1e5*t/100*.335;r>0&&s++;var _=.3*s/o;return 0>a&&(n-=a),i=.01>n?0:T(_/2*(_/2)+2*e*n/o)-_/2,isNaN(i)?0:i},A=function(t,e){var a=0;return a=.01>e/100?t:.01>r?t:t/(1+10*e/100/r)},w=function(){for(var t=a.vs_NumberOfLayers(),e=0;t>e;e++)if(e<M(y(r/a[e].vs_LayerThickness+.5))&&(a[e].vs_SoilFrozen=!0,c[e]=0,0==e&&(l=0)),e<M(y(_/a[e].vs_LayerThickness+.5))&&(_<(e+1)*a[e].vs_LayerThickness&&r>_?(a[e].vs_SoilFrozen=!0,c[e]=0,0==e&&(l=0)):(a[e].vs_SoilFrozen=!1,c[e]=1,0==e&&(l=.1))),_>=r){_=0,r=0,n=0,s=0,l=i.userSoilMoistureParameters.pm_HydraulicConductivityRedux;for(var e=0;t>e;e++)a[e].vs_SoilFrozen=!1,c[e]=1}},P=function(t){return c[t]};return{calcSoilFrost:f,getFrostDepth:function(){return r},getThawDepth:function(){return _},getLambdaRedux:P,getAccumulatedFrostDepth:function(){return o}}},Ye=function(t){var e=0,a=0,i=0,r=0,o=0,n=0,_=t,s=_.userSoilMoistureParameters,c=0,p=s.pm_SnowMeltTemperature,l=s.pm_SnowAccumulationTresholdTemperature,u=s.pm_TemperatureLimitForLiquidWater,g=s.pm_CorrectionRain,f=s.pm_CorrectionSnow,v=s.pm_RefreezeTemperature,d=s.pm_RefreezeParameter1,m=s.pm_RefreezeParameter2,S=s.pm_NewSnowDensityMin,h=s.pm_SnowMaxAdditionalDensity,y=s.pm_SnowPacking,M=s.pm_SnowRetentionCapacityMin,O=s.pm_SnowRetentionCapacityMax,C=function(t,o){var n=0,_=0,s=A(t,o,_,n);o=s.net_precipitation,n=s.net_precipitation_snow,_=s.net_precipitation_water;var p=N(t),l=w(t),u=P(t,n);e=R(n,u),i=i+n-p+l,r=r+_+p-l;var g=i+r,f=F(i,g),v=0;l>0?v=0:f>=r?v=0:(v=r-f,r-=v,g=i+r),H(g),c=T(o,v,a)},N=function(t){var a=1.4*(e/.1),r=0;return a>4.7&&(a=4.7),0>=i?r=0:p>t?r=0:(r=a*(t-p),r>i&&(r=i)),r},A=function(t,e,a,i){var r=0;return r=t>=l?1:u>=t?0:(t-u)/(l-u),a=r*g*e,i=(1-r)*f*e,e=i+a,{net_precipitation:e,net_precipitation_snow:i,net_precipitation_water:a}},w=function(t){var e=0,a=0;return a=t>0?0:t,v>a?(r>0&&(e=d*D(v-a,m)),e>r&&(e=r)):e=0,e},P=function(t,e){var a=0,i=0;return 0>=e?a=0:(i=(t-u)/(l-u),i>1&&(i=1),0>i&&(i=0),a=S+h*i),a},R=function(t,i){var r=0;return 0>=a+t?r=0:(r=((1+y)*e*a+i*t)/(a+t),r>S+h&&(r=S+h)),r},F=function(t,a){var i,r;return 0>=t||0>=e?i=0:(i=O/10/e,M>i&&(i=M),i>O&&(i=O)),r=i*a},T=function(t,e,a){var i=t;return a>=.01&&(c=e),i},H=function(t){var _=1;0>=t?a=0:(a=t*_/e,a>o&&(o=a),.01>a&&(a=0)),0==a&&(e=0,i=0,r=0),n+=a};return{calcSnowLayer:C,getVm_SnowDepth:function(){return a},getWaterToInfiltrate:function(){return c},getMaxSnowDepth:function(){return o},accumulatedSnowDepth:function(){return n}}},Ve=function(t,e,a,i){for(var r=t,o=e,s=a,c=i,p=t.vs_NumberOfLayers()+1,l=t.vs_NumberOfLayers(),u=0,d=new Float64Array(p),m=0,C=(new Float64Array(p),new Float64Array(p)),w=new Float64Array(p),P=new Float64Array(p),R=new Float64Array(p),H=new Float64Array(p),I=new Float64Array(p),x=0,L=(new Float64Array(p),0),B=0,E=(new Float64Array(p),0),k=0,G=.6,U=new Float64Array(p),Y=e.vs_Latitude,V=new Float64Array(p),W=0,q=0,K=new Float64Array(p),z=0,j=new Float64Array(p),J=6,X=(new Float64Array(p),new Float64Array(p)),Z=0,Q=new Float64Array(p),$=0,ee=0,ae=0,ie=0,re=new Float64Array(p),oe=0,ne=new Float64Array(p),_e=0,se=null,E=0,k=0,ee=0,m=0,L=0,ce=0,pe=0,le=0;p>le;le++)X[le]=.2,V[le]=.01;te(n,"Constructor: SoilMoisture");for(var ue=new Ye(c),ge=new Ue(r,c),fe=c.userSoilMoistureParameters,ve=c.userEnvironmentParameters,de=fe.pm_HydraulicConductivityRedux,me=(c.userEnvironmentParameters.p_timeStep,fe.pm_SurfaceRoughness),Se=fe.pm_GroundwaterDischarge,he=fe.pm_MaxPercolationRate,ye=ve.p_LeachingDepth,Me=ve.p_LayerThickness,Oe=M(y(.5+ye/Me))-1,Ce=new Array(p),le=0;p>le;le++)Ce[le]=fe.pm_SaturatedHydraulicConductivity;var Ne=function(t,e,a,i,n,_,u,g,f,v){for(var d=0;l>d;d++)X[d]=r[d].get_Vs_SoilMoisture_m3(),ne[d]=0,H[d]=r[d].get_FieldCapacity(),Q[d]=r[d].get_Saturation(),K[d]=r[d].get_PermanentWiltingPoint(),V[d]=r[d].vs_LayerThickness,U[d]=r[d].vs_Lambda;X[p-1]=r[p-2].get_Vs_SoilMoisture_m3(),ne[p-1]=0,H[p-1]=r[p-2].get_FieldCapacity(),Q[p-1]=r[p-2].get_Saturation(),V[p-1]=r[p-2].vs_LayerThickness,U[p-1]=r[p-2].vs_Lambda,ie=r.vs_SurfaceWaterStorage;var m=!1,S=0,h=0,y=null;s.cropGrowth()?(y=s.cropGrowth(),m=!0,z=y.soilCoverage(),G=y.kcFactor(),S=y.height(),h=y.developmentalStage(),W=h>0?y.netPrecipitation():e):(m=!1,G=c.userSoilMoistureParameters.pm_KcFactor,W=e,z=0),B=l+2;for(var O=l-1,d=l-1;d>=0;d--)X[d]==Q[d]&&O==d&&(O--,B=d);B>M(t/r[0].vs_LayerThickness)&&l+2>B?B=M(t/r[0].vs_LayerThickness):B>=l+2&&(B=M(t/r[0].vs_LayerThickness)),r.vm_GroundwaterTable=B,ue.calcSnowLayer(_,W);var C=ue.getWaterToInfiltrate();ge.calcSoilFrost(_,ue.getVm_SnowDepth()),Ae(C,z,B),10>=t&&t>0?(Fe(t),Te()):(He(),be()),Ie(z,G,o.vs_HeightNN,a,i,n,_,u,g,f,h,v,Y),Re();for(var d=0;l>d;d++)r[d].set_Vs_SoilMoisture_m3(X[d]),r[d].vs_SoilWaterFlux=ne[d],r[d].calc_vs_SoilMoisture_pF();r.vs_SurfaceWaterStorage=ie,r.vs_FluxAtLowerBoundary=x},Ae=function(t,e,a){var i,n,s,c,p;E=0,k=0,ee=0,m=0,L=0,ce=0,c=0,p=0;var l=ie;if(ie+=t,Z=(Q[0]-X[0])/Q[0],s=Ce[0]*de,s>0?(n=.2*s*Z*Z,E=A(ie,n),E=A(E,1e3*(Q[0]-X[0])*r[0].vs_LayerThickness),E=N(0,E)):E=0,E>0&&(ie-=E),ie>10*me/(o.vs_Slope+.001)&&(i=.02+me/4+e/15,o.vs_Slope<0||o.vs_Slope>1?te(_,"Slope value out ouf boundary"):0==o.vs_Slope?ee=0:ee+=o.vs_Slope>i?ie:o.vs_Slope*i/(i*i)*ie,ie-=ee),X[0]+=E/1e3/V[0],ne[0]=E,X[0]>H[0]){if(I[0]=1e3*(X[0]-H[0])*V[0],p=U[0]*ge.getLambdaRedux(0),c=1+p*I[0],j[0]=I[0]*I[0]*p/c,j[0]>he&&(j[0]=he),I[0]=I[0]-j[0],I[0]=N(0,I[0]),X[0]=H[0]+I[0]/1e3/V[0],1>=a&&(j[0]=0),0==a&&(j[0]=0,X[0]>Q[0]))return ee+=1e3*(X[0]-Q[0])*V[0],void(X[0]=Q[0])}else X[0]<=H[0]&&(j[0]=0,I[0]=0);g(l+t-(ee+E+ie))>.01&&te(_,"water balance wrong!"),ne[1]=j[0],ae+=ee},De=function(t){return r[t].get_Vs_SoilMoisture_m3()},we=function(t){return C[t]},Pe=function(t){return j[t]},Re=function(){var t,e,a;if(t=se?se.rootingDepth():0,e=B-t,1>e&&(e=1),e*V[0]<=2.7){for(var i=0;l>i;i++)C[i]=H[i]-K[i],d[i]=X[i]-K[i],d[i]<0&&(d[i]=0),w[i]=.7*C[i];for(var o=.01,n=.01,_=A(B,l-1),i=_;i>=0;i--){var s=r[i].vs_SoilTexture;if(n=c.capillaryRiseRates.getRate(s,e),o>n&&(o=n),d[i]<w[i]){a=o,X[i]+=a;for(var p=_;p>=i;p--)ne[p]-=a;break}}}},Fe=function(t){var e,a;L=0;for(var i=0;p-1>i;i++)B-1>i&&(X[i+1]+=j[i]/1e3/V[i],ne[i+1]=j[i],X[i+1]>H[i+1]?(I[i+1]=1e3*(X[i+1]-H[i+1])*V[i+1],a=U[i+1]*ge.getLambdaRedux(i+1),e=1+a*I[i+1],j[i+1]=I[i+1]*I[i+1]*a/e,I[i+1]=I[i+1]-j[i+1],I[i+1]<0&&(I[i+1]=0),X[i+1]=H[i+1]+I[i+1]/1e3/V[i+1],X[i+1]>Q[i+1]&&(I[i+1]=1e3*(X[i+1]-Q[i+1])*V[i+1],X[i+1]=Q[i+1],j[i+1]+=I[i+1])):(j[i+1]=0,I[i+1]=0)),i==B-1&&(B>=M(t/V[i])?(X[i+1]+=j[i]/1e3/V[i],j[i+1]=Se,ne[i+1]=j[i]):(X[i+1]+=(j[i]-Se)/1e3/V[i],j[i+1]=Se,ne[i+1]=Se),X[i+1]>=Q[i+1]&&(L=1e3*(X[i+1]-Q[i+1])*V[i+1],X[i+1]=Q[i+1],0>=L&&(L=0))),i>B-1&&(X[i+1]=Q[i+1],B>=M(t/V[i])?(j[i+1]=j[i],ne[i]=j[i+1]):(j[i+1]=Se,ne[i]=Se));x=ne[Oe]},Te=function(){var t=B;t>p-2&&(t=p-2);for(var e=t;e>=0;e--)X[e]+=L/1e3/V[e+1],e==t?j[e]=Se:(j[e]-=L,ne[e+1]=j[e]),X[e]>Q[e]?(L=1e3*(X[e]-Q[e])*V[e+1],X[e]=Q[e],B--,0==e&&0==B&&(ie+=L,L=0)):L=0;x=Oe>B-1?0>B-1?0:ne[B-1]:ne[Oe]},He=function(){for(var t,e,a=0;p-1>a;a++)X[a+1]+=j[a]/1e3/V[a],X[a+1]>H[a+1]?(I[a+1]=1e3*(X[a+1]-H[a+1])*V[0],e=U[a+1]*ge.getLambdaRedux(a+1),t=1+e*I[a+1],j[a+1]=I[a+1]*I[a+1]*e/t,j[a+1]>he&&(j[a+1]=he),I[a+1]=I[a+1]-j[a+1],I[a+1]<0&&(I[a+1]=0),X[a+1]=H[a+1]+I[a+1]/1e3/V[a+1]):(j[a+1]=0,I[a+1]=0),ne[a+1]=j[a],L=j[a+1];x=Oe>0&&p-1>Oe?ne[Oe]:ne[p-2]},be=function(){for(var t=p-1,e=p-1,a=0,i=0;p-1>i;i++)X[i]>Q[i]&&(t=i,e=i);if(0!=e)for(var i=t;i>=0;i--)X[i]+=a/1e3/V[i],i>0&&(ne[i-1]-=a),X[i]>Q[i]?(a=1e3*(X[i]-Q[i])*V[i],X[i]=Q[i],e--,0==i&&0==e&&(ie+=a,a=0)):a=0},Ie=function(t,e,a,i,r,o,n,_,p,g,f,v,d){var m=0,S=0,h=0,y=0,M=0,O=0,C=0,N=0,A=0,D=!1,w=s.cropGrowth(),F=ue.getVm_SnowDepth(),T=c.userSoilMoistureParameters;if(y=T.pm_EvaporationZeta,_e=T.pm_XSACriticalSoilMoisture,M=T.pm_MaximumEvaporationImpactDepth,f>0?(J=w.referenceEvapotranspiration(),C=w.remainingEvapotranspiration(),N=w.evaporatedFromIntercept()):(J=xe(a,i,r,o,n,_,p,g,v,d),C=J*e),pe=0,ce=0,C>6.5&&(C=6.5),C>0&&(ie>0&&(D=!0,C*=1.1/e,F>0?A=0:C>ie?(C-=ie,A=ie,ie=0):(ie-=C,A=C,C=0),C*=e/1.1),C>0))for(var H=0;l>H;H++)m=Le(H,t,C),S=H>=M?0:Be(H+1,M,y,V[H]),h=H>0&&X[H]<X[H-1]?.1:1,O=m*S*h,f>0?(t>=0&&1>t?P[H]=(1-t)*O*C:t>=1&&(P[H]=0),F>0&&(P[H]=0),re[H]=w.transpiration(H),D&&(re[H]=t*O*C)):(P[H]=F>0?0:C*O,re[H]=0),R[H]=P[H]+re[H],X[H]-=R[H]/1e3/V[H],X[H]<.01&&(X[H]=.01),ce+=re[H],pe+=P[H];u=ce+pe+N+A,se&&se.accumulateEvapotranspiration(u)},xe=function(t,e,a,i,r,o,n,_,s,p){var l,u,g,d,m,y,M,C,N,A,w,P,R,H,I,x,L,B,E,k,G,U,Y=c.userCropParameters.pc_ReferenceAlbedo,V=3.141592653589793;l=-23.4*S(2*V*((s+10)/365)),u=F(l*V/180)*F(p*V/180),g=S(l*V/180)*S(p*V/180),d=12*(V+2*v(u/g))/V,m=12*(V+2*v((-F(8*V/180)+u)/g))/V,y=12*(V+2*v((-F(-6*V/180)+u)/g))/V,M=3600*(u*d+24/V*g*T(1-u/g*(u/g))),C=650*M*h(-.14/(M/(3600*d))),N=.2*C;var W=1440/V*8.2*(1+.033*S(2*V*s/365)),K=f(-b(p*V/180)*b(l*V/180));G=W*(K*u+g*F(K))/100,A=101.3*D((293-.0065*t)/293,5.26),w=665e-6*A,P=.6108*h(17.27*e/(237.3+e)),R=.6108*h(17.27*a/(237.3+a)),H=(P+R)/2,I=0>=i?R:i*H,x=H-I,L=2503.0584*h(17.27*r/(r+237.3))/((r+237.3)*(r+237.3)),B=o*(4.87/O(67.8*n-5.42)),E=208/B,$=100,k=$/1.44;var z=(.75+2e-5*t)*G,j=_/z;j>1&&(j=1);var J=4.9e-9,X=(1-Y)*_,Z=J*((D(a+273.16,4)+D(e+273.16,4))/2)*(1.35*j-.35)*(.34-.14*T(I));return q=X-Z,U=(.408*L*q+w*(900/(r+273))*B*x)/(L+w*(1+k/208*B)),0>U&&(U=0),U},Le=function(t,e,a){var i,o,n,_,s,c=1,p=r[t].get_Vs_SoilMoisture_m3(),l=r[t].get_PermanentWiltingPoint(),u=r[t].get_FieldCapacity();return.33*l>p&&(p=.33*l),o=(p-.33*l)/(u-.33*l),o>1&&(o=1),0==c?(n=.65*u,e>0&&(a>2.5?(_=(.65*u-l)*(u-l),s=_+(1-_)/17.5*(a-2.5)):s=_e/2.5*a,n=r[t].get_FieldCapacity()*s),i=p>n?1:p>.33*l?o:0):1==c&&(i=0,i=o>.33?1-.1*(1-o)/(1-.33):o>.22?.9-.625*(.33-o)/(.33-.22):o>.2?.275-.225*(.22-o)/(.22-.2):.05-.05*(.2-o)/.2),i},Be=function(t,e,a,i){var r,o=e/(10*i);if(g(a)<3e-4)return r=2/o-1/(o*o)*(2*t-1);var n=0,_=0;return n=O((o+a*t)/(o+a*(t-1))),_=a/(o*(a+1)),r=(n-_)/(O(a+1)-a/(a+1))},Ee=function(t){if(1===arguments.length){for(var e=0,a=0,i=0,o=0;l>o;o++){i++;var n=r[o].get_Vs_SoilMoisture_m3(),_=r[o].get_FieldCapacity(),s=r[o].get_PermanentWiltingPoint();if(a+=n/(_-s),e+=r[o].vs_LayerThickness,e>=t)break}return a/i}var c=arguments[0],p=arguments[1],a=0,i=0;if(c+p>l)return-1;for(var o=c;c+p>o;o++){i++;var n=r[o].get_Vs_SoilMoisture_m3(),_=r[o].get_FieldCapacity(),s=r[o].get_PermanentWiltingPoint();a+=n/(_-s)}return a/i},ke=function(){return ue.getVm_SnowDepth()},Ge=function(){return ue.getMaxSnowDepth()},Ve=function(){return ue.accumulatedSnowDepth()},We=function(){return ge.getAccumulatedFrostDepth()},qe=function(t){se=t},Ke=function(){se=null},ze=function(){return E},je=function(){return ie},Je=function(){return ee},Xe=function(){return u},Ze=function(){return pe},Qe=function(){return J},$e=function(){return z},ta=function(){return $},ea=function(){return ge.getFrostDepth()},aa=function(){return ge.getThawDepth()},ia=function(){return x},ra=function(){return ae},oa=function(){return G},na=function(){return oe};return{step:Ne,get_SnowDepth:ke,get_SoilMoisture:De,get_CapillaryRise:we,get_PercolationRate:Pe,get_Infiltration:ze,get_SurfaceWaterStorage:je,get_SurfaceRunOff:Je,get_Evapotranspiration:Xe,get_ActualEvaporation:Ze,get_ET0:Qe,get_PercentageSoilCoverage:$e,get_StomataResistance:ta,get_FrostDepth:ea,get_ThawDepth:aa,get_GroundwaterRecharge:ia,get_SumSurfaceRunOff:ra,get_KcFactor:oa,get_TranspirationDeficit:na,getMaxSnowDepth:Ge,accumulatedSnowDepth:Ve,getAccumulatedFrostDepth:We,get_EReducer_1:Le,put_Crop:qe,remove_Crop:Ke,fm_Infiltration:Ae,get_DeprivationFactor:Be,fm_CapillaryRise:Re,fm_PercolationWithGroundwater:Fe,fm_GroundwaterReplenishment:Te,fm_PercolationWithoutGroundwater:He,fm_BackwaterReplenishment:be,fm_Evapotranspiration:Ie,ReferenceEvapotranspiration:xe,meanWaterContent:Ee}},We=function(t,e,a){for(var i=t,r=a,o=t.vs_NumberOfLayers(),n=new Float64Array(o),_=new Float64Array(o),s=new Float64Array(o),c=new Float64Array(o),p=new Float64Array(o),l=new Float64Array(o),u=0,f=e.vq_NDeposition,v=new Float64Array(o),d=new Float64Array(o),m=new Float64Array(o),S=new Float64Array(o),y=new Float64Array(o),M=1,O=(new Float64Array(o),new Float64Array(o)),C=null,N=0;o>N;N++)c[N]=1,l[N]=.1,m[N]=.2;var A=r.userEnvironmentParameters.p_LeachingDepth,M=r.userEnvironmentParameters.p_timeStep,D=function(){for(var t=1,e=0;o>e;e++)p[e]=i[e].get_FieldCapacity(),m[e]=i[e].get_Vs_SoilMoisture_m3(),S[e]=i[e].vs_SoilNO3,l[e]=i[0].vs_LayerThickness,v[e]=C?C.nitrogenUptake(e):0,O[e]=e==o-1?i.vs_FluxAtLowerBoundary:i[e+1].vs_SoilWaterFlux,O[e]<=5&&t>=1?t=1:O[e]>5&&O[e]<=10&&t>=1?t=.5:O[e]>10&&O[e]<=15&&t>=.5?t=.25:O[e]>15&&t>=.25&&(t=.125);w(f),P();for(var a=0;1/t>a;a++)R(A,t);for(var e=0;o>e;e++)S[e]=y[e]*m[e],S[e]<0&&(S[e]=0),i[e].vs_SoilNO3=S[e]},w=function(t){var e=t/365;S[0]+=e/(1e4*i[0].vs_LayerThickness)},P=function(){for(var t=0,e=r.userCropParameters.pc_MinimumAvailableN,a=0;o>a;a++)v[a]>S[a]*l[a]-e&&(v[a]=S[a]*l[a]-e),v[a]<0&&(v[a]=0),t+=v[a],S[a]-=v[a]/l[a],y[a]=S[a]/m[a],y[a]<0;i.vq_CropNUptake=t},R=function(t,e){var a=r.userSoilTransportParameters,f=a.pq_DiffusionCoefficientStandard,v=a.pq_AD,S=a.pq_DispersionLength,C=0,N=0;u=0;for(var A=new Array(o),D=0;o>D;D++)C+=l[D],t>C-.001&&(N=D);for(var D=0;o>D;D++){var w=i[0].vs_SoilWaterFlux,P=i[D].vs_LayerThickness,R=y[D];if(0==D){var F=O[D]/1e3*e,T=y[D+1];F>=0&&w>=0?n[D]=R*F/P:F>=0&&0>w?n[D]=R*F/P:0>F&&0>w?n[D]=T*F/P:0>F&&w>=0&&(n[D]=T*F/P)}else if(o-1>D){var H=O[D-1]/1e3*e,F=O[D]/1e3*e,T=y[D+1];if(F>=0&&H>=0){var b=y[D-1];n[D]=(R*F-b*H)/P}else if(F>=0&&0>H)n[D]=(R*F-R*H)/P;else if(0>F&&0>H)n[D]=(T*F-R*H)/P;else if(0>F&&H>=0){var b=y[D-1];n[D]=(T*F-b*H)/P}}else{var H=O[D-1]/1e3*e,F=i.vs_FluxAtLowerBoundary/1e3*e;if(F>=0&&H>=0){var b=y[D-1];n[D]=(R*F-b*H)/P}else if(F>=0&&0>H)n[D]=(R*F-R*H)/P;else if(0>F&&0>H)n[D]=-(R*H)/P;else if(0>F&&H>=0){var b=y[D-1];n[D]=-(b*H)/P}}}for(var D=0;o>D;D++){var F=O[D]/1e3*e,I=i[0].vs_SoilWaterFlux/1e3*e,P=i[D].vs_LayerThickness,R=y[D];if(D==o-1?(d[D]=g(F/p[D]),A[D]=m[D]):(d[D]=g(F/(.5*(p[D]+p[D+1]))),A[D]=.5*(m[D]+m[D+1])),_[D]=f*(v*h(2*A[D]*5)/A[D])*e,0==D)c[D]=A[D]*(_[D]+S*d[D])-.5*P*g(F)+.5*M*e*g((F+I)/2)*d[D];else{var H=O[D-1]/1e3*e;c[D]=A[D]*(_[D]+S*d[D])-.5*P*g(F)+.5*M*e*g((F+H)/2)*d[D]}if(0==D){var T=y[D+1];s[D]=-c[D]*(R-T)/(P*P)}else if(o-1>D){var b=y[D-1],T=y[D+1];s[D]=c[D-1]*(b-R)/(P*P)-c[D]*(R-T)/(P*P)}else{var b=y[D-1];s[D]=c[D-1]*(b-R)/(P*P)}}for(var D=0;o>D;D++)y[D]+=(s[D]-n[D])/m[D];if(O[N]>0){var P=i[N].vs_LayerThickness,R=y[N];if(o-1>N){var x=O[N+1]/1e3*e,T=y[N+1];u+=x*R/P*1e4*P+c[N]*(R-T)/(P*P)*1e4*P}else{var x=i.vs_FluxAtLowerBoundary/1e3*e;u+=x*R/P*1e4*P}}else{var x=O[N]/1e3*e,P=i[N].vs_LayerThickness,R=y[N];if(o-1>N){var T=y[N+1];u+=x*T/(1e4*P*P)+c[N]*(R-T)/(P*P*1e4*P)}}},F=function(t){return S[t]},T=function(){return u},H=function(t){C=t},b=function(){C=null};return{step:D,fq_NDeposition:w,fq_NUptake:P,fq_NTransport:R,put_Crop:H,remove_Crop:b,get_SoilNO3:F,get_NLeaching:T}},qe=function(t,e,a){for(var i=e,r=a,o=new Ee,_=new Ee,s={sc:t,gl:o,bl:_,vs_nols:t.vs_NumberOfLayers(),at:function(t){return t<this.vs_nols?this[t]:t<this.vs_nols+1?this.gl:this.bl}},c=0;c<t.vs_NumberOfLayers();c++)s[c]=t[c];s[t.vs_NumberOfLayers()]=s.gl,s[t.vs_NumberOfLayers()+1]=s.bl;for(var p=t.vs_NumberOfLayers()+2,l=t.vs_NumberOfLayers(),u=new Array(p),g=new Array(p),f=new Array(p),v=new Array(p),d=new Array(p),m=new Array(p),S=new Array(p),y=new Array(p+1),M=new Array(p),O=new Array(p),C=new Array(p),N=.8,A=0,c=0;p>c;c++)u[c]=0,g[c]=0,f[c]=0,v[c]=0,d[c]=0,m[c]=0,S[c]=0,y[c]=0,M[c]=0,O[c]=0,C[c]=0;S[c+1]=0,te(n,"Constructor: SoilTemperature");for(var w=a.userSoilTemperatureParameters,P=w.pt_BaseTemperature,R=w.pt_InitialSurfaceTemperature,F=w.pt_NTau,T=r.userEnvironmentParameters.p_timeStep,H=w.pt_QuartzRawDensity,b=w.pt_SpecificHeatCapacityWater,I=w.pt_SpecificHeatCapacityQuartz,x=w.pt_SpecificHeatCapacityAir,L=w.pt_SpecificHeatCapacityHumus,B=w.pt_DensityWater,E=w.pt_DensityAir,k=w.pt_DensityHumus,G=w.pt_SoilMoisture,U=0;l>U;U++)g[U]=(1-U/l)*R+U/l*P,u[U]=G;f[0]=s[0].vs_LayerThickness,m[0]=2/s[0].vs_LayerThickness;var Y=p-2,V=p-1;s[Y].vs_LayerThickness=2*s[Y-1].vs_LayerThickness,s[V].vs_LayerThickness=1,g[Y]=.5*(g[Y-1]+P),g[V]=P;for(var W=s[0].vs_LayerThickness,U=1;p>U;U++){var q=s[U].vs_LayerThickness;m[U]=2/(q+W),f[U]=q*F,W=q}for(var U=0;l>U;U++){var K=s.at(U).vs_SoilBulkDensity(),z=u[U];M[U]=.001*(3*(K/1e3)-1.7)/(1+(11.5-5*(K/1e3))*h(-50*D(z/(K/1e3),1.5)))*86400*T*100*4.184;var j=b,J=I,X=x,Z=L,Q=B,$=H,ee=E,ae=k,ie=s[U].get_Saturation(),re=s.at(U).vs_SoilOrganicMatter()/ee*K;C[U]=z*Q*j+(ie-z)*ee*X+re*ae*Z+(1-ie-re)*$*J}C[Y]=C[Y-1],C[V]=C[Y],M[Y]=M[Y-1],M[V]=M[Y];var oe=R;O[0]=M[0];for(var U=1;p>U;U++){var ne=s.at(U-1).vs_LayerThickness,_e=s.at(U).vs_LayerThickness,se=M[U-1],ce=M[U];O[U]=(ne*se+_e*ce)/(_e+ne)}for(var U=0;p>U;U++)v[U]=f[U]*C[U],d[U]=v[U],y[U]=-m[U]*O[U];y[V+1]=0;for(var U=0;p>U;U++)S[U]=v[U]-y[U]-y[U+1];var pe=function(t,e,a){for(var i=p-2,r=p-1,o=new Array(p),n=new Array(p),_=new Array(p),c=0;p>c;c++)o[c]=0,n[c]=0,_[c]=0;A=le(t,e,a)*m[0]*O[0],o[0]=(d[0]+(v[0]-d[0])/s[0].vs_LayerThickness)*g[0]+A;for(var u=1;p>u;u++)o[u]=(d[u]+(v[u]-d[u])/s[u].vs_LayerThickness)*g[u];n[0]=S[0];for(var u=1;p>u;u++)_[u]=y[u]/n[u-1],n[u]=S[u]-_[u]*y[u];for(var u=1;p>u;u++)o[u]=o[u]-_[u]*o[u-1];o[r]=o[r]/n[r];for(var u=0;r>u;u++){var f=r-1-u,h=f+1;o[f]=o[f]/n[f]-_[h]*o[h]}for(var u=0;p>u;u++)g[u]=o[u];for(var u=0;l>u;u++)d[u]=v[u],s[u].set_Vs_SoilTemperature(g[u]);d[i]=v[i],d[r]=v[r]},le=function(t,e,a){var r=N,o=0;i.cropGrowth()&&(o=i.cropGrowth().soilCoverage()),r=.1+(o*N+(1-o)*(1-N));var n=oe;return 8.33>a&&(a=8.33),oe=(1-r)*(t+(e-t)*D(.03*a,.5))+r*n,0>oe&&(oe=.5*oe),oe},ue=function(){return oe},ge=function(t){return s[t].get_Vs_SoilTemperature()},fe=function(t){return M[t]},ve=function(t){0===arguments.length&&(t=.3);for(var e=0,a=0,i=0,r=0;l>r&&(i++,a+=s[r].get_Vs_SoilTemperature(),e+=s[r].vs_LayerThickness,!(e>=t));r++);return 1>i?0:a/i};return{step:pe,f_SoilSurfaceTemperature:le,get_SoilSurfaceTemperature:ue,get_SoilTemperature:ge,get_HeatConductivity:fe,get_AvgTopSoilTemperature:ve,getDampingFactor:function(){return N},setDampingFactor:function(t){N=t}}},Ke=function(t,e,a,c){function p(t,e,a){return t.hasOwnProperty(e)&&null!=t[e]?t[e]:a}function l(t,e,a,i){var r=!0,o=e.length,c=0;te(n,"Fetching "+o+" horizons.");for(var l=0;o>l;++l){var u=e[l],g=100*u.thickness,f=M(w(g/a));l==o-1&&M(t.length)+f<i&&(f+=i-t.length-f);for(var v=0;f>v;v++){if(c===i*a){te(_,"Maximum soil layer depth ("+i*a+" cm) reached. Remaining layers in horizon "+l+" ignored.");break}c+=a;var d=new ve;if(d.set_vs_SoilOrganicMatter(p(u,"organicMatter",-1)),d.set_vs_SoilOrganicCarbon(p(u,"Corg",-1)),d.vs_SoilSandContent=u.sand,d.vs_SoilClayContent=u.clay,d.vs_SoilStoneContent=u.sceleton,d.vs_SoilpH=u.pH,d.vs_SoilTexture=ce.texture2KA5(u.sand,u.clay),d.vs_Lambda=ce.texture2lambda(d.vs_SoilSandContent,d.vs_SoilClayContent),d.vs_SoilpH=p(u,"pH",6.9),u.hasOwnProperty("poreVolume")&&null!=u.poreVolume&&u.hasOwnProperty("fieldCapacity")&&null!=u.fieldCapacity&&u.hasOwnProperty("permanentWiltingPoint")&&null!=u.permanentWiltingPoint&&u.hasOwnProperty("bulkDensity")&&null!=u.bulkDensity)d.set_vs_SoilBulkDensity(u.bulkDensity),d.vs_FieldCapacity=u.fieldCapacity,d.vs_Saturation=u.poreVolume,d.vs_PermanentWiltingPoint=u.permanentWiltingPoint;else{var m=ce.saxton(u.sand,u.clay,d.vs_SoilOrganicMatter(),u.sceleton).saxton_86;d.set_vs_SoilBulkDensity(R(2,m.BD)),d.vs_FieldCapacity=R(2,m.FC),d.vs_Saturation=R(2,m.SAT),d.vs_PermanentWiltingPoint=R(2,m.PWP)}d.isValid()||(r=!1,te(s,"Error in soil parameters.")),t.push(d),te(n,"Fetched layer "+t.length+" in horizon "+l+".")}te(n,"Fetched horizon "+l+".")}return r}function u(t,e,a){var i=!0,r=e.crops,o=r.length;te(n,"Fetching "+o+" crops.");for(var _=0;o>_;_++){{var c=r[_],l="grassland"===c.model;l&&1===o&&(null===c.sowingDate||void 0===c.sowingDate)}if(l){var u=new Date(c.sowingDate?Date.parse(c.sowingDate):new Date(a).setDate(a.getDate()+1)),d=p(c,"harvestDates",[]);se(u),se(a)}else{var u=new Date(Date.parse(c.sowingDate)),m=new Date(Date.parse(c.finalHarvestDate));u.isValid()&&m.isValid()||(i=!1,te(s,"Invalid sowing or harvest date in "+c.species[0].name))}if(l){var S=new be(u,d,c.species,{plantDryWeight:c.plantDryWeight,autoIrrigationOn:c.autoIrrigationOn||!1});t[_]=new Re("grassland",S)}else{var h=new Te(c.species[0].name,c.options);h.setSeedAndHarvestDate(u,m),t[_]=new Re(c.species[0].name,h)}var y=c.tillageOperations;y&&(g(t[_],y)||(i=!1,te(s,"Error adding tillages.")));var M=c.mineralFertilisers;M&&(f(t[_],M,!1)||(i=!1,te(s,"Error adding mineral fertilisers.")));var O=c.organicFertilisers;O&&(f(t[_],O,!0)||(i=!1,te(s,"Error adding organic fertilisers.")));var C=c.irrigations;C&&(v(t[_],C)||(i=!1,te(s,"Error adding irrigations.")));var N=c.cuttings;N&&(addCuttings(t[_],N)||(i=!1,te(s,"Error adding cuttings."))),te(n,"Fetched crop "+_+": "+JSON.stringify(c.species,null,2))}return i}function g(t,e){var a=!0,i=e.length;te(n,"Fetching "+i+" tillages.");for(var r=0;i>r;++r){var o=e[r];if(null!==o.date&&null!==o.depth&&null!==o.method){{var c=new Date(Date.parse(o.date)),p=o.depth/100;o.method}c.isValid()||(a=!1,te(s,"Invalid tillage date in tillage no. "+r+".")),t.addApplication(new we(c,p)),te(n,"Fetched tillage "+r+".")}else te(_,"At least one tillage parameter null: tillage "+r+" ignored.")}return a}function f(t,e,a){var i=!0,r=e.length;te(n,"Fetching "+r+" "+(a?"organic":"mineral")+" fertilisers.");for(var o=0;r>o;++o){var c=e[o];if(null!==c.date&&null!==c.method&&null!==c.amount){var p=new Date(Date.parse(c.date)),l=(c.method,c.name),u=c.amount,g=c.carbamid,f=c.no3,v=c.nh4,d=c.dm;p.isValid()||(i=!1,te(s,"Invalid fertilization date in "+o+".")),t.addApplication(a?new De(p,new ye(l,g,f,v,d),u,!0):new Ae(p,new he(l,g,f,v),u)),te(n,"Fetched "+(a?"organic":"mineral")+" fertiliser "+o+".")}else te(_,"At least one fertiliser parameter null: "+(a?"organic":"mineral")+" fertiliser "+o+"ignored.")}return i}function v(t,e){var a=!0,i=e.length;te(n,"Fetching "+i+" irrigations.");for(var r=0;i>r;++r){var o=e[r];if(null!==o.date&&null!==o.method&&null!==o.eventType&&null!==o.threshold&&null!==o.amount&&null!==o.NConc){var c=(o.method,o.eventType,o.threshold,o.area,o.amount),p=o.NConc,l=new Date(Date.parse(o.date));l.isValid()||(a=!1,te(s,"Invalid irrigation date in "+r+".")),t.addApplication(new Pe(l,c,new le(p,0))),te(n,"Fetched irrigation "+r+".")}else te(_,"At least one irrigation parameter null: irrigation "+r+" ignored.")}return a}function d(t,e){var a=!0,i=[];i[$.TMIN]=new Float64Array(e.tmin),i[$.TMAX]=new Float64Array(e.tmax),i[$.TAVG]=new Float64Array(e.tavg),i[$.GLOBRAD]=new Float64Array(e.globrad),i[$.WIND]=new Float64Array(e.wind),i[$.PRECIP]=new Float64Array(e.precip),i[$.DAYLENGTH]=new Float64Array(e.daylength),i[$.F_DIRECTRAD]=new Float64Array(e.f_directrad),i[$.EXRAD]=new Float64Array(e.exrad),i[$.SUNHOURS]=new Float64Array(e.sunhours),i[$.RELHUMID]=new Float64Array(e.relhumid),i[$.DOY]=e.doy,i[$.ISODATESTRING]=e.date;var r=i[$.TMIN].length;for(var o in $)i[$[o]].length!=r&&(te(s,o+" length != "+r),a=!1);return a&&t.setData(i),a}function m(t,e,a,r){var o=[],_=null,s=null;if(!r)for(var c=0;h>c;c++){s=a[c];var p=s.isCropPlanted(),l=s.cropGrowth(),u=s.soilTemperature(),g=s.soilMoisture(),f=(s.soilOrganic(),s.soilColumn()),v=s.soilColumnNC(),d=s.soilTransport();_={date:{value:e,unit:"[date]"},CropName:{value:p?l.name():"",unit:"-"},WaterStress:{value:p?l.waterStress():0,unit:"[0;1]"},Transpiration:{value:p?l.transpiration():0,unit:"[mm]"},NitrogenStress:{value:p?l.nitrogenStress():0,unit:"[0;1]"},HeatStress:{value:p?l.heatStress():0,unit:"[0;1]"},OxygenStress:{value:p?l.oxygenStress():0,unit:"[0;1]"},DevelopmentalStage:{value:p?l.developmentalStage()+1:0,unit:"[#]"},CurrentTemperatureSum:{value:p?l.currentTemperatureSum():0,unit:"°C"},GrowthIncrementRoot:{value:p?l.growthIncrement(0):0,unit:"[kg (DM) ha-1]"},GrowthIncrementLeaf:{value:p?l.growthIncrement(1):0,unit:"[kg (DM) ha-1]"},GrowthIncrementShoot:{value:p?l.growthIncrement(2):0,unit:"[kg (DM) ha-1]"},GrowthIncrementFruit:{value:p?l.growthIncrement(3):0,unit:"[kg (DM) ha-1]"},RelativeTotalDevelopment:{value:p?l.relativeTotalDevelopment():0,unit:"[0;1]"},BiomassRoot:{value:p?l.biomass(0):0,unit:"[kg (DM) ha-1]"},BiomassLeaf:{value:p?l.biomass(1):0,unit:"[kg (DM) ha-1]"},BiomassShoot:{value:p?l.biomass(2):0,unit:"[kg (DM) ha-1]"},BiomassFruit:{value:p?l.biomass(3):0,unit:"[kg (DM) ha-1]"},PrimaryYieldDryMatter:{value:p?l.primaryYield():0,unit:"[kg (DM) ha-1]"},LeafAreaIndex:{value:p?l.leafAreaIndex():0,unit:"[m-2 m-2]"},NetPhotosynthesis:{value:p?l.netPhotosynthate():0,unit:"[kg (CH2O) ha-1 d-1]"},StomataResistance:{value:p?l.stomataResistance():0,unit:"[s m-1]"},CropHeight:{value:p?l.height():0,unit:"[m]"},RootingDepth:{value:p?l.rootingDepth():0,unit:"[layer #]"},ShootBiomass:{value:p?l.shootBiomass():0,unit:"[kg ha-1]"},AccumulatedNitrogenUptake:{value:p?l.accumulatedNitrogenUptake():0,unit:"[kg (N) m-2]"},NitrogenUptake:{value:p?l.nitrogenUptake():0,unit:"[kg (N)  m-2]"},PotentialNitrogenUptake:{value:p?l.potentialNitrogenUptake():0,unit:"[kg (N)  m-2]"},ShootBiomassNitrogenConcentration:{value:p?l.shootBiomassNitrogenConcentration():0,unit:"[kg (N) kg-1 (DM)]"},NetPrimaryProduction:{value:p?l.netPrimaryProduction():0,unit:"[kg (N) ha-1]"}};for(var m=20,S=0;m>S;S++)_["SoilMoisture_"+S]={value:g.get_SoilMoisture(S),unit:"[m-3 m-3]"};_.dailySumIrrigationWater={value:s.dailySumIrrigationWater(),unit:"[mm]"},_.Infiltration={value:g.get_Infiltration(),unit:"[mm]"},_.SurfaceWaterStorage={value:g.get_SurfaceWaterStorage(),unit:"[mm]"},_.SurfaceRunOff={value:g.get_SurfaceRunOff(),unit:"[mm]"},_.SnowDepth={value:g.get_SnowDepth(),unit:"[mm]"},_.FrostDepth={value:g.get_FrostDepth(),unit:"[mm]"},_.ThawDepth={value:g.get_ThawDepth(),unit:"[mm]"};for(var S=0;m>S;S++)_["PASW_"+S]={value:g.get_SoilMoisture(S)-v[S].get_PermanentWiltingPoint(),unit:"[m-3 m-3]"};_.SoilSurfaceTemperature={value:u.get_SoilSurfaceTemperature(),unit:"[°C]"};for(var S=0;5>S;S++)_["SoilTemperature_"+S]={value:u.get_SoilTemperature(S),unit:"[°C]"};_.ActualEvaporation={value:g.get_ActualEvaporation(),unit:"[mm]"},_.Evapotranspiration={value:g.get_Evapotranspiration(),unit:"[mm]"},_.ET0={value:g.get_ET0(),unit:"[mm]"},_.KcFactor={value:g.get_KcFactor(),unit:"[?]"},_.AtmosphericCO2Concentration={value:s.get_AtmosphericCO2Concentration(),unit:"[ppm]"},_.GroundwaterDepth={value:s.get_GroundwaterDepth(),unit:"[m]"},_.GroundwaterRecharge={value:g.get_GroundwaterRecharge(),unit:"[mm]"},_.NLeaching={value:d.get_NLeaching(),unit:"[kg (N) ha-1]"};for(var S=0;m>S;S++)_["SoilNO3_"+S]={value:f.soilLayer(S).get_SoilNO3(),unit:"[kg (N) m-3]"};
_.SoilCarbamid={value:f.soilLayer(0).get_SoilCarbamid(),unit:"[kg (N) m-3]"};for(var S=0;m>S;S++)_["SoilNH4_"+S]={value:f.soilLayer(S).get_SoilNH4(),unit:"[kg (N) m-3]"};for(var S=0;4>S;S++)_["SoilNO2_"+S]={value:f.soilLayer(S).get_SoilNO2(),unit:"[kg (N) m-3]"};for(var S=0;6>S;S++)_["SoilOrganicCarbon_"+S]={value:f.soilLayer(S).vs_SoilOrganicCarbon(),unit:"[kg (C) kg-1]"};o.push(_)}i?postMessage({results:o}):console.log(JSON.stringify(o,null,2)),r&&te(n,"done")}r=e===!0?!0:!1,o=a===!0?!0:!1,"function"==typeof c?c=[c]:Array.isArray(c)&&0!==c.length||(c=[m]);var S=null,h=0,y=function(e,a){var i=new Date(e.time.startDate),r=new Date(e.time.endDate),o=new Fe(i,r);if(!d(o,t,Date.parse(e.time.startDate),Date.parse(e.time.endDate)))return void te(s,"Error fetching weather data.");te(n,"Fetched weather data."),S=new Le(o),Array.isArray(a)||(a=[a]),h=a.length;for(var _=0,g=a.length;g>_;_++){te(n,"Fetching parameter for site "+_);{var f=a[_].site,v=a[_].production,m=new de,y=new fe,O=new ge;i.getFullYear(),r.getFullYear()}m.userInitValues.p_initPercentageFC=p(e.init,"percentageFC",m.userInitValues.p_initPercentageFC),m.userInitValues.p_initSoilNitrate=p(e.init,"soilNitrate",m.userInitValues.p_initSoilNitrate),m.userInitValues.p_initSoilAmmonium=p(e.init,"soilAmmonium",m.userInitValues.p_initSoilAmmonium),m.userEnvironmentParameters.p_UseSecondaryYields=p(e.switches,"useSecondaryYieldOn",m.userEnvironmentParameters.p_UseSecondaryYields),O.pc_NitrogenResponseOn=p(e.switches,"nitrogenResponseOn",O.pc_NitrogenResponseOn),O.pc_WaterDeficitResponseOn=p(e.switches,"waterDeficitResponseOn",O.pc_WaterDeficitResponseOn),O.pc_LowTemperatureStressResponseOn=p(e.switches,"lowTemperatureStressResponseOn",O.pc_LowTemperatureStressResponseOn),O.pc_HighTemperatureStressResponseOn=p(e.switches,"highTemperatureStressResponseOn",O.pc_HighTemperatureStressResponseOn),O.pc_EmergenceMoistureControlOn=p(e.switches,"emergenceMoistureControlOn",O.pc_EmergenceMoistureControlOn),O.pc_EmergenceFloodingControlOn=p(e.switches,"emergenceFloodingControlOn",O.pc_EmergenceFloodingControlOn),O.ps_MaxMineralisationDepth=.4,te(n,"Fetched simulation data."),y.vs_Latitude=f.latitude,y.vs_Slope=f.slope,y.vs_HeightNN=f.heightNN,y.vq_NDeposition=p(f,"NDeposition",y.vq_NDeposition),y.vs_Soil_CN_Ratio=10,y.vs_DrainageCoeff=-1,m.userEnvironmentParameters.p_AthmosphericCO2=p(f,"atmosphericCO2",m.userEnvironmentParameters.p_AthmosphericCO2),m.userEnvironmentParameters.p_MinGroundwaterDepth=p(f,"groundwaterDepthMin",m.userEnvironmentParameters.p_MinGroundwaterDepth),m.userEnvironmentParameters.p_MaxGroundwaterDepth=p(f,"groundwaterDepthMax",m.userEnvironmentParameters.p_MaxGroundwaterDepth),m.userEnvironmentParameters.p_MinGroundwaterDepthMonth=p(f,"groundwaterDepthMinMonth",m.userEnvironmentParameters.p_MinGroundwaterDepthMonth),m.userEnvironmentParameters.p_WindSpeedHeight=p(f,"windSpeedHeight",m.userEnvironmentParameters.p_WindSpeedHeight),m.userEnvironmentParameters.p_LeachingDepth=p(f,"leachingDepth",m.userEnvironmentParameters.p_LeachingDepth),te(n,"Fetched site data.");var C=100*m.userEnvironmentParameters.p_LayerThickness,N=200,A=M(N/C),D=[];if(!l(D,f.horizons,C,A))return void te(s,"Error fetching soil data.");te(n,"Fetched soil data.");var w=[];if(!u(w,v,i))return void te(s,"Error fetching crop data.");te(n,"Fetched crop data.");var P=new xe(D,m);P.general=O,P.site=y,P.cropRotation=w,S.push(new Be(P))}return te(n,"Start model run."),S.run(c)};return{run:y}};if(a){var ze=require("fs");exports.Configuration=Ke,exports.config=e}else if(i){crop.Configuration=Ke,crop.config=e;var ze=null;onmessage=function(t){if(t.data.hasOwnProperty("run")){var e=t.data.run,a=new Ke(null,e.weather,e.debug,callbacks);postMessage(a.run(e.sim,e.siteAndProd))}else postMessage(null)}}else{crop.Configuration=Ke,crop.config=e;var ze=null}}();